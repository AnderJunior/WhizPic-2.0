function Sw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cm={exports:{}},rl={},Tm={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),jw=Symbol.for("react.portal"),Ew=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),kw=Symbol.for("react.profiler"),Cw=Symbol.for("react.provider"),Tw=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),Aw=Symbol.for("react.suspense"),Pw=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),qh=Symbol.iterator;function Ow(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Am=Object.assign,Pm={};function ta(e,t,r){this.props=e,this.context=t,this.refs=Pm,this.updater=r||Rm}ta.prototype.isReactComponent={};ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Im(){}Im.prototype=ta.prototype;function ed(e,t,r){this.props=e,this.context=t,this.refs=Pm,this.updater=r||Rm}var td=ed.prototype=new Im;td.constructor=ed;Am(td,ta.prototype);td.isPureReactComponent=!0;var Gh=Array.isArray,Om=Object.prototype.hasOwnProperty,rd={current:null},Dm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Om.call(t,n)&&!Dm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:vo,type:e,key:a,ref:o,props:s,_owner:rd.current}}function Dw(e,t){return{$$typeof:vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===vo}function Lw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kh=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lw(""+e.key):t.toString(36)}function ri(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vo:case jw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ol(o,0):n,Gh(s)?(r="",e!=null&&(r=e.replace(Kh,"$&/")+"/"),ri(s,t,r,"",function(u){return u})):s!=null&&(nd(s)&&(s=Dw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Gh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ol(a,l);o+=ri(a,t,r,c,s)}else if(c=Ow(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ol(a,l++),o+=ri(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(e,t,r){if(e==null)return e;var n=[],s=0;return ri(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Mw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},ni={transition:null},$w={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:ni,ReactCurrentOwner:rd};function Mm(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ko,forEach:function(e,t,r){ko(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=ta;ie.Fragment=Ew;ie.Profiler=kw;ie.PureComponent=ed;ie.StrictMode=Nw;ie.Suspense=Aw;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;ie.act=Mm;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Am({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=rd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Om.call(t,c)&&!Dm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vo,type:e.type,key:s,ref:a,props:n,_owner:o}};ie.createContext=function(e){return e={$$typeof:Tw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cw,_context:e},e.Consumer=e};ie.createElement=Lm;ie.createFactory=function(e){var t=Lm.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Rw,render:e}};ie.isValidElement=nd;ie.lazy=function(e){return{$$typeof:Iw,_payload:{_status:-1,_result:e},_init:Mw}};ie.memo=function(e,t){return{$$typeof:Pw,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};ie.unstable_act=Mm;ie.useCallback=function(e,t){return ot.current.useCallback(e,t)};ie.useContext=function(e){return ot.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ot.current.useEffect(e,t)};ie.useId=function(){return ot.current.useId()};ie.useImperativeHandle=function(e,t,r){return ot.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ot.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return ot.current.useReducer(e,t,r)};ie.useRef=function(e){return ot.current.useRef(e)};ie.useState=function(e){return ot.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return ot.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return ot.current.useTransition()};ie.version="18.3.1";Tm.exports=ie;var v=Tm.exports;const P=km(v),$m=Sw({__proto__:null,default:P},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=v,Uw=Symbol.for("react.element"),Fw=Symbol.for("react.fragment"),zw=Object.prototype.hasOwnProperty,Ww=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vw={key:!0,ref:!0,__self:!0,__source:!0};function Bm(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zw.call(t,n)&&!Vw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Uw,type:e,key:a,ref:o,props:s,_owner:Ww.current}}rl.Fragment=Fw;rl.jsx=Bm;rl.jsxs=Bm;Cm.exports=rl;var i=Cm.exports,kc={},Um={exports:{}},Et={},Fm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var L=C.length;C.push(T);e:for(;0<L;){var J=L-1>>>1,z=C[J];if(0<s(z,T))C[J]=T,C[L]=z,L=J;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var T=C[0],L=C.pop();if(L!==T){C[0]=L;e:for(var J=0,z=C.length,le=z>>>1;J<le;){var ee=2*(J+1)-1,Se=C[ee],Oe=ee+1,D=C[Oe];if(0>s(Se,L))Oe<z&&0>s(D,Se)?(C[J]=D,C[Oe]=L,J=Oe):(C[J]=Se,C[ee]=L,J=ee);else if(Oe<z&&0>s(D,L))C[J]=D,C[Oe]=L,J=Oe;else break e}}return T}function s(C,T){var L=C.sortIndex-T.sortIndex;return L!==0?L:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=C)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(C){if(y=!1,x(C),!w)if(r(c)!==null)w=!0,$(S);else{var T=r(u);T!==null&&K(_,T.startTime-C)}}function S(C,T){w=!1,y&&(y=!1,g(N),N=-1),f=!0;var L=p;try{for(x(T),h=r(c);h!==null&&(!(h.expirationTime>T)||C&&!O());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var z=J(h.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?h.callback=z:h===r(c)&&n(c),x(T)}else n(c);h=r(c)}if(h!==null)var le=!0;else{var ee=r(u);ee!==null&&K(_,ee.startTime-T),le=!1}return le}finally{h=null,p=L,f=!1}}var E=!1,j=null,N=-1,k=5,R=-1;function O(){return!(e.unstable_now()-R<k)}function I(){if(j!==null){var C=e.unstable_now();R=C;var T=!0;try{T=j(!0,C)}finally{T?G():(E=!1,j=null)}}else E=!1}var G;if(typeof m=="function")G=function(){m(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,oe=q.port2;q.port1.onmessage=I,G=function(){oe.postMessage(null)}}else G=function(){b(I,0)};function $(C){j=C,E||(E=!0,G())}function K(C,T){N=b(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||f||(w=!0,$(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var L=p;p=T;try{return C()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=p;p=C;try{return T()}finally{p=L}},e.unstable_scheduleCallback=function(C,T,L){var J=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?J+L:J):L=J,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,C={id:d++,callback:T,priorityLevel:C,startTime:L,expirationTime:z,sortIndex:-1},L>J?(C.sortIndex=L,t(u,C),r(c)===null&&C===r(u)&&(y?(g(N),N=-1):y=!0,K(_,L-J))):(C.sortIndex=z,t(c,C),w||f||(w=!0,$(S))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var T=p;return function(){var L=p;p=T;try{return C.apply(this,arguments)}finally{p=L}}}})(zm);Fm.exports=zm;var Hw=Fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=v,jt=Hw;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wm=new Set,Wa={};function ss(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(Wa[e]=t,e=0;e<t.length;e++)Wm.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=Object.prototype.hasOwnProperty,Gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jh={},Yh={};function Kw(e){return Cc.call(Yh,e)?!0:Cc.call(Jh,e)?!1:Gw.test(e)?Yh[e]=!0:(Jh[e]=!0,!1)}function Jw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yw(e,t,r,n){if(t===null||typeof t>"u"||Jw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function ad(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sd,ad);Qe[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sd,ad);Qe[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sd,ad);Qe[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function od(e,t,r,n){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yw(t,r,s,n)&&(r=null),n||s===null?Kw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dr=qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Ss=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),id=Symbol.for("react.strict_mode"),Tc=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Ac=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),Qh=Symbol.iterator;function pa(e){return e===null||typeof e!="object"?null:(e=Qh&&e[Qh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Dl;function Ea(e){if(Dl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var Ll=!1;function Ml(e,t){if(!e||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ea(e):""}function Qw(e){switch(e.tag){case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function Pc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case Ss:return"Portal";case Tc:return"Profiler";case id:return"StrictMode";case Rc:return"Suspense";case Ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hm:return(e.displayName||"Context")+".Consumer";case Vm:return(e._context.displayName||"Context")+".Provider";case ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:Pc(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return Pc(e(t))}catch{}}return null}function Xw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pc(t);case 8:return t===id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zw(e){var t=Gm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){e._valueTracker||(e._valueTracker=Zw(e))}function Km(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ic(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jm(e,t){t=t.checked,t!=null&&od(e,"checked",t,!1)}function Oc(e,t){Jm(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dc(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dc(e,t,r){(t!=="number"||yi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Na=Array.isArray;function Ls(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ef(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Na(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function Ym(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,Xm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Va(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(e){eb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Aa[t]=Aa[e]})});function Zm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Aa.hasOwnProperty(e)&&Aa[e]?(""+t).trim():t+"px"}function eg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Zm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var tb=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(e,t){if(t){if(tb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Bc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fc=null,Ms=null,$s=null;function rf(e){if(e=wo(e)){if(typeof Fc!="function")throw Error(A(280));var t=e.stateNode;t&&(t=il(t),Fc(e.stateNode,e.type,t))}}function tg(e){Ms?$s?$s.push(e):$s=[e]:Ms=e}function rg(){if(Ms){var e=Ms,t=$s;if($s=Ms=null,rf(e),t)for(e=0;e<t.length;e++)rf(t[e])}}function ng(e,t){return e(t)}function sg(){}var $l=!1;function ag(e,t,r){if($l)return e(t,r);$l=!0;try{return ng(e,t,r)}finally{$l=!1,(Ms!==null||$s!==null)&&(sg(),rg())}}function Ha(e,t){var r=e.stateNode;if(r===null)return null;var n=il(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var zc=!1;if(Tr)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){zc=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{zc=!1}function rb(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Pa=!1,xi=null,wi=!1,Wc=null,nb={onError:function(e){Pa=!0,xi=e}};function sb(e,t,r,n,s,a,o,l,c){Pa=!1,xi=null,rb.apply(nb,arguments)}function ab(e,t,r,n,s,a,o,l,c){if(sb.apply(this,arguments),Pa){if(Pa){var u=xi;Pa=!1,xi=null}else throw Error(A(198));wi||(wi=!0,Wc=u)}}function as(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nf(e){if(as(e)!==e)throw Error(A(188))}function ob(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return nf(s),e;if(a===n)return nf(s),t;a=a.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function ig(e){return e=ob(e),e!==null?lg(e):null}function lg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lg(e);if(t!==null)return t;e=e.sibling}return null}var cg=jt.unstable_scheduleCallback,sf=jt.unstable_cancelCallback,ib=jt.unstable_shouldYield,lb=jt.unstable_requestPaint,$e=jt.unstable_now,cb=jt.unstable_getCurrentPriorityLevel,dd=jt.unstable_ImmediatePriority,ug=jt.unstable_UserBlockingPriority,bi=jt.unstable_NormalPriority,ub=jt.unstable_LowPriority,dg=jt.unstable_IdlePriority,nl=null,fr=null;function db(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:pb,hb=Math.log,fb=Math.LN2;function pb(e){return e>>>=0,e===0?32:31-(hb(e)/fb|0)|0}var Ao=64,Po=4194304;function ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ka(l):(a&=o,a!==0&&(n=ka(a)))}else o=r&~s,o!==0?n=ka(o):a!==0&&(n=ka(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),s=1<<r,n|=e[r],t&=~s;return n}function mb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Zt(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=mb(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hg(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function Bl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function vb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function hd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ve=0;function fg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pg,fd,mg,gg,vg,Hc=!1,Io=[],an=null,on=null,ln=null,qa=new Map,Ga=new Map,Xr=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function ga(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=wo(t),t!==null&&fd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xb(e,t,r,n,s){switch(t){case"focusin":return an=ga(an,e,t,r,n,s),!0;case"dragenter":return on=ga(on,e,t,r,n,s),!0;case"mouseover":return ln=ga(ln,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return qa.set(a,ga(qa.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ga.set(a,ga(Ga.get(a)||null,e,t,r,n,s)),!0}return!1}function yg(e){var t=zn(e.target);if(t!==null){var r=as(t);if(r!==null){if(t=r.tag,t===13){if(t=og(r),t!==null){e.blockedOn=t,vg(e.priority,function(){mg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uc=n,r.target.dispatchEvent(n),Uc=null}else return t=wo(r),t!==null&&fd(t),e.blockedOn=r,!1;t.shift()}return!0}function of(e,t,r){si(e)&&r.delete(t)}function wb(){Hc=!1,an!==null&&si(an)&&(an=null),on!==null&&si(on)&&(on=null),ln!==null&&si(ln)&&(ln=null),qa.forEach(of),Ga.forEach(of)}function va(e,t){e.blockedOn===t&&(e.blockedOn=null,Hc||(Hc=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,wb)))}function Ka(e){function t(s){return va(s,e)}if(0<Io.length){va(Io[0],e);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===e&&(n.blockedOn=null)}}for(an!==null&&va(an,e),on!==null&&va(on,e),ln!==null&&va(ln,e),qa.forEach(t),Ga.forEach(t),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)yg(r),r.blockedOn===null&&Xr.shift()}var Bs=Dr.ReactCurrentBatchConfig,Si=!0;function bb(e,t,r,n){var s=ve,a=Bs.transition;Bs.transition=null;try{ve=1,pd(e,t,r,n)}finally{ve=s,Bs.transition=a}}function _b(e,t,r,n){var s=ve,a=Bs.transition;Bs.transition=null;try{ve=4,pd(e,t,r,n)}finally{ve=s,Bs.transition=a}}function pd(e,t,r,n){if(Si){var s=qc(e,t,r,n);if(s===null)Jl(e,t,n,ji,r),af(e,n);else if(xb(s,e,t,r,n))n.stopPropagation();else if(af(e,n),t&4&&-1<yb.indexOf(e)){for(;s!==null;){var a=wo(s);if(a!==null&&pg(a),a=qc(e,t,r,n),a===null&&Jl(e,t,n,ji,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Jl(e,t,n,null,r)}}var ji=null;function qc(e,t,r,n){if(ji=null,e=ud(n),e=zn(e),e!==null)if(t=as(e),t===null)e=null;else if(r=t.tag,r===13){if(e=og(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function xg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cb()){case dd:return 1;case ug:return 4;case bi:case ub:return 16;case dg:return 536870912;default:return 16}default:return 16}}var tn=null,md=null,ai=null;function wg(){if(ai)return ai;var e,t=md,r=t.length,n,s="value"in tn?tn.value:tn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return ai=s.slice(e,1<n?1-n:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function lf(){return!1}function Nt(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Oo:lf,this.isPropagationStopped=lf,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=Nt(ra),xo=Pe({},ra,{view:0,detail:0}),Sb=Nt(xo),Ul,Fl,ya,sl=Pe({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(Ul=e.screenX-ya.screenX,Fl=e.screenY-ya.screenY):Fl=Ul=0,ya=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),cf=Nt(sl),jb=Pe({},sl,{dataTransfer:0}),Eb=Nt(jb),Nb=Pe({},xo,{relatedTarget:0}),zl=Nt(Nb),kb=Pe({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=Nt(kb),Tb=Pe({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rb=Nt(Tb),Ab=Pe({},ra,{data:0}),uf=Nt(Ab),Pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Db(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ob[e])?!!t[e]:!1}function vd(){return Db}var Lb=Pe({},xo,{key:function(e){if(e.key){var t=Pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ib[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mb=Nt(Lb),$b=Pe({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=Nt($b),Bb=Pe({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),Ub=Nt(Bb),Fb=Pe({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=Nt(Fb),Wb=Pe({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=Nt(Wb),Hb=[9,13,27,32],yd=Tr&&"CompositionEvent"in window,Ia=null;Tr&&"documentMode"in document&&(Ia=document.documentMode);var qb=Tr&&"TextEvent"in window&&!Ia,bg=Tr&&(!yd||Ia&&8<Ia&&11>=Ia),hf=" ",ff=!1;function _g(e,t){switch(e){case"keyup":return Hb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function Gb(e,t){switch(e){case"compositionend":return Sg(t);case"keypress":return t.which!==32?null:(ff=!0,hf);case"textInput":return e=t.data,e===hf&&ff?null:e;default:return null}}function Kb(e,t){if(Es)return e==="compositionend"||!yd&&_g(e,t)?(e=wg(),ai=md=tn=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bg&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function jg(e,t,r,n){tg(n),t=Ei(t,"onChange"),0<t.length&&(r=new gd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Oa=null,Ja=null;function Yb(e){Dg(e,0)}function al(e){var t=Cs(e);if(Km(t))return e}function Qb(e,t){if(e==="change")return t}var Eg=!1;if(Tr){var Wl;if(Tr){var Vl="oninput"in document;if(!Vl){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Vl=typeof mf.oninput=="function"}Wl=Vl}else Wl=!1;Eg=Wl&&(!document.documentMode||9<document.documentMode)}function gf(){Oa&&(Oa.detachEvent("onpropertychange",Ng),Ja=Oa=null)}function Ng(e){if(e.propertyName==="value"&&al(Ja)){var t=[];jg(t,Ja,e,ud(e)),ag(Yb,t)}}function Xb(e,t,r){e==="focusin"?(gf(),Oa=t,Ja=r,Oa.attachEvent("onpropertychange",Ng)):e==="focusout"&&gf()}function Zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Ja)}function e1(e,t){if(e==="click")return al(t)}function t1(e,t){if(e==="input"||e==="change")return al(t)}function r1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:r1;function Ya(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cc.call(t,s)||!tr(e[s],t[s]))return!1}return!0}function vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yf(e,t){var r=vf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vf(r)}}function kg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cg(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yi(e.document)}return t}function xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n1(e){var t=Cg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kg(r.ownerDocument.documentElement,r)){if(n!==null&&xd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=yf(r,a);var o=yf(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s1=Tr&&"documentMode"in document&&11>=document.documentMode,Ns=null,Gc=null,Da=null,Kc=!1;function xf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kc||Ns==null||Ns!==yi(n)||(n=Ns,"selectionStart"in n&&xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Da&&Ya(Da,n)||(Da=n,n=Ei(Gc,"onSelect"),0<n.length&&(t=new gd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ns)))}function Do(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ks={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Hl={},Tg={};Tr&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ol(e){if(Hl[e])return Hl[e];if(!ks[e])return e;var t=ks[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tg)return Hl[e]=t[r];return e}var Rg=ol("animationend"),Ag=ol("animationiteration"),Pg=ol("animationstart"),Ig=ol("transitionend"),Og=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){Og.set(e,t),ss(t,[e])}for(var ql=0;ql<wf.length;ql++){var Gl=wf[ql],a1=Gl.toLowerCase(),o1=Gl[0].toUpperCase()+Gl.slice(1);bn(a1,"on"+o1)}bn(Rg,"onAnimationEnd");bn(Ag,"onAnimationIteration");bn(Pg,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(Ig,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function bf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ab(n,t,void 0,e),e.currentTarget=null}function Dg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;bf(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;bf(s,l,u),a=c}}}if(wi)throw e=Wc,wi=!1,Wc=null,e}function Ee(e,t){var r=t[Zc];r===void 0&&(r=t[Zc]=new Set);var n=e+"__bubble";r.has(n)||(Lg(t,e,2,!1),r.add(n))}function Kl(e,t,r){var n=0;t&&(n|=4),Lg(r,e,n,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Qa(e){if(!e[Lo]){e[Lo]=!0,Wm.forEach(function(r){r!=="selectionchange"&&(i1.has(r)||Kl(r,!1,e),Kl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,Kl("selectionchange",!1,t))}}function Lg(e,t,r,n){switch(xg(t)){case 1:var s=bb;break;case 4:s=_b;break;default:s=pd}r=s.bind(null,t,r,e),s=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jl(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}ag(function(){var u=a,d=ud(r),h=[];e:{var p=Og.get(e);if(p!==void 0){var f=gd,w=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":f=Mb;break;case"focusin":w="focus",f=zl;break;case"focusout":w="blur",f=zl;break;case"beforeblur":case"afterblur":f=zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ub;break;case Rg:case Ag:case Pg:f=Cb;break;case Ig:f=zb;break;case"scroll":f=Sb;break;case"wheel":f=Vb;break;case"copy":case"cut":case"paste":f=Rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=df}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var m=u,x;m!==null;){x=m;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,g!==null&&(_=Ha(m,g),_!=null&&y.push(Xa(m,_,x)))),b)break;m=m.return}0<y.length&&(p=new f(p,w,null,r,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Uc&&(w=r.relatedTarget||r.fromElement)&&(zn(w)||w[Rr]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(w=r.relatedTarget||r.toElement,f=u,w=w?zn(w):null,w!==null&&(b=as(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=u),f!==w)){if(y=cf,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=df,_="onPointerLeave",g="onPointerEnter",m="pointer"),b=f==null?p:Cs(f),x=w==null?p:Cs(w),p=new y(_,m+"leave",f,r,d),p.target=b,p.relatedTarget=x,_=null,zn(d)===u&&(y=new y(g,m+"enter",w,r,d),y.target=x,y.relatedTarget=b,_=y),b=_,f&&w)t:{for(y=f,g=w,m=0,x=y;x;x=us(x))m++;for(x=0,_=g;_;_=us(_))x++;for(;0<m-x;)y=us(y),m--;for(;0<x-m;)g=us(g),x--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=us(y),g=us(g)}y=null}else y=null;f!==null&&_f(h,p,f,y,!1),w!==null&&b!==null&&_f(h,b,w,y,!0)}}e:{if(p=u?Cs(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=Qb;else if(pf(p))if(Eg)S=t1;else{S=Zb;var E=Xb}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=e1);if(S&&(S=S(e,u))){jg(h,S,r,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Dc(p,"number",p.value)}switch(E=u?Cs(u):window,e){case"focusin":(pf(E)||E.contentEditable==="true")&&(Ns=E,Gc=u,Da=null);break;case"focusout":Da=Gc=Ns=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,xf(h,r,d);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":xf(h,r,d)}var j;if(yd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Es?_g(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(bg&&r.locale!=="ko"&&(Es||N!=="onCompositionStart"?N==="onCompositionEnd"&&Es&&(j=wg()):(tn=d,md="value"in tn?tn.value:tn.textContent,Es=!0)),E=Ei(u,N),0<E.length&&(N=new uf(N,e,null,r,d),h.push({event:N,listeners:E}),j?N.data=j:(j=Sg(r),j!==null&&(N.data=j)))),(j=qb?Gb(e,r):Kb(e,r))&&(u=Ei(u,"onBeforeInput"),0<u.length&&(d=new uf("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Dg(h,t)})}function Xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ei(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ha(e,r),a!=null&&n.unshift(Xa(e,a,s)),a=Ha(e,t),a!=null&&n.push(Xa(e,a,s))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _f(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ha(r,a),c!=null&&o.unshift(Xa(r,c,l))):s||(c=Ha(r,a),c!=null&&o.push(Xa(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var l1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function Sf(e){return(typeof e=="string"?e:""+e).replace(l1,`
`).replace(c1,"")}function Mo(e,t,r){if(t=Sf(t),Sf(e)!==t&&r)throw Error(A(425))}function Ni(){}var Jc=null,Yc=null;function Qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(h1)}:Xc;function h1(e){setTimeout(function(){throw e})}function Yl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ka(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ka(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var na=Math.random().toString(36).slice(2),cr="__reactFiber$"+na,Za="__reactProps$"+na,Rr="__reactContainer$"+na,Zc="__reactEvents$"+na,f1="__reactListeners$"+na,p1="__reactHandles$"+na;function zn(e){var t=e[cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rr]||r[cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ef(e);e!==null;){if(r=e[cr])return r;e=Ef(e)}return t}e=r,r=e.parentNode}return null}function wo(e){return e=e[cr]||e[Rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function il(e){return e[Za]||null}var eu=[],Ts=-1;function _n(e){return{current:e}}function Ne(e){0>Ts||(e.current=eu[Ts],eu[Ts]=null,Ts--)}function _e(e,t){Ts++,eu[Ts]=e.current,e.current=t}var yn={},nt=_n(yn),ft=_n(!1),Jn=yn;function Gs(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function ki(){Ne(ft),Ne(nt)}function Nf(e,t,r){if(nt.current!==yn)throw Error(A(168));_e(nt,t),_e(ft,r)}function Mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,Xw(e)||"Unknown",s));return Pe({},r,n)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Jn=nt.current,_e(nt,e),_e(ft,ft.current),!0}function kf(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Mg(e,t,Jn),n.__reactInternalMemoizedMergedChildContext=e,Ne(ft),Ne(nt),_e(nt,e)):Ne(ft),_e(ft,r)}var jr=null,ll=!1,Ql=!1;function $g(e){jr===null?jr=[e]:jr.push(e)}function m1(e){ll=!0,$g(e)}function Sn(){if(!Ql&&jr!==null){Ql=!0;var e=0,t=ve;try{var r=jr;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jr=null,ll=!1}catch(s){throw jr!==null&&(jr=jr.slice(e+1)),cg(dd,Sn),s}finally{ve=t,Ql=!1}}return null}var Rs=[],As=0,Ti=null,Ri=0,Rt=[],At=0,Yn=null,Er=1,Nr="";function Mn(e,t){Rs[As++]=Ri,Rs[As++]=Ti,Ti=e,Ri=t}function Bg(e,t,r){Rt[At++]=Er,Rt[At++]=Nr,Rt[At++]=Yn,Yn=e;var n=Er;e=Nr;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var a=32-Zt(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Er=1<<32-Zt(t)+s|r<<s|n,Nr=a+e}else Er=1<<a|r<<s|n,Nr=e}function wd(e){e.return!==null&&(Mn(e,1),Bg(e,1,0))}function bd(e){for(;e===Ti;)Ti=Rs[--As],Rs[As]=null,Ri=Rs[--As],Rs[As]=null;for(;e===Yn;)Yn=Rt[--At],Rt[At]=null,Nr=Rt[--At],Rt[At]=null,Er=Rt[--At],Rt[At]=null}var _t=null,bt=null,Ce=!1,Yt=null;function Ug(e,t){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,bt=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yn!==null?{id:Er,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_t=e,bt=null,!0):!1;default:return!1}}function tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ru(e){if(Ce){var t=bt;if(t){var r=t;if(!Cf(e,t)){if(tu(e))throw Error(A(418));t=cn(r.nextSibling);var n=_t;t&&Cf(e,t)?Ug(n,r):(e.flags=e.flags&-4097|2,Ce=!1,_t=e)}}else{if(tu(e))throw Error(A(418));e.flags=e.flags&-4097|2,Ce=!1,_t=e}}}function Tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function $o(e){if(e!==_t)return!1;if(!Ce)return Tf(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qc(e.type,e.memoizedProps)),t&&(t=bt)){if(tu(e))throw Fg(),Error(A(418));for(;t;)Ug(e,t),t=cn(t.nextSibling)}if(Tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bt=cn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=_t?cn(e.stateNode.nextSibling):null;return!0}function Fg(){for(var e=bt;e;)e=cn(e.nextSibling)}function Ks(){bt=_t=null,Ce=!1}function _d(e){Yt===null?Yt=[e]:Yt.push(e)}var g1=Dr.ReactCurrentBatchConfig;function xa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rf(e){var t=e._init;return t(e._payload)}function zg(e){function t(g,m){if(e){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=fn(g,m),g.index=0,g.sibling=null,g}function a(g,m,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,x,_){return m===null||m.tag!==6?(m=sc(x,g.mode,_),m.return=g,m):(m=s(m,x),m.return=g,m)}function c(g,m,x,_){var S=x.type;return S===js?d(g,m,x.props.children,_,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jr&&Rf(S)===m.type)?(_=s(m,x.props),_.ref=xa(g,m,x),_.return=g,_):(_=fi(x.type,x.key,x.props,null,g.mode,_),_.ref=xa(g,m,x),_.return=g,_)}function u(g,m,x,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=ac(x,g.mode,_),m.return=g,m):(m=s(m,x.children||[]),m.return=g,m)}function d(g,m,x,_,S){return m===null||m.tag!==7?(m=Gn(x,g.mode,_,S),m.return=g,m):(m=s(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sc(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Co:return x=fi(m.type,m.key,m.props,null,g.mode,x),x.ref=xa(g,null,m),x.return=g,x;case Ss:return m=ac(m,g.mode,x),m.return=g,m;case Jr:var _=m._init;return h(g,_(m._payload),x)}if(Na(m)||pa(m))return m=Gn(m,g.mode,x,null),m.return=g,m;Bo(g,m)}return null}function p(g,m,x,_){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(g,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return x.key===S?c(g,m,x,_):null;case Ss:return x.key===S?u(g,m,x,_):null;case Jr:return S=x._init,p(g,m,S(x._payload),_)}if(Na(x)||pa(x))return S!==null?null:d(g,m,x,_,null);Bo(g,x)}return null}function f(g,m,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(x)||null,l(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Co:return g=g.get(_.key===null?x:_.key)||null,c(m,g,_,S);case Ss:return g=g.get(_.key===null?x:_.key)||null,u(m,g,_,S);case Jr:var E=_._init;return f(g,m,x,E(_._payload),S)}if(Na(_)||pa(_))return g=g.get(x)||null,d(m,g,_,S,null);Bo(m,_)}return null}function w(g,m,x,_){for(var S=null,E=null,j=m,N=m=0,k=null;j!==null&&N<x.length;N++){j.index>N?(k=j,j=null):k=j.sibling;var R=p(g,j,x[N],_);if(R===null){j===null&&(j=k);break}e&&j&&R.alternate===null&&t(g,j),m=a(R,m,N),E===null?S=R:E.sibling=R,E=R,j=k}if(N===x.length)return r(g,j),Ce&&Mn(g,N),S;if(j===null){for(;N<x.length;N++)j=h(g,x[N],_),j!==null&&(m=a(j,m,N),E===null?S=j:E.sibling=j,E=j);return Ce&&Mn(g,N),S}for(j=n(g,j);N<x.length;N++)k=f(j,g,N,x[N],_),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?N:k.key),m=a(k,m,N),E===null?S=k:E.sibling=k,E=k);return e&&j.forEach(function(O){return t(g,O)}),Ce&&Mn(g,N),S}function y(g,m,x,_){var S=pa(x);if(typeof S!="function")throw Error(A(150));if(x=S.call(x),x==null)throw Error(A(151));for(var E=S=null,j=m,N=m=0,k=null,R=x.next();j!==null&&!R.done;N++,R=x.next()){j.index>N?(k=j,j=null):k=j.sibling;var O=p(g,j,R.value,_);if(O===null){j===null&&(j=k);break}e&&j&&O.alternate===null&&t(g,j),m=a(O,m,N),E===null?S=O:E.sibling=O,E=O,j=k}if(R.done)return r(g,j),Ce&&Mn(g,N),S;if(j===null){for(;!R.done;N++,R=x.next())R=h(g,R.value,_),R!==null&&(m=a(R,m,N),E===null?S=R:E.sibling=R,E=R);return Ce&&Mn(g,N),S}for(j=n(g,j);!R.done;N++,R=x.next())R=f(j,g,N,R.value,_),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?N:R.key),m=a(R,m,N),E===null?S=R:E.sibling=R,E=R);return e&&j.forEach(function(I){return t(g,I)}),Ce&&Mn(g,N),S}function b(g,m,x,_){if(typeof x=="object"&&x!==null&&x.type===js&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:e:{for(var S=x.key,E=m;E!==null;){if(E.key===S){if(S=x.type,S===js){if(E.tag===7){r(g,E.sibling),m=s(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jr&&Rf(S)===E.type){r(g,E.sibling),m=s(E,x.props),m.ref=xa(g,E,x),m.return=g,g=m;break e}r(g,E);break}else t(g,E);E=E.sibling}x.type===js?(m=Gn(x.props.children,g.mode,_,x.key),m.return=g,g=m):(_=fi(x.type,x.key,x.props,null,g.mode,_),_.ref=xa(g,m,x),_.return=g,g=_)}return o(g);case Ss:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(g,m.sibling),m=s(m,x.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=ac(x,g.mode,_),m.return=g,g=m}return o(g);case Jr:return E=x._init,b(g,m,E(x._payload),_)}if(Na(x))return w(g,m,x,_);if(pa(x))return y(g,m,x,_);Bo(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,x),m.return=g,g=m):(r(g,m),m=sc(x,g.mode,_),m.return=g,g=m),o(g)):r(g,m)}return b}var Js=zg(!0),Wg=zg(!1),Ai=_n(null),Pi=null,Ps=null,Sd=null;function jd(){Sd=Ps=Pi=null}function Ed(e){var t=Ai.current;Ne(Ai),e._currentValue=t}function nu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Us(e,t){Pi=e,Sd=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Sd!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(Pi===null)throw Error(A(308));Ps=e,Pi.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Wn=null;function Nd(e){Wn===null?Wn=[e]:Wn.push(e)}function Vg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Nd(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ar(e,n)}function Ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yr=!1;function kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ar(e,r)}return s=n.interleaved,s===null?(t.next=t,Nd(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ar(e,r)}function ii(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hd(e,r)}}function Af(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ii(e,t,r,n){var s=e.updateQueue;Yr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(p=t,f=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(f,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(f,h,p):w,p==null)break e;h=Pe({},h,p);break e;case 2:Yr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Xn|=o,e.lanes=o,e.memoizedState=h}}function Pf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var bo={},pr=_n(bo),eo=_n(bo),to=_n(bo);function Vn(e){if(e===bo)throw Error(A(174));return e}function Cd(e,t){switch(_e(to,t),_e(eo,e),_e(pr,bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mc(t,e)}Ne(pr),_e(pr,t)}function Ys(){Ne(pr),Ne(eo),Ne(to)}function qg(e){Vn(to.current);var t=Vn(pr.current),r=Mc(t,e.type);t!==r&&(_e(eo,e),_e(pr,r))}function Td(e){eo.current===e&&(Ne(pr),Ne(eo))}var Re=_n(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function Rd(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var li=Dr.ReactCurrentDispatcher,Zl=Dr.ReactCurrentBatchConfig,Qn=0,Ae=null,We=null,He=null,Di=!1,La=!1,ro=0,v1=0;function et(){throw Error(A(321))}function Ad(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tr(e[r],t[r]))return!1;return!0}function Pd(e,t,r,n,s,a){if(Qn=a,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?b1:_1,e=r(n,s),La){a=0;do{if(La=!1,ro=0,25<=a)throw Error(A(301));a+=1,He=We=null,t.updateQueue=null,li.current=S1,e=r(n,s)}while(La)}if(li.current=Li,t=We!==null&&We.next!==null,Qn=0,He=We=Ae=null,Di=!1,t)throw Error(A(300));return e}function Id(){var e=ro!==0;return ro=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=e:He=He.next=e,He}function Mt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=He===null?Ae.memoizedState:He.next;if(t!==null)He=t,We=e;else{if(e===null)throw Error(A(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},He===null?Ae.memoizedState=He=e:He=He.next=e}return He}function no(e,t){return typeof t=="function"?t(e):t}function ec(e){var t=Mt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=We,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ae.lanes|=d,Xn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,tr(n,t.memoizedState)||(ht=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ae.lanes|=a,Xn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tc(e){var t=Mt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);tr(a,t.memoizedState)||(ht=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Gg(){}function Kg(e,t){var r=Ae,n=Mt(),s=t(),a=!tr(n.memoizedState,s);if(a&&(n.memoizedState=s,ht=!0),n=n.queue,Od(Qg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,so(9,Yg.bind(null,r,n,s,t),void 0,null),qe===null)throw Error(A(349));Qn&30||Jg(r,t,s)}return s}function Jg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yg(e,t,r,n){t.value=r,t.getSnapshot=n,Xg(t)&&Zg(e)}function Qg(e,t,r){return r(function(){Xg(t)&&Zg(e)})}function Xg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tr(e,r)}catch{return!0}}function Zg(e){var t=Ar(e,1);t!==null&&er(t,e,1,-1)}function If(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:e},t.queue=e,e=e.dispatch=w1.bind(null,Ae,e),[t.memoizedState,e]}function so(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ev(){return Mt().memoizedState}function ci(e,t,r,n){var s=lr();Ae.flags|=e,s.memoizedState=so(1|t,r,void 0,n===void 0?null:n)}function cl(e,t,r,n){var s=Mt();n=n===void 0?null:n;var a=void 0;if(We!==null){var o=We.memoizedState;if(a=o.destroy,n!==null&&Ad(n,o.deps)){s.memoizedState=so(t,r,a,n);return}}Ae.flags|=e,s.memoizedState=so(1|t,r,a,n)}function Of(e,t){return ci(8390656,8,e,t)}function Od(e,t){return cl(2048,8,e,t)}function tv(e,t){return cl(4,2,e,t)}function rv(e,t){return cl(4,4,e,t)}function nv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sv(e,t,r){return r=r!=null?r.concat([e]):null,cl(4,4,nv.bind(null,t,e),r)}function Dd(){}function av(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ad(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ov(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ad(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function iv(e,t,r){return Qn&21?(tr(r,t)||(r=hg(),Ae.lanes|=r,Xn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r)}function y1(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=Zl.transition;Zl.transition={};try{e(!1),t()}finally{ve=r,Zl.transition=n}}function lv(){return Mt().memoizedState}function x1(e,t,r){var n=hn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cv(e))uv(t,r);else if(r=Vg(e,t,r,n),r!==null){var s=at();er(r,e,n,s),dv(r,t,n)}}function w1(e,t,r){var n=hn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cv(e))uv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,tr(l,o)){var c=t.interleaved;c===null?(s.next=s,Nd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Vg(e,t,s,n),r!==null&&(s=at(),er(r,e,n,s),dv(r,t,n))}}function cv(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function uv(e,t){La=Di=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hd(e,r)}}var Li={readContext:Lt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},b1={readContext:Lt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Of,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ci(4194308,4,nv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return ci(4,2,e,t)},useMemo:function(e,t){var r=lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x1.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:Dd,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=y1.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=lr();if(Ce){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),qe===null)throw Error(A(349));Qn&30||Jg(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Of(Qg.bind(null,n,a,e),[e]),n.flags|=2048,so(9,Yg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=lr(),t=qe.identifierPrefix;if(Ce){var r=Nr,n=Er;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ro++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=v1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_1={readContext:Lt,useCallback:av,useContext:Lt,useEffect:Od,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:rv,useMemo:ov,useReducer:ec,useRef:ev,useState:function(){return ec(no)},useDebugValue:Dd,useDeferredValue:function(e){var t=Mt();return iv(t,We.memoizedState,e)},useTransition:function(){var e=ec(no)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Gg,useSyncExternalStore:Kg,useId:lv,unstable_isNewReconciler:!1},S1={readContext:Lt,useCallback:av,useContext:Lt,useEffect:Od,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:rv,useMemo:ov,useReducer:tc,useRef:ev,useState:function(){return tc(no)},useDebugValue:Dd,useDeferredValue:function(e){var t=Mt();return We===null?t.memoizedState=e:iv(t,We.memoizedState,e)},useTransition:function(){var e=tc(no)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Gg,useSyncExternalStore:Kg,useId:lv,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function su(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ul={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=at(),s=hn(e),a=Cr(n,s);a.payload=t,r!=null&&(a.callback=r),t=un(e,a,s),t!==null&&(er(t,e,s,n),ii(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=at(),s=hn(e),a=Cr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=un(e,a,s),t!==null&&(er(t,e,s,n),ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),n=hn(e),s=Cr(r,n);s.tag=2,t!=null&&(s.callback=t),t=un(e,s,n),t!==null&&(er(t,e,n,r),ii(t,e,n))}};function Df(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ya(r,n)||!Ya(s,a):!0}function hv(e,t,r){var n=!1,s=yn,a=t.contextType;return typeof a=="object"&&a!==null?a=Lt(a):(s=pt(t)?Jn:nt.current,n=t.contextTypes,a=(n=n!=null)?Gs(e,s):yn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ul,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ul.enqueueReplaceState(t,t.state,null)}function au(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Lt(a):(a=pt(t)?Jn:nt.current,s.context=Gs(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(su(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ul.enqueueReplaceState(s,s.state,null),Ii(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var r="",n=t;do r+=Qw(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function rc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var j1=typeof WeakMap=="function"?WeakMap:Map;function fv(e,t,r){r=Cr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$i||($i=!0,gu=n),ou(e,t)},r}function pv(e,t,r){r=Cr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ou(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ou(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new j1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$1.bind(null,e,t,r),t.then(e,e))}function $f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cr(-1,1),t.tag=2,un(r,t,1))),r.lanes|=1),e)}var E1=Dr.ReactCurrentOwner,ht=!1;function st(e,t,r,n){t.child=e===null?Wg(t,null,r,n):Js(t,e.child,r,n)}function Uf(e,t,r,n,s){r=r.render;var a=t.ref;return Us(t,s),n=Pd(e,t,r,n,a,s),r=Id(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pr(e,t,s)):(Ce&&r&&wd(t),t.flags|=1,st(e,t,n,s),t.child)}function Ff(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Wd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,mv(e,t,a,n,s)):(e=fi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ya,r(o,n)&&e.ref===t.ref)return Pr(e,t,s)}return t.flags|=1,e=fn(a,n),e.ref=t.ref,e.return=t,t.child=e}function mv(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ya(a,n)&&e.ref===t.ref)if(ht=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Pr(e,t,s)}return iu(e,t,r,n,s)}function gv(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Os,vt),vt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Os,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,_e(Os,vt),vt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,_e(Os,vt),vt|=n;return st(e,t,s,r),t.child}function vv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function iu(e,t,r,n,s){var a=pt(r)?Jn:nt.current;return a=Gs(t,a),Us(t,s),r=Pd(e,t,r,n,a,s),n=Id(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pr(e,t,s)):(Ce&&n&&wd(t),t.flags|=1,st(e,t,r,s),t.child)}function zf(e,t,r,n,s){if(pt(r)){var a=!0;Ci(t)}else a=!1;if(Us(t,s),t.stateNode===null)ui(e,t),hv(t,r,n),au(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=pt(r)?Jn:nt.current,u=Gs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Lf(t,o,n,u),Yr=!1;var p=t.memoizedState;o.state=p,Ii(t,n,o,s),c=t.memoizedState,l!==n||p!==c||ft.current||Yr?(typeof d=="function"&&(su(t,r,d,n),c=t.memoizedState),(l=Yr||Df(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Hg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qt(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Lt(c):(c=pt(r)?Jn:nt.current,c=Gs(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Lf(t,o,n,c),Yr=!1,p=t.memoizedState,o.state=p,Ii(t,n,o,s);var w=t.memoizedState;l!==h||p!==w||ft.current||Yr?(typeof f=="function"&&(su(t,r,f,n),w=t.memoizedState),(u=Yr||Df(t,r,u,n,p,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return lu(e,t,r,n,a,s)}function lu(e,t,r,n,s,a){vv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&kf(t,r,!1),Pr(e,t,a);n=t.stateNode,E1.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Js(t,e.child,null,a),t.child=Js(t,null,l,a)):st(e,t,l,a),t.memoizedState=n.state,s&&kf(t,r,!0),t.child}function yv(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),Cd(e,t.containerInfo)}function Wf(e,t,r,n,s){return Ks(),_d(s),t.flags|=256,st(e,t,r,n),t.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function xv(e,t,r){var n=t.pendingProps,s=Re.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Re,s&1),e===null)return ru(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=fl(o,n,0,null),e=Gn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=uu(r),t.memoizedState=cu,e):Ld(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return N1(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=fn(l,a):(a=Gn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?uu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=cu,n}return a=e.child,e=a.sibling,n=fn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ld(e,t){return t=fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,r,n){return n!==null&&_d(n),Js(t,e.child,null,r),e=Ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N1(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=rc(Error(A(422))),Uo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=fl({mode:"visible",children:n.children},s,0,null),a=Gn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Js(t,e.child,null,o),t.child.memoizedState=uu(o),t.memoizedState=cu,a);if(!(t.mode&1))return Uo(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(A(419)),n=rc(a,n,void 0),Uo(e,t,o,n)}if(l=(o&e.childLanes)!==0,ht||l){if(n=qe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ar(e,s),er(n,e,s,-1))}return zd(),n=rc(Error(A(421))),Uo(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=B1.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,bt=cn(s.nextSibling),_t=t,Ce=!0,Yt=null,e!==null&&(Rt[At++]=Er,Rt[At++]=Nr,Rt[At++]=Yn,Er=e.id,Nr=e.overflow,Yn=t),t=Ld(t,n.children),t.flags|=4096,t)}function Vf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nu(e.return,t,r)}function nc(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function wv(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(st(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,r,t);else if(e.tag===19)Vf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Oi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),nc(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}nc(t,!0,r,null,a);break;case"together":nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function k1(e,t,r){switch(t.tag){case 3:yv(t),Ks();break;case 5:qg(t);break;case 1:pt(t.type)&&Ci(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_e(Ai,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?xv(e,t,r):(_e(Re,Re.current&1),e=Pr(e,t,r),e!==null?e.sibling:null);_e(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,gv(e,t,r)}return Pr(e,t,r)}var bv,du,_v,Sv;bv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};du=function(){};_v=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vn(pr.current);var a=null;switch(r){case"input":s=Ic(e,s),n=Ic(e,n),a=[];break;case"select":s=Pe({},s,{value:void 0}),n=Pe({},n,{value:void 0}),a=[];break;case"textarea":s=Lc(e,s),n=Lc(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ni)}$c(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wa.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ee("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Sv=function(e,t,r,n){r!==n&&(t.flags|=4)};function wa(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function C1(e,t,r){var n=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return pt(t.type)&&ki(),tt(t),null;case 3:return n=t.stateNode,Ys(),Ne(ft),Ne(nt),Rd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(xu(Yt),Yt=null))),du(e,t),tt(t),null;case 5:Td(t);var s=Vn(to.current);if(r=t.type,e!==null&&t.stateNode!=null)_v(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return tt(t),null}if(e=Vn(pr.current),$o(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[cr]=t,n[Za]=a,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ee(Ca[s],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Xh(n,a),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ee("invalid",n);break;case"textarea":ef(n,a),Ee("invalid",n)}$c(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Mo(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Mo(n.textContent,l,e),s=["children",""+l]):Wa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",n)}switch(r){case"input":To(n),Zh(n,a,!0);break;case"textarea":To(n),tf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ni)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[cr]=t,e[Za]=n,bv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bc(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),s=n;break;case"iframe":case"object":case"embed":Ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ee(Ca[s],e);s=n;break;case"source":Ee("error",e),s=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=n;break;case"details":Ee("toggle",e),s=n;break;case"input":Xh(e,n),s=Ic(e,n),Ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pe({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":ef(e,n),s=Lc(e,n),Ee("invalid",e);break;default:s=n}$c(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?eg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xm(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Va(e,c):typeof c=="number"&&Va(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wa.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ee("scroll",e):c!=null&&od(e,a,c,o))}switch(r){case"input":To(e),Zh(e,n,!1);break;case"textarea":To(e),tf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ls(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ls(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Sv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Vn(to.current),Vn(pr.current),$o(t)){if(n=t.stateNode,r=t.memoizedProps,n[cr]=t,(a=n.nodeValue!==r)&&(e=_t,e!==null))switch(e.tag){case 3:Mo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mo(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cr]=t,t.stateNode=n}return tt(t),null;case 13:if(Ne(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&bt!==null&&t.mode&1&&!(t.flags&128))Fg(),Ks(),t.flags|=98560,a=!1;else if(a=$o(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[cr]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),a=!1}else Yt!==null&&(xu(Yt),Yt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ve===0&&(Ve=3):zd())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Ys(),du(e,t),e===null&&Qa(t.stateNode.containerInfo),tt(t),null;case 10:return Ed(t.type._context),tt(t),null;case 17:return pt(t.type)&&ki(),tt(t),null;case 19:if(Ne(Re),a=t.memoizedState,a===null)return tt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)wa(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oi(e),o!==null){for(t.flags|=128,wa(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Re,Re.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>Xs&&(t.flags|=128,n=!0,wa(a,!1),t.lanes=4194304)}else{if(!n)if(e=Oi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ce)return tt(t),null}else 2*$e()-a.renderingStartTime>Xs&&r!==1073741824&&(t.flags|=128,n=!0,wa(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,r=Re.current,_e(Re,n?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return Fd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function T1(e,t){switch(bd(t),t.tag){case 1:return pt(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ys(),Ne(ft),Ne(nt),Rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Td(t),null;case 13:if(Ne(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Re),null;case 4:return Ys(),null;case 10:return Ed(t.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var Fo=!1,rt=!1,R1=typeof WeakSet=="function"?WeakSet:Set,M=null;function Is(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function hu(e,t,r){try{r()}catch(n){Me(e,t,n)}}var Hf=!1;function A1(e,t){if(Jc=Si,e=Cg(),xd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=o),p===a&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yc={focusedElem:e,selectionRange:r},Si=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:qt(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Me(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return w=Hf,Hf=!1,w}function Ma(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&hu(t,r,a)}s=s.next}while(s!==n)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jv(e){var t=e.alternate;t!==null&&(e.alternate=null,jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[Za],delete t[Zc],delete t[f1],delete t[p1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ev(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ni));else if(n!==4&&(e=e.child,e!==null))for(pu(e,t,r),e=e.sibling;e!==null;)pu(e,t,r),e=e.sibling}function mu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}var Je=null,Kt=!1;function Vr(e,t,r){for(r=r.child;r!==null;)Nv(e,t,r),r=r.sibling}function Nv(e,t,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(nl,r)}catch{}switch(r.tag){case 5:rt||Is(r,t);case 6:var n=Je,s=Kt;Je=null,Vr(e,t,r),Je=n,Kt=s,Je!==null&&(Kt?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(Kt?(e=Je,r=r.stateNode,e.nodeType===8?Yl(e.parentNode,r):e.nodeType===1&&Yl(e,r),Ka(e)):Yl(Je,r.stateNode));break;case 4:n=Je,s=Kt,Je=r.stateNode.containerInfo,Kt=!0,Vr(e,t,r),Je=n,Kt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hu(r,t,o),s=s.next}while(s!==n)}Vr(e,t,r);break;case 1:if(!rt&&(Is(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Me(r,t,l)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(rt=(n=rt)||r.memoizedState!==null,Vr(e,t,r),rt=n):Vr(e,t,r);break;default:Vr(e,t,r)}}function Gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R1),t.forEach(function(n){var s=U1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Kt=!1;break e;case 3:Je=l.stateNode.containerInfo,Kt=!0;break e;case 4:Je=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Je===null)throw Error(A(160));Nv(a,o,s),Je=null,Kt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kv(t,e),t=t.sibling}function kv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),or(e),n&4){try{Ma(3,e,e.return),dl(3,e)}catch(y){Me(e,e.return,y)}try{Ma(5,e,e.return)}catch(y){Me(e,e.return,y)}}break;case 1:Ft(t,e),or(e),n&512&&r!==null&&Is(r,r.return);break;case 5:if(Ft(t,e),or(e),n&512&&r!==null&&Is(r,r.return),e.flags&32){var s=e.stateNode;try{Va(s,"")}catch(y){Me(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Jm(s,a),Bc(l,o);var u=Bc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?eg(s,h):d==="dangerouslySetInnerHTML"?Xm(s,h):d==="children"?Va(s,h):od(s,d,h,u)}switch(l){case"input":Oc(s,a);break;case"textarea":Ym(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ls(s,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ls(s,!!a.multiple,a.defaultValue,!0):Ls(s,!!a.multiple,a.multiple?[]:"",!1))}s[Za]=a}catch(y){Me(e,e.return,y)}}break;case 6:if(Ft(t,e),or(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){Me(e,e.return,y)}}break;case 3:if(Ft(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ka(t.containerInfo)}catch(y){Me(e,e.return,y)}break;case 4:Ft(t,e),or(e);break;case 13:Ft(t,e),or(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Bd=$e())),n&4&&Gf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rt=(u=rt)||d,Ft(t,e),rt=u):Ft(t,e),or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(h=M=d;M!==null;){switch(p=M,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ma(4,p,p.return);break;case 1:Is(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Me(n,r,y)}}break;case 5:Is(p,p.return);break;case 22:if(p.memoizedState!==null){Jf(h);continue}}f!==null?(f.return=p,M=f):Jf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zm("display",o))}catch(y){Me(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Me(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(t,e),or(e),n&4&&Gf(e);break;case 21:break;default:Ft(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ev(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Va(s,""),n.flags&=-33);var a=qf(e);mu(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=qf(e);pu(e,l,o);break;default:throw Error(A(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P1(e,t,r){M=e,Cv(e)}function Cv(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var s=M,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||rt;l=Fo;var u=rt;if(Fo=o,(rt=c)&&!u)for(M=s;M!==null;)o=M,c=o.child,o.tag===22&&o.memoizedState!==null?Yf(s):c!==null?(c.return=o,M=c):Yf(s);for(;a!==null;)M=a,Cv(a),a=a.sibling;M=s,Fo=l,rt=u}Kf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,M=a):Kf(e)}}function Kf(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||dl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Pf(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}rt||t.flags&512&&fu(t)}catch(p){Me(t,t.return,p)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function Jf(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function Yf(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dl(4,t)}catch(c){Me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Me(t,s,c)}}var a=t.return;try{fu(t)}catch(c){Me(t,a,c)}break;case 5:var o=t.return;try{fu(t)}catch(c){Me(t,o,c)}}}catch(c){Me(t,t.return,c)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var I1=Math.ceil,Mi=Dr.ReactCurrentDispatcher,Md=Dr.ReactCurrentOwner,Dt=Dr.ReactCurrentBatchConfig,fe=0,qe=null,Fe=null,Ye=0,vt=0,Os=_n(0),Ve=0,ao=null,Xn=0,hl=0,$d=0,$a=null,ct=null,Bd=0,Xs=1/0,_r=null,$i=!1,gu=null,dn=null,zo=!1,rn=null,Bi=0,Ba=0,vu=null,di=-1,hi=0;function at(){return fe&6?$e():di!==-1?di:di=$e()}function hn(e){return e.mode&1?fe&2&&Ye!==0?Ye&-Ye:g1.transition!==null?(hi===0&&(hi=hg()),hi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:xg(e.type)),e):1}function er(e,t,r,n){if(50<Ba)throw Ba=0,vu=null,Error(A(185));yo(e,r,n),(!(fe&2)||e!==qe)&&(e===qe&&(!(fe&2)&&(hl|=r),Ve===4&&Zr(e,Ye)),mt(e,n),r===1&&fe===0&&!(t.mode&1)&&(Xs=$e()+500,ll&&Sn()))}function mt(e,t){var r=e.callbackNode;gb(e,t);var n=_i(e,e===qe?Ye:0);if(n===0)r!==null&&sf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sf(r),t===1)e.tag===0?m1(Qf.bind(null,e)):$g(Qf.bind(null,e)),d1(function(){!(fe&6)&&Sn()}),r=null;else{switch(fg(n)){case 1:r=dd;break;case 4:r=ug;break;case 16:r=bi;break;case 536870912:r=dg;break;default:r=bi}r=Lv(r,Tv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Tv(e,t){if(di=-1,hi=0,fe&6)throw Error(A(327));var r=e.callbackNode;if(Fs()&&e.callbackNode!==r)return null;var n=_i(e,e===qe?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ui(e,n);else{t=n;var s=fe;fe|=2;var a=Av();(qe!==e||Ye!==t)&&(_r=null,Xs=$e()+500,qn(e,t));do try{L1();break}catch(l){Rv(e,l)}while(!0);jd(),Mi.current=a,fe=s,Fe!==null?t=0:(qe=null,Ye=0,t=Ve)}if(t!==0){if(t===2&&(s=Vc(e),s!==0&&(n=s,t=yu(e,s))),t===1)throw r=ao,qn(e,0),Zr(e,n),mt(e,$e()),r;if(t===6)Zr(e,n);else{if(s=e.current.alternate,!(n&30)&&!O1(s)&&(t=Ui(e,n),t===2&&(a=Vc(e),a!==0&&(n=a,t=yu(e,a))),t===1))throw r=ao,qn(e,0),Zr(e,n),mt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:$n(e,ct,_r);break;case 3:if(Zr(e,n),(n&130023424)===n&&(t=Bd+500-$e(),10<t)){if(_i(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xc($n.bind(null,e,ct,_r),t);break}$n(e,ct,_r);break;case 4:if(Zr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Zt(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I1(n/1960))-n,10<n){e.timeoutHandle=Xc($n.bind(null,e,ct,_r),n);break}$n(e,ct,_r);break;case 5:$n(e,ct,_r);break;default:throw Error(A(329))}}}return mt(e,$e()),e.callbackNode===r?Tv.bind(null,e):null}function yu(e,t){var r=$a;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=ct,ct=r,t!==null&&xu(t)),e}function xu(e){ct===null?ct=e:ct.push.apply(ct,e)}function O1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!tr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~$d,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function Qf(e){if(fe&6)throw Error(A(327));Fs();var t=_i(e,0);if(!(t&1))return mt(e,$e()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var n=Vc(e);n!==0&&(t=n,r=yu(e,n))}if(r===1)throw r=ao,qn(e,0),Zr(e,t),mt(e,$e()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,ct,_r),mt(e,$e()),null}function Ud(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(Xs=$e()+500,ll&&Sn())}}function Zn(e){rn!==null&&rn.tag===0&&!(fe&6)&&Fs();var t=fe;fe|=1;var r=Dt.transition,n=ve;try{if(Dt.transition=null,ve=1,e)return e()}finally{ve=n,Dt.transition=r,fe=t,!(fe&6)&&Sn()}}function Fd(){vt=Os.current,Ne(Os)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,u1(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(bd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ki();break;case 3:Ys(),Ne(ft),Ne(nt),Rd();break;case 5:Td(n);break;case 4:Ys();break;case 13:Ne(Re);break;case 19:Ne(Re);break;case 10:Ed(n.type._context);break;case 22:case 23:Fd()}r=r.return}if(qe=e,Fe=e=fn(e.current,null),Ye=vt=t,Ve=0,ao=null,$d=hl=Xn=0,ct=$a=null,Wn!==null){for(t=0;t<Wn.length;t++)if(r=Wn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Wn=null}return e}function Rv(e,t){do{var r=Fe;try{if(jd(),li.current=Li,Di){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Di=!1}if(Qn=0,He=We=Ae=null,La=!1,ro=0,Md.current=null,r===null||r.return===null){Ve=1,ao=t,Fe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=$f(o);if(f!==null){f.flags&=-257,Bf(f,o,l,a,t),f.mode&1&&Mf(a,u,t),t=f,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Mf(a,u,t),zd();break e}c=Error(A(426))}}else if(Ce&&l.mode&1){var b=$f(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bf(b,o,l,a,t),_d(Qs(c,l));break e}}a=c=Qs(c,l),Ve!==4&&(Ve=2),$a===null?$a=[a]:$a.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=fv(a,c,t);Af(a,g);break e;case 1:l=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dn===null||!dn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=pv(a,l,t);Af(a,_);break e}}a=a.return}while(a!==null)}Iv(r)}catch(S){t=S,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(!0)}function Av(){var e=Mi.current;return Mi.current=Li,e===null?Li:e}function zd(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),qe===null||!(Xn&268435455)&&!(hl&268435455)||Zr(qe,Ye)}function Ui(e,t){var r=fe;fe|=2;var n=Av();(qe!==e||Ye!==t)&&(_r=null,qn(e,t));do try{D1();break}catch(s){Rv(e,s)}while(!0);if(jd(),fe=r,Mi.current=n,Fe!==null)throw Error(A(261));return qe=null,Ye=0,Ve}function D1(){for(;Fe!==null;)Pv(Fe)}function L1(){for(;Fe!==null&&!ib();)Pv(Fe)}function Pv(e){var t=Dv(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Iv(e):Fe=t,Md.current=null}function Iv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T1(r,t),r!==null){r.flags&=32767,Fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}else if(r=C1(r,t,vt),r!==null){Fe=r;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function $n(e,t,r){var n=ve,s=Dt.transition;try{Dt.transition=null,ve=1,M1(e,t,r,n)}finally{Dt.transition=s,ve=n}return null}function M1(e,t,r,n){do Fs();while(rn!==null);if(fe&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(vb(e,a),e===qe&&(Fe=qe=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zo||(zo=!0,Lv(bi,function(){return Fs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dt.transition,Dt.transition=null;var o=ve;ve=1;var l=fe;fe|=4,Md.current=null,A1(e,r),kv(r,e),n1(Yc),Si=!!Jc,Yc=Jc=null,e.current=r,P1(r),lb(),fe=l,ve=o,Dt.transition=a}else e.current=r;if(zo&&(zo=!1,rn=e,Bi=s),a=e.pendingLanes,a===0&&(dn=null),db(r.stateNode),mt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if($i)throw $i=!1,e=gu,gu=null,e;return Bi&1&&e.tag!==0&&Fs(),a=e.pendingLanes,a&1?e===vu?Ba++:(Ba=0,vu=e):Ba=0,Sn(),null}function Fs(){if(rn!==null){var e=fg(Bi),t=Dt.transition,r=ve;try{if(Dt.transition=null,ve=16>e?16:e,rn===null)var n=!1;else{if(e=rn,rn=null,Bi=0,fe&6)throw Error(A(331));var s=fe;for(fe|=4,M=e.current;M!==null;){var a=M,o=a.child;if(M.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Ma(8,d,a)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var p=d.sibling,f=d.return;if(jv(d),d===u){M=null;break}if(p!==null){p.return=f,M=p;break}M=f}}}var w=a.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}M=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,M=o;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ma(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,M=g;break e}M=a.return}}var m=e.current;for(M=m;M!==null;){o=M;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,M=x;else e:for(o=m;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(S){Me(l,l.return,S)}if(l===o){M=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,M=_;break e}M=l.return}}if(fe=s,Sn(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(nl,e)}catch{}n=!0}return n}finally{ve=r,Dt.transition=t}}return!1}function Xf(e,t,r){t=Qs(r,t),t=fv(e,t,1),e=un(e,t,1),t=at(),e!==null&&(yo(e,1,t),mt(e,t))}function Me(e,t,r){if(e.tag===3)Xf(e,e,r);else for(;t!==null;){if(t.tag===3){Xf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=Qs(r,e),e=pv(t,e,1),t=un(t,e,1),e=at(),t!==null&&(yo(t,1,e),mt(t,e));break}}t=t.return}}function $1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,qe===e&&(Ye&r)===r&&(Ve===4||Ve===3&&(Ye&130023424)===Ye&&500>$e()-Bd?qn(e,0):$d|=r),mt(e,t)}function Ov(e,t){t===0&&(e.mode&1?(t=Po,Po<<=1,!(Po&130023424)&&(Po=4194304)):t=1);var r=at();e=Ar(e,t),e!==null&&(yo(e,t,r),mt(e,r))}function B1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ov(e,r)}function U1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),Ov(e,r)}var Dv;Dv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ht=!1,k1(e,t,r);ht=!!(e.flags&131072)}else ht=!1,Ce&&t.flags&1048576&&Bg(t,Ri,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ui(e,t),e=t.pendingProps;var s=Gs(t,nt.current);Us(t,r),s=Pd(null,t,n,e,s,r);var a=Id();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(a=!0,Ci(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kd(t),s.updater=ul,t.stateNode=s,s._reactInternals=t,au(t,n,e,r),t=lu(null,t,n,!0,a,r)):(t.tag=0,Ce&&a&&wd(t),st(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=z1(n),e=qt(n,e),s){case 0:t=iu(null,t,n,e,r);break e;case 1:t=zf(null,t,n,e,r);break e;case 11:t=Uf(null,t,n,e,r);break e;case 14:t=Ff(null,t,n,qt(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),iu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),zf(e,t,n,s,r);case 3:e:{if(yv(t),e===null)throw Error(A(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Hg(e,t),Ii(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Qs(Error(A(423)),t),t=Wf(e,t,n,r,s);break e}else if(n!==s){s=Qs(Error(A(424)),t),t=Wf(e,t,n,r,s);break e}else for(bt=cn(t.stateNode.containerInfo.firstChild),_t=t,Ce=!0,Yt=null,r=Wg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===s){t=Pr(e,t,r);break e}st(e,t,n,r)}t=t.child}return t;case 5:return qg(t),e===null&&ru(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Qc(n,s)?o=null:a!==null&&Qc(n,a)&&(t.flags|=32),vv(e,t),st(e,t,o,r),t.child;case 6:return e===null&&ru(t),null;case 13:return xv(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Js(t,null,n,r):st(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),Uf(e,t,n,s,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,_e(Ai,n._currentValue),n._currentValue=o,a!==null)if(tr(a.value,o)){if(a.children===s.children&&!ft.current){t=Pr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Cr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),nu(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),nu(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}st(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Us(t,r),s=Lt(s),n=n(s),t.flags|=1,st(e,t,n,r),t.child;case 14:return n=t.type,s=qt(n,t.pendingProps),s=qt(n.type,s),Ff(e,t,n,s,r);case 15:return mv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),ui(e,t),t.tag=1,pt(n)?(e=!0,Ci(t)):e=!1,Us(t,r),hv(t,n,s),au(t,n,s,r),lu(null,t,n,!0,e,r);case 19:return wv(e,t,r);case 22:return gv(e,t,r)}throw Error(A(156,t.tag))};function Lv(e,t){return cg(e,t)}function F1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,r,n){return new F1(e,t,r,n)}function Wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z1(e){if(typeof e=="function")return Wd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ld)return 11;if(e===cd)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=Ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Wd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case js:return Gn(r.children,s,a,t);case id:o=8,s|=8;break;case Tc:return e=Ot(12,r,t,s|2),e.elementType=Tc,e.lanes=a,e;case Rc:return e=Ot(13,r,t,s),e.elementType=Rc,e.lanes=a,e;case Ac:return e=Ot(19,r,t,s),e.elementType=Ac,e.lanes=a,e;case qm:return fl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vm:o=10;break e;case Hm:o=9;break e;case ld:o=11;break e;case cd:o=14;break e;case Jr:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Ot(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Gn(e,t,r,n){return e=Ot(7,e,n,t),e.lanes=r,e}function fl(e,t,r,n){return e=Ot(22,e,n,t),e.elementType=qm,e.lanes=r,e.stateNode={isHidden:!1},e}function sc(e,t,r){return e=Ot(6,e,null,t),e.lanes=r,e}function ac(e,t,r){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vd(e,t,r,n,s,a,o,l,c){return e=new W1(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ot(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(a),e}function V1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ss,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Mv(e){if(!e)return yn;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(pt(r))return Mg(e,r,t)}return t}function $v(e,t,r,n,s,a,o,l,c){return e=Vd(r,n,!0,e,s,a,o,l,c),e.context=Mv(null),r=e.current,n=at(),s=hn(r),a=Cr(n,s),a.callback=t??null,un(r,a,s),e.current.lanes=s,yo(e,s,n),mt(e,n),e}function pl(e,t,r,n){var s=t.current,a=at(),o=hn(s);return r=Mv(r),t.context===null?t.context=r:t.pendingContext=r,t=Cr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=un(s,t,o),e!==null&&(er(e,s,o,a),ii(e,s,o)),o}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hd(e,t){Zf(e,t),(e=e.alternate)&&Zf(e,t)}function H1(){return null}var Bv=typeof reportError=="function"?reportError:function(e){console.error(e)};function qd(e){this._internalRoot=e}ml.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));pl(e,t,null,null)};ml.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){pl(null,e,null,null)}),t[Rr]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=gg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&yg(e)}};function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ep(){}function q1(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Fi(o);a.call(u)}}var o=$v(t,n,e,0,null,!1,!1,"",ep);return e._reactRootContainer=o,e[Rr]=o.current,Qa(e.nodeType===8?e.parentNode:e),Zn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Fi(c);l.call(u)}}var c=Vd(e,0,!1,null,null,!1,!1,"",ep);return e._reactRootContainer=c,e[Rr]=c.current,Qa(e.nodeType===8?e.parentNode:e),Zn(function(){pl(t,c,r,n)}),c}function vl(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Fi(o);l.call(c)}}pl(t,o,e,s)}else o=q1(r,t,e,s,n);return Fi(o)}pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ka(t.pendingLanes);r!==0&&(hd(t,r|1),mt(t,$e()),!(fe&6)&&(Xs=$e()+500,Sn()))}break;case 13:Zn(function(){var n=Ar(e,1);if(n!==null){var s=at();er(n,e,1,s)}}),Hd(e,1)}};fd=function(e){if(e.tag===13){var t=Ar(e,134217728);if(t!==null){var r=at();er(t,e,134217728,r)}Hd(e,134217728)}};mg=function(e){if(e.tag===13){var t=hn(e),r=Ar(e,t);if(r!==null){var n=at();er(r,e,t,n)}Hd(e,t)}};gg=function(){return ve};vg=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};Fc=function(e,t,r){switch(t){case"input":if(Oc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=il(n);if(!s)throw Error(A(90));Km(n),Oc(n,s)}}}break;case"textarea":Ym(e,r);break;case"select":t=r.value,t!=null&&Ls(e,!!r.multiple,t,!1)}};ng=Ud;sg=Zn;var G1={usingClientEntryPoint:!1,Events:[wo,Cs,il,tg,rg,Ud]},ba={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K1={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ig(e),e===null?null:e.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||H1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{nl=Wo.inject(K1),fr=Wo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;Et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(t))throw Error(A(200));return V1(e,t,null,r)};Et.createRoot=function(e,t){if(!Gd(e))throw Error(A(299));var r=!1,n="",s=Bv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vd(e,1,!1,null,null,r,!1,n,s),e[Rr]=t.current,Qa(e.nodeType===8?e.parentNode:e),new qd(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=ig(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Zn(e)};Et.hydrate=function(e,t,r){if(!gl(t))throw Error(A(200));return vl(null,e,t,!0,r)};Et.hydrateRoot=function(e,t,r){if(!Gd(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Bv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$v(t,null,e,1,r??null,s,!1,a,o),e[Rr]=t.current,Qa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ml(t)};Et.render=function(e,t,r){if(!gl(t))throw Error(A(200));return vl(null,e,t,!1,r)};Et.unmountComponentAtNode=function(e){if(!gl(e))throw Error(A(40));return e._reactRootContainer?(Zn(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Rr]=null})}),!0):!1};Et.unstable_batchedUpdates=Ud;Et.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gl(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return vl(e,t,r,!1,n)};Et.version="18.3.1-next-f1338f8080-20240426";function Uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uv)}catch(e){console.error(e)}}Uv(),Um.exports=Et;var sa=Um.exports;const Fv=km(sa);var tp=sa;kc.createRoot=tp.createRoot,kc.hydrateRoot=tp.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const rp="popstate";function J1(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return wu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zi(s)}return Q1(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y1(){return Math.random().toString(36).substr(2,8)}function np(e,t){return{usr:e.state,key:e.key,idx:t}}function wu(e,t,r,n){return r===void 0&&(r=null),oo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?aa(t):t,{state:r,key:t&&t.key||n||Y1()})}function zi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Q1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=nn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(oo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=nn.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:g})}function p(b,g){l=nn.Push;let m=wu(y.location,b,g);u=d()+1;let x=np(m,u),_=y.createHref(m);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:y.location,delta:1})}function f(b,g){l=nn.Replace;let m=wu(y.location,b,g);u=d();let x=np(m,u),_=y.createHref(m);o.replaceState(x,"",_),a&&c&&c({action:l,location:y.location,delta:0})}function w(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:zi(b);return m=m.replace(/ $/,"%20"),Be(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(rp,h),c=b,()=>{s.removeEventListener(rp,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(b){return o.go(b)}};return y}var sp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sp||(sp={}));function X1(e,t,r){return r===void 0&&(r="/"),Z1(e,t,r)}function Z1(e,t,r,n){let s=typeof t=="string"?aa(t):t,a=Jd(s.pathname||"/",r);if(a==null)return null;let o=zv(e);e_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=h_(a);l=c_(o[c],u)}return l}function zv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=pn([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zv(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:i_(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Wv(a.path))s(a,o,c)}),t}function Wv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Wv(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function e_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t_=/^:[\w-]+$/,r_=3,n_=2,s_=1,a_=10,o_=-2,ap=e=>e==="*";function i_(e,t){let r=e.split("/"),n=r.length;return r.some(ap)&&(n+=o_),t&&(n+=n_),r.filter(s=>!ap(s)).reduce((s,a)=>s+(t_.test(a)?r_:a===""?s_:a_),n)}function l_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c_(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=u_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:pn([a,h.pathname]),pathnameBase:v_(pn([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=pn([a,h.pathnameBase]))}return o}function u_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=d_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let y=l[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[h];return f&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function d_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function h_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p_=e=>f_.test(e);function m_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?aa(e):e,a;if(r)if(p_(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=op(r.substring(1),"/"):a=op(r,t)}else a=t;return{pathname:a,search:y_(n),hash:x_(s)}}function op(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function oc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yd(e,t){let r=g_(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=aa(e):(s=oo({},e),Be(!s.pathname||!s.pathname.includes("?"),oc("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),oc("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),oc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=m_(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pn=e=>e.join("/").replace(/\/\/+/g,"/"),v_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vv=["post","put","patch","delete"];new Set(Vv);const b_=["get",...Vv];new Set(b_);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}const Xd=v.createContext(null),__=v.createContext(null),jn=v.createContext(null),yl=v.createContext(null),Lr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Hv=v.createContext(null);function S_(e,t){let{relative:r}=t===void 0?{}:t;oa()||Be(!1);let{basename:n,navigator:s}=v.useContext(jn),{hash:a,pathname:o,search:l}=Gv(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:pn([n,o])),s.createHref({pathname:c,search:l,hash:a})}function oa(){return v.useContext(yl)!=null}function En(){return oa()||Be(!1),v.useContext(yl).location}function qv(e){v.useContext(jn).static||v.useLayoutEffect(e)}function Nn(){let{isDataRoute:e}=v.useContext(Lr);return e?M_():j_()}function j_(){oa()||Be(!1);let e=v.useContext(Xd),{basename:t,future:r,navigator:n}=v.useContext(jn),{matches:s}=v.useContext(Lr),{pathname:a}=En(),o=JSON.stringify(Yd(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return qv(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Qd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:pn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function E_(){let{matches:e}=v.useContext(Lr),t=e[e.length-1];return t?t.params:{}}function Gv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(jn),{matches:s}=v.useContext(Lr),{pathname:a}=En(),o=JSON.stringify(Yd(s,n.v7_relativeSplatPath));return v.useMemo(()=>Qd(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function N_(e,t){return k_(e,t)}function k_(e,t,r,n){oa()||Be(!1);let{navigator:s}=v.useContext(jn),{matches:a}=v.useContext(Lr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=En(),d;if(t){var h;let b=typeof t=="string"?aa(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Be(!1),d=b}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=X1(e,{pathname:f}),y=P_(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:pn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:pn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&y?v.createElement(yl.Provider,{value:{location:io({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},y):y}function C_(){let e=L_(),t=w_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const T_=v.createElement(C_,null);class R_ extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Lr.Provider,{value:this.props.routeContext},v.createElement(Hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A_(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(Xd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Lr.Provider,{value:t},n)}function P_(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,w=!1,y=null,b=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||T_,c&&(u<0&&p===0?($_("route-fallback"),w=!0,b=null):u===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),m=()=>{let x;return f?x=y:w?x=b:h.route.Component?x=v.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,v.createElement(A_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(R_,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Kv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kv||{}),Jv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jv||{});function I_(e){let t=v.useContext(Xd);return t||Be(!1),t}function O_(e){let t=v.useContext(__);return t||Be(!1),t}function D_(e){let t=v.useContext(Lr);return t||Be(!1),t}function Yv(e){let t=D_(),r=t.matches[t.matches.length-1];return r.route.id||Be(!1),r.route.id}function L_(){var e;let t=v.useContext(Hv),r=O_(),n=Yv();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function M_(){let{router:e}=I_(Kv.UseNavigateStable),t=Yv(Jv.UseNavigateStable),r=v.useRef(!1);return qv(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,io({fromRouteId:t},a)))},[e,t])}const ip={};function $_(e,t,r){ip[e]||(ip[e]=!0)}function B_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function U_(e){let{to:t,replace:r,state:n,relative:s}=e;oa()||Be(!1);let{future:a,static:o}=v.useContext(jn),{matches:l}=v.useContext(Lr),{pathname:c}=En(),u=Nn(),d=Qd(t,Yd(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ir(e){Be(!1)}function F_(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nn.Pop,navigator:a,static:o=!1,future:l}=e;oa()&&Be(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:io({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=aa(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:w="default"}=n,y=v.useMemo(()=>{let b=Jd(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:f,key:w},navigationType:s}},[c,d,h,p,f,w,s]);return y==null?null:v.createElement(jn.Provider,{value:u},v.createElement(yl.Provider,{children:r,value:y}))}function z_(e){let{children:t,location:r}=e;return N_(bu(t),r)}new Promise(()=>{});function bu(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,bu(n.props.children,a));return}n.type!==ir&&Be(!1),!n.props.index||!n.props.children||Be(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bu(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function W_(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function V_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H_(e,t){return e.button===0&&(!t||t==="_self")&&!V_(e)}function Su(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function q_(e,t){let r=Su(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const G_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K_="6";try{window.__reactRouterVersion=K_}catch{}const J_="startTransition",lp=$m[J_];function Y_(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=J1({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&lp?lp(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>B_(n),[n]),v.createElement(F_,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=W_(t,G_),{basename:f}=v.useContext(jn),w,y=!1;if(typeof u=="string"&&X_.test(u)&&(w=u,Q_))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Jd(_.pathname,f);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:y=!0}catch{}let b=S_(u,{relative:s}),g=Z_(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(x){n&&n(x),x.defaultPrevented||g(x)}return v.createElement("a",_u({},p,{href:w||b,onClick:y||a?n:m,ref:r,target:c}))});var cp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cp||(cp={}));var up;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(up||(up={}));function Z_(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nn(),u=En(),d=Gv(e,{relative:o});return v.useCallback(h=>{if(H_(h,r)){h.preventDefault();let p=n!==void 0?n:zi(u)===zi(d);c(e,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function eS(e){let t=v.useRef(Su(e)),r=v.useRef(!1),n=En(),s=v.useMemo(()=>q_(n.search,r.current?null:t.current),[n.search]),a=Nn(),o=v.useCallback((l,c)=>{const u=Su(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var dr=function(){return dr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},dr.apply(this,arguments)};function ia(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tS(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function rS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const nS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Zd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sS extends Zd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dp extends Zd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hp extends Zd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ju||(ju={}));class aS{constructor(t,{headers:r={},customFetch:n,region:s=ju.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=nS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tS(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const w=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,w.searchParams.set("forceFunctionRegion",f));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=d;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const g=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y,signal:b}).catch(S=>{throw new sS(S)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new dp(g);if(!g.ok)throw new hp(g);let x=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield g.json():x==="application/octet-stream"||x==="application/pdf"?_=yield g.blob():x==="text/event-stream"?_=g:x==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof hp||l instanceof dp?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var oS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},iS=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,p;if(r.method!=="HEAD"){var f;const g=await a.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(p=a.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var w;const y=await a.text();try{o=JSON.parse(y),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&y===""?(u=204,d="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new oS(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,h,p;const w=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${w}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},lS=class extends iS{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fp=new RegExp("[,()]");var ws=class extends lS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},cS=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new ws({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new ws({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new ws({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ws({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ws({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},uS=class Qv{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Qv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,w])=>w!==void 0).map(([f,w])=>[f,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([f,w])=>{c.searchParams.append(f,w)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&p.set("Prefer",`count=${a}`),new ws({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class dS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hS="2.90.1",fS=`realtime-js/${hS}`,Xv="1.0.0",pS="2.0.0",pp=Xv,Eu=1e4,mS=1e3,gS=100;var Qr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qr||(Qr={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jt||(Jt={}));var Nu;(function(e){e.websocket="websocket"})(Nu||(Nu={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class vS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(f),y=0;w.setUint8(y++,this.KINDS.userBroadcastPush),w.setUint8(y++,c.length),w.setUint8(y++,l.length),w.setUint8(y++,o.length),w.setUint8(y++,u.length),w.setUint8(y++,h.length),w.setUint8(y++,r),Array.from(c,g=>w.setUint8(y++,g.charCodeAt(0))),Array.from(l,g=>w.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>w.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>w.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>w.setUint8(y++,g.charCodeAt(0)));var b=new Uint8Array(f.byteLength+n.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(n),f.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,w={type:this.BROADCAST_EVENT,event:d,payload:f};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Zv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(we||(we={}));const mp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=yS(o,e,t,s),a),{}):{}},yS=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?ey(a,o):ku(o)},ey=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _S(t,r)}switch(e){case we.bool:return xS(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return wS(t);case we.json:case we.jsonb:return bS(t);case we.timestamp:return SS(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return ku(t);default:return ku(t)}},ku=e=>e,xS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_S=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>ey(t,l))}return e},SS=e=>typeof e=="string"?e.replace(" ","T"):e,ty=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ic{constructor(t,r,n={},s=Eu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gp||(gp={}));class Ua{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ua.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Ua.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ua.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),w=d.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vp||(vp={}));var Fa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fa||(Fa={}));var Sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Ds{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ic(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Zv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ua(this),this.broadcastEndpointURL=ty(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Fa.PRESENCE]&&this.bindings[Fa.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Sr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Sr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let m=0;m<b;m++){const x=y[m],{filter:{event:_,schema:S,table:E,filter:j}}=x,N=f&&f[m];if(N&&N.event===_&&Ds.isFilterValueEqual(N.schema,S)&&Ds.isFilterValueEqual(N.table,E)&&Ds.isFilterValueEqual(N.filter,j))g.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Sr.SUBSCRIBED);return}}).receive("error",f=>{this.state=ze.errored,t==null||t(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ze.joined&&t===Fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ic(this,Jt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ic(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Jt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var w,y,b;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var w,y,b,g,m,x,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,j=(w=f.filter)===null||w===void 0?void 0:w.event;return E&&((y=r.ids)===null||y===void 0?void 0:y.includes(E))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((g=f.filter)===null||g===void 0)&&g.table)||f.filter.table===((m=r.data)===null||m===void 0?void 0:m.table))}else{const E=(_=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:y,table:b,commit_timestamp:g,type:m,errors:x}=w;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(w))}f.callback(p,n)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ds.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mp(t.columns,t.old_record)),r}}const lc=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jS=[1e3,2e3,5e3,1e4],ES=1e4,NS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lc,this.ref=0,this.reconnectTimer=null,this.vsn=pp,this.logger=lc,this.conn=null,this.sendBuffer=[],this.serializer=new vS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Nu.websocket}`,this.httpEndpoint=ty(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qr.connecting:return Un.Connecting;case Qr.open:return Un.Open;case Qr.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Ds(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qr.open||this.conn.readyState===Qr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([NS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:fS};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Jt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Eu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vo.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lc,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:pp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>jS[w-1]||ES,this.vsn){case Xv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,y)=>y(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,y)=>y(JSON.parse(w));break;case pS:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var lo=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CS(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function TS(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function RS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=CS(e.baseUrl,n,s),c=await TS(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,w=f==null?void 0:f.error;throw new lo((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function Ho(e){return e.join("")}var AS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ho(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(e.namespace)}`}),!0}catch(t){if(t instanceof lo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof lo&&r.status===409)return;throw r}}};function ds(e){return e.join("")}var PS=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ds(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof lo&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof lo&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},IS=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=RS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new AS(this.client,t),this.tableOps=new PS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},xl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var OS=class extends xl{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cu=class extends xl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const eh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DS=()=>Response,Tu=e=>{if(Array.isArray(e))return e.map(r=>Tu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Tu(n)}),t},LS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function $S(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BS(e){var t=$S(e,"string");return co(t)=="symbol"?t:t+""}function US(e,t,r){return(t=BS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(r),!0).forEach(function(n){US(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const cc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FS=async(e,t,r)=>{e instanceof await DS()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,a=(n==null?void 0:n.statusCode)||s+"";t(new OS(cc(n),s,a))}).catch(n=>{t(new Cu(cc(n),n))}):t(new Cu(cc(e),e))},zS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(LS(n)?(s.headers=H({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),H(H({},s),r))};async function _o(e,t,r,n,s,a){return new Promise((o,l)=>{e(r,zS(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>FS(c,l,n))})}async function uo(e,t,r,n){return _o(e,"GET",t,r,n)}async function Gt(e,t,r,n,s){return _o(e,"POST",t,n,s,r)}async function Ru(e,t,r,n,s){return _o(e,"PUT",t,n,s,r)}async function WS(e,t,r,n){return _o(e,"HEAD",t,H(H({},r),{},{noResolveJson:!0}),n)}async function th(e,t,r,n,s){return _o(e,"DELETE",t,n,s,r)}var VS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};let ry;ry=Symbol.toStringTag;var HS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ry]="BlobDownloadBuilder",this.promise=null}asStream(){return new VS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Te(t))return{data:null,error:t};throw t}}};const qS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var GS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=eh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const o=H(H({},xp),n);let l=H(H({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=H(H({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Ru:Gt)(s.fetch,`${s.url}/object/${d}`,a,H({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=H({upsert:xp.upsert},n),d=H(H({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Ru(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Te(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=H({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Gt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new xl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Gt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Gt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await Gt(n.fetch,`${n.url}/object/sign/${s}`,H({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Gt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>H(H({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>uo(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new HS(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Tu(await uo(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await WS(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Te(n)&&n instanceof Cu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await th(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=H(H(H({},qS),t),{},{prefix:e||""});return{data:await Gt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=H({},e);return{data:await Gt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ny="2.90.1",sy={"X-Client-Info":`storage-js/${ny}`};var KS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=H(H({},sy),t),this.fetch=eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await uo(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await uo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Gt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ru(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await th(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},JS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=H(H({},sy),t),this.fetch=eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await uo(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await th(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!MS(e))throw new xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new IS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const rh={"X-Client-Info":`storage-js/${ny}`,"Content-Type":"application/json"};var ay=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var uc=class extends ay{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YS=class extends ay{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const nh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XS=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new uc(wp(a),n,o))}).catch(()=>{const a=n+"";t(new uc(s.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new uc(s.statusText||`HTTP ${n} error`,n,a))}}else t(new YS(wp(e),e))},ZS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(QS(n)?(s.headers=H({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,H(H({},s),r)):s};async function ej(e,t,r,n,s,a){return new Promise((o,l)=>{e(r,ZS(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>XS(c,l,n))})}async function wt(e,t,r,n,s){return ej(e,"POST",t,n,s,r)}var tj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=H(H({},rh),t),this.fetch=nh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await wt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await wt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}},rj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=H(H({},rh),t),this.fetch=nh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await wt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},nj=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=H(H({},rh),t),this.fetch=nh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await wt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await wt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},sj=class extends nj{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new aj(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},aj=class extends tj{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new oj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oj=class extends rj{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,H(H({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ij=class extends KS{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new GS(this.url,this.headers,e,this.fetch)}get vectors(){return new sj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JS(this.url+"/iceberg",this.headers,this.fetch)}};const oy="2.90.1",bs=30*1e3,Au=3,dc=Au*bs,lj="http://localhost:9999",cj="supabase.auth.token",uj={"X-Client-Info":`gotrue-js/${oy}`},Pu="X-Supabase-Api-Version",iy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hj=10*60*1e3;class ho extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fj extends ho{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pj(e){return B(e)&&e.name==="AuthApiError"}class Fn extends ho{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Mr extends ho{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class gt extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mj(e){return B(e)&&e.name==="AuthSessionMissingError"}class hs extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends Mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Go extends Mr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gj(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class bp extends Mr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vj extends Mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Iu extends Mr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hc(e){return B(e)&&e.name==="AuthRetryableFetchError"}class _p extends Mr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ou extends Mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),yj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sp.length;t+=1)e[Sp[t].charCodeAt(0)]=-2;for(let t=0;t<Wi.length;t+=1)e[Wi[t].charCodeAt(0)]=t;return e})();function jp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}}function ly(e,t,r){const n=yj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ep(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{bj(o,n,r)};for(let o=0;o<e.length;o+=1)ly(e.charCodeAt(o),s,a);return t.join("")}function xj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xj(n,t)}}function bj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ly(e.charCodeAt(s),r,n);return new Uint8Array(t)}function _j(e){const t=[];return wj(e,r=>t.push(r)),new Uint8Array(t)}function Hn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>jp(s,r,n)),jp(null,r,n),t.join("")}function Sj(e){return Math.round(Date.now()/1e3)+e}function jj(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},cy=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function Ej(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const uy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_s=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},On=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ge=async(e,t)=>{await e.removeItem(t)};class wl{constructor(){this.promise=new wl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wl.promiseConstructor=Promise;function fc(e){const t=e.split(".");if(t.length!==3)throw new Ou("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dj.test(t[n]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(Ep(t[0])),payload:JSON.parse(Ep(t[1])),signature:zs(t[2]),raw:{header:t[0],payload:t[1]}}}async function kj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cj(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function Tj(e){return("0"+e.toString(16)).substr(-2)}function Rj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Tj).join("")}async function Aj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Pj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Aj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(e,t,r=!1){const n=Rj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _s(e,`${t}-code-verifier`,s);const a=await Pj(n);return[a,n===a?"plain":"s256"]}const Ij=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oj(e){const t=e.headers.get(Pu);if(!t||!t.match(Ij))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Lj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(e){if(!Mj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $j(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Np(e){return JSON.parse(JSON.stringify(e))}const Bn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bj=[502,503,504];async function kp(e){var t;if(!Nj(e))throw new Iu(Bn(e),0);if(Bj.includes(e.status))throw new Iu(Bn(e),e.status);let r;try{r=await e.json()}catch(a){throw new Fn(Bn(a),a)}let n;const s=Oj(e);if(s&&s.getTime()>=iy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _p(Bn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new _p(Bn(r),e.status,r.weak_password.reasons);throw new fj(Bn(r),e.status||500,n)}const Uj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Pu]||(a[Pu]=iy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Fj(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Fj(e,t,r,n,s,a){const o=Uj(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Iu(Bn(c),0)}if(l.ok||await kp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await kp(c)}}function Vt(e){var t;let r=null;Vj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Sj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cp(e){const t=Vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function en(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zj(e){return{data:e,error:null}}function Wj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=ia(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Tp(e){return e}function Vj(e){return e.access_token&&e.refresh_token&&e.expires_in}const mc=["global","local","others"];class Hj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mc[0]){if(mc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mc.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ia(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:en})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Tp});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ps(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:en})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ps(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:en})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ps(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ps(t.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ps(t.userId),ps(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Tp});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}}function Rp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ms={debug:!!(globalThis&&cy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qj extends dy{}async function Gj(e,t,r){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ms.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Kj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Jj(e){return parseInt(e,16)}function Yj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Qj(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=hy(e.address),w=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${f}

${y}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);m+=`
- ${x}`}g+=m}return`${b}
${g}`}class Ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Vi extends Ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Xj({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fy(o)){if(a.rp.id!==o)return new Ue({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Zj({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fy(n)){if(r.rpId!==n)return new Ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eE{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tE=new eE;function rE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ia(e,["challenge","user","excludeCredentials"]),a=zs(t).buffer,o=Object.assign(Object.assign({},r),{id:zs(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function nE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ia(e,["challenge","allowCredentials"]),s=zs(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function sE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hn(new Uint8Array(s.authenticatorData)),clientDataJSON:Hn(new Uint8Array(s.clientDataJSON)),signature:Hn(new Uint8Array(s.signature)),userHandle:s.userHandle?Hn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ap(){var e,t;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",t)}:{data:null,error:new Vi("Empty credential response",t)}}catch(t){return{data:null,error:Xj({error:t,options:e})}}}async function iE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",t)}:{data:null,error:new Vi("Empty credential response",t)}}catch(t){return{data:null,error:Zj({error:t,options:e})}}}const lE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Hi(l,o):n[a]=Hi(o)}else n[a]=o}return n}function uE(e,t){return Hi(lE,e,t||{})}function dE(e,t){return Hi(cE,e,t||{})}class hE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??tE.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=uE(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await oE({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=dE(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await iE(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Fn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn authentication")};try{if(!Ap())return{data:null,error:new Fn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Fn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn registration")};try{if(!Ap())return{data:null,error:new Fn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Fn("Unexpected error in register",o)}}}}Kj();const fE={url:lj,storageKey:cj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Pp(e,t,r){return await r()}const gs={};class fo{get jwks(){var t,r;return(r=(t=gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},fE),t);if(this.storageKey=a.storageKey,this.instanceID=(r=fo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ke()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uy(a.fetch),this.lock=a.lock||Pp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gj:this.lock=Pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:cy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${oy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ke()&&(r=Ej(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gj(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?this._returnResult({error:r}):this._returnResult({error:new Fn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vt}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await fs(this.storage,this.storageKey)),a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:w},xform:Vt})}else if("phone"in t){const{phone:d,password:h,options:p}=t;a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Vt})}else throw new qo("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cp})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cp})}else throw new qo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new hs;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,p;let f,w;if("message"in t)f=t.message,w=t.signature;else{const{chain:y,wallet:b,statement:g,options:m}=t;let x;if(Ke())if(typeof b=="object")x=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=hy(S[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const k=await x.request({method:"eth_chainId"});j=Jj(k)}const N={domain:_.host,address:E,statement:g,uri:_.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Qj(N),w=await x.request({method:"personal_sign",params:[Yj(f),E]})}try{const{data:y,error:b}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Vt});if(b)throw b;if(!y||!y.session||!y.user){const g=new hs;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(B(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,p,f;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:g,statement:m,options:x}=t;let _;if(Ke())if(typeof g=="object")_=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Hn(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Vt});if(g)throw g;if(!b||!b.session||!b.user){const m=new hs;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(B(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await On(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new vj;const{data:a,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vt});if(await Ge(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new hs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await fs(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qo("You must provide either an email or phone number.")}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await fs(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:zj});return!((a=u.data)===null||a===void 0)&&a.url&&Ke()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(B(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new qo("You must provide either an email or phone number and a type")}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await On(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=$j(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:en}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:en})})}catch(r){if(B(r))return mj(r)&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new gt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await fs(this.storage,this.storageKey));const{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:en});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=fc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(B(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ke())throw new Go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bp("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Go("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(B(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pj(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=jj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fs(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:p}=a;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(B(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Vt}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new hs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cj(async s=>(s>0&&await kj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&hc(a)&&Date.now()+o-n<bs})}catch(n){if(this._debug(r,"error",n),B(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await On(this.storage,this.storageKey);if(s&&this.userStorage){let o=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _s(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pc()}else if(s&&!s.user&&!s.user){const o=await On(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ge(this.storage,this.storageKey+"-user"),await _s(this.storage,this.storageKey,s)):s.user=pc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dc;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${dc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),hc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new gt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),B(a)){const o={data:null,error:a};return hc(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ge(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _s(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Np(s);await _s(this.storage,this.storageKey,a)}else{const s=Np(r);await _s(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ge(this.storage,this.storageKey),await Ge(this.storage,this.storageKey+"-code-verifier"),await Ge(this.storage,this.storageKey+"-user"),this.userStorage&&await Ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bs}ms, refresh threshold is ${Au} ticks`),s<=Au&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await fs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sE(t.webauthn.credential_response):aE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fc(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new gt})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new gt});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new gt});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gt})})}catch(t){if(B(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gt})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hj>s)return n;const{data:a,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:w}=await this.getSession();if(w||!f.session)return this._returnResult({data:null,error:w});n=f.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=fc(n);r!=null&&r.allowExpired||Dj(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:s,signature:o},error:null}}const d=Lj(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,_j(`${l}.${c}`)))throw new Ou("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}}fo.nextInstanceID={};const pE=fo,mE="2.90.1";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const gE={"X-Client-Info":`supabase-js-${Ta}/${mE}`},vE={headers:gE},yE={schema:"public"},xE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wE={};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function bE(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _E(e){var t=bE(e,"string");return po(t)=="symbol"?t:t+""}function SE(e,t,r){return(t=_E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(r),!0).forEach(function(n){SE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const jE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EE=()=>Headers,NE=(e,t,r)=>{const n=jE(r),s=EE();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Le(Le({},o),{},{headers:u}))}};function kE(e){return e.endsWith("/")?e:e+"/"}function CE(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Le(Le({},c),s),auth:Le(Le({},u),a),realtime:Le(Le({},d),o),storage:{},global:Le(Le(Le({},h),l),{},{headers:Le(Le({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function TE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var RE=class extends pE{constructor(e){super(e)}},AE=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=TE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:yE,realtime:wE,auth:Le(Le({},xE),{},{storageKey:o}),global:vE},c=CE(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=NE(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new uS(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new ij(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new aS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RE({url:this.authUrl.href,headers:Le(Le({},p),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new kS(this.realtimeUrl.href,Le(Le({},e),{},{params:Le(Le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PE=(e,t,r)=>new AE(e,t,r);function IE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}IE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OE="https://mnlitpbxbxbjygydvloy.supabase.co",DE="sb_publishable_jGVDb06hxBOkQoGVZZGm1w_88N9pDKi",xe=PE(OE,DE),py=v.createContext(void 0);function LE({children:e}){const[t,r]=v.useState(null),[n,s]=v.useState(!0);v.useEffect(()=>{xe.auth.getSession().then(({data:{session:h}})=>{r((h==null?void 0:h.user)??null),s(!1)}).catch(h=>{console.error("Erro ao obter sesso:",h),s(!1)});const{data:{subscription:d}}=xe.auth.onAuthStateChange((h,p)=>{r((p==null?void 0:p.user)??null)});return()=>{d&&d.unsubscribe()}},[]);const a=async(d,h)=>{var p,f;try{const{error:w}=await xe.auth.signInWithPassword({email:d,password:h});return w&&(console.error("Erro no login:",w),((p=w.message)!=null&&p.includes("fetch")||(f=w.message)!=null&&f.includes("Failed to fetch"))&&(console.error(" Erro de conexo com Supabase. Verifique:"),console.error("1. As variveis de ambiente no arquivo .env"),console.error("2. Se o servidor foi reiniciado aps criar/atualizar o .env"),console.error("3. Se a URL e chave do Supabase esto corretas"))),{error:w}}catch(w){return console.error("Erro ao fazer login:",w),{error:{message:w.message||"Erro ao conectar com o servidor. Verifique sua conexo e as configuraes do Supabase."}}}},o=async(d,h,p)=>{const{error:f}=await xe.auth.signUp({email:d,password:h,options:{data:{full_name:p}}});return{error:f}},l=async()=>{await xe.auth.signOut()},c=async d=>{const{error:h}=await xe.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});return{error:h}},u=async(d,h)=>{const{error:p}=await xe.auth.verifyOtp({token_hash:d,type:"recovery"});if(p)return{error:p};const{error:f}=await xe.auth.updateUser({password:h});return{error:f}};return i.jsx(py.Provider,{value:{user:t,loading:n,signIn:a,signUp:o,signOut:l,resetPassword:c,updatePassword:u},children:e})}function $r(){const e=v.useContext(py);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var ME=e=>{switch(e){case"success":return UE;case"info":return zE;case"warning":return FE;case"error":return WE;default:return null}},$E=Array(12).fill(0),BE=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},$E.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UE=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FE=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zE=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WE=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VE=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HE=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Du=1,qE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Du++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(KE(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Du++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lt=new qE,GE=(e,t)=>{let r=(t==null?void 0:t.id)||Du++;return lt.addToast({title:e,...t,id:r}),r},KE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JE=GE,YE=()=>lt.toasts,QE=()=>lt.getActiveToasts(),X=Object.assign(JE,{success:lt.success,info:lt.info,warning:lt.warning,error:lt.error,custom:lt.custom,message:lt.message,promise:lt.promise,dismiss:lt.dismiss,loading:lt.loading},{getHistory:YE,getToasts:QE});function XE(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}XE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ko(e){return e.label!==void 0}var ZE=3,eN="32px",tN="16px",Op=4e3,rN=356,nN=14,sN=20,aN=200;function zt(...e){return e.filter(Boolean).join(" ")}function oN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var iN=e=>{var t,r,n,s,a,o,l,c,u,d,h;let{invert:p,toast:f,unstyled:w,interacting:y,setHeights:b,visibleToasts:g,heights:m,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:j,closeButton:N,style:k,cancelButtonStyle:R,actionButtonStyle:O,className:I="",descriptionClassName:G="",duration:q,position:oe,gap:$,loadingIcon:K,expandByDefault:C,classNames:T,icons:L,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:z}=e,[le,ee]=P.useState(null),[Se,Oe]=P.useState(null),[D,ge]=P.useState(!1),[De,me]=P.useState(!1),[he,pe]=P.useState(!1),[Ze,kt]=P.useState(!1),[Tn,Ur]=P.useState(!1),[Rn,ha]=P.useState(0),[os,Uh]=P.useState(0),fa=P.useRef(f.duration||q||Op),Fh=P.useRef(null),An=P.useRef(null),pw=x===0,mw=x+1<=g,Ct=f.type,is=f.dismissible!==!1,gw=f.className||"",vw=f.descriptionClassName||"",No=P.useMemo(()=>m.findIndex(Y=>Y.toastId===f.id)||0,[m,f.id]),yw=P.useMemo(()=>{var Y;return(Y=f.closeButton)!=null?Y:N},[f.closeButton,N]),zh=P.useMemo(()=>f.duration||q||Op,[f.duration,q]),Pl=P.useRef(0),ls=P.useRef(0),Wh=P.useRef(0),cs=P.useRef(null),[xw,ww]=oe.split("-"),Vh=P.useMemo(()=>m.reduce((Y,ye,ke)=>ke>=No?Y:Y+ye.height,0),[m,No]),Hh=HE(),bw=f.invert||p,Il=Ct==="loading";ls.current=P.useMemo(()=>No*$+Vh,[No,Vh]),P.useEffect(()=>{fa.current=zh},[zh]),P.useEffect(()=>{ge(!0)},[]),P.useEffect(()=>{let Y=An.current;if(Y){let ye=Y.getBoundingClientRect().height;return Uh(ye),b(ke=>[{toastId:f.id,height:ye,position:f.position},...ke]),()=>b(ke=>ke.filter($t=>$t.toastId!==f.id))}},[b,f.id]),P.useLayoutEffect(()=>{if(!D)return;let Y=An.current,ye=Y.style.height;Y.style.height="auto";let ke=Y.getBoundingClientRect().height;Y.style.height=ye,Uh(ke),b($t=>$t.find(Bt=>Bt.toastId===f.id)?$t.map(Bt=>Bt.toastId===f.id?{...Bt,height:ke}:Bt):[{toastId:f.id,height:ke,position:f.position},...$t])},[D,f.title,f.description,b,f.id]);let Fr=P.useCallback(()=>{me(!0),ha(ls.current),b(Y=>Y.filter(ye=>ye.toastId!==f.id)),setTimeout(()=>{E(f)},aN)},[f,E,b,ls]);P.useEffect(()=>{if(f.promise&&Ct==="loading"||f.duration===1/0||f.type==="loading")return;let Y;return S||y||z&&Hh?(()=>{if(Wh.current<Pl.current){let ye=new Date().getTime()-Pl.current;fa.current=fa.current-ye}Wh.current=new Date().getTime()})():fa.current!==1/0&&(Pl.current=new Date().getTime(),Y=setTimeout(()=>{var ye;(ye=f.onAutoClose)==null||ye.call(f,f),Fr()},fa.current)),()=>clearTimeout(Y)},[S,y,f,Ct,z,Hh,Fr]),P.useEffect(()=>{f.delete&&Fr()},[Fr,f.delete]);function _w(){var Y,ye,ke;return L!=null&&L.loading?P.createElement("div",{className:zt(T==null?void 0:T.loader,(Y=f==null?void 0:f.classNames)==null?void 0:Y.loader,"sonner-loader"),"data-visible":Ct==="loading"},L.loading):K?P.createElement("div",{className:zt(T==null?void 0:T.loader,(ye=f==null?void 0:f.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Ct==="loading"},K):P.createElement(BE,{className:zt(T==null?void 0:T.loader,(ke=f==null?void 0:f.classNames)==null?void 0:ke.loader),visible:Ct==="loading"})}return P.createElement("li",{tabIndex:0,ref:An,className:zt(I,gw,T==null?void 0:T.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Ct],(r=f==null?void 0:f.classNames)==null?void 0:r[Ct]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:j,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":D,"data-promise":!!f.promise,"data-swiped":Tn,"data-removed":De,"data-visible":mw,"data-y-position":xw,"data-x-position":ww,"data-index":x,"data-front":pw,"data-swiping":he,"data-dismissible":is,"data-type":Ct,"data-invert":bw,"data-swipe-out":Ze,"data-swipe-direction":Se,"data-expanded":!!(S||C&&D),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${De?Rn:ls.current}px`,"--initial-height":C?"auto":`${os}px`,...k,...f.style},onDragEnd:()=>{pe(!1),ee(null),cs.current=null},onPointerDown:Y=>{Il||!is||(Fh.current=new Date,ha(ls.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(pe(!0),cs.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,ye,ke,$t;if(Ze||!is)return;cs.current=null;let Bt=Number(((Y=An.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zr=Number(((ye=An.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pn=new Date().getTime()-((ke=Fh.current)==null?void 0:ke.getTime()),Ut=le==="x"?Bt:zr,Wr=Math.abs(Ut)/Pn;if(Math.abs(Ut)>=sN||Wr>.11){ha(ls.current),($t=f.onDismiss)==null||$t.call(f,f),Oe(le==="x"?Bt>0?"right":"left":zr>0?"down":"up"),Fr(),kt(!0),Ur(!1);return}pe(!1),ee(null)},onPointerMove:Y=>{var ye,ke,$t,Bt;if(!cs.current||!is||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let zr=Y.clientY-cs.current.y,Pn=Y.clientX-cs.current.x,Ut=(ke=e.swipeDirections)!=null?ke:oN(oe);!le&&(Math.abs(Pn)>1||Math.abs(zr)>1)&&ee(Math.abs(Pn)>Math.abs(zr)?"x":"y");let Wr={x:0,y:0};le==="y"?(Ut.includes("top")||Ut.includes("bottom"))&&(Ut.includes("top")&&zr<0||Ut.includes("bottom")&&zr>0)&&(Wr.y=zr):le==="x"&&(Ut.includes("left")||Ut.includes("right"))&&(Ut.includes("left")&&Pn<0||Ut.includes("right")&&Pn>0)&&(Wr.x=Pn),(Math.abs(Wr.x)>0||Math.abs(Wr.y)>0)&&Ur(!0),($t=An.current)==null||$t.style.setProperty("--swipe-amount-x",`${Wr.x}px`),(Bt=An.current)==null||Bt.style.setProperty("--swipe-amount-y",`${Wr.y}px`)}},yw&&!f.jsx?P.createElement("button",{"aria-label":J,"data-disabled":Il,"data-close-button":!0,onClick:Il||!is?()=>{}:()=>{var Y;Fr(),(Y=f.onDismiss)==null||Y.call(f,f)},className:zt(T==null?void 0:T.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(a=L==null?void 0:L.close)!=null?a:VE):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:P.createElement(P.Fragment,null,Ct||f.icon||f.promise?P.createElement("div",{"data-icon":"",className:zt(T==null?void 0:T.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||_w():null,f.type!=="loading"?f.icon||(L==null?void 0:L[Ct])||ME(Ct):null):null,P.createElement("div",{"data-content":"",className:zt(T==null?void 0:T.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:zt(T==null?void 0:T.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?P.createElement("div",{"data-description":"",className:zt(G,vw,T==null?void 0:T.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&Ko(f.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:Y=>{var ye,ke;Ko(f.cancel)&&is&&((ke=(ye=f.cancel).onClick)==null||ke.call(ye,Y),Fr())},className:zt(T==null?void 0:T.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&Ko(f.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||O,onClick:Y=>{var ye,ke;Ko(f.action)&&((ke=(ye=f.action).onClick)==null||ke.call(ye,Y),!Y.defaultPrevented&&Fr())},className:zt(T==null?void 0:T.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Dp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lN(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?tN:eN;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var cN=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:w=ZE,toastOptions:y,dir:b=Dp(),gap:g=nN,loadingIcon:m,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,j]=P.useState([]),N=P.useMemo(()=>Array.from(new Set([n].concat(E.filter(z=>z.position).map(z=>z.position)))),[E,n]),[k,R]=P.useState([]),[O,I]=P.useState(!1),[G,q]=P.useState(!1),[oe,$]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=P.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=P.useRef(null),L=P.useRef(!1),J=P.useCallback(z=>{j(le=>{var ee;return(ee=le.find(Se=>Se.id===z.id))!=null&&ee.delete||lt.dismiss(z.id),le.filter(({id:Se})=>Se!==z.id)})},[]);return P.useEffect(()=>lt.subscribe(z=>{if(z.dismiss){j(le=>le.map(ee=>ee.id===z.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Fv.flushSync(()=>{j(le=>{let ee=le.findIndex(Se=>Se.id===z.id);return ee!==-1?[...le.slice(0,ee),{...le[ee],...z},...le.slice(ee+1)]:[z,...le]})})})}),[]),P.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:le})=>{$(le?"dark":"light")})}catch{z.addListener(({matches:ee})=>{try{$(ee?"dark":"light")}catch(Se){console.error(Se)}})}},[d]),P.useEffect(()=>{E.length<=1&&I(!1)},[E]),P.useEffect(()=>{let z=le=>{var ee,Se;s.every(Oe=>le[Oe]||le.code===Oe)&&(I(!0),(ee=K.current)==null||ee.focus()),le.code==="Escape"&&(document.activeElement===K.current||(Se=K.current)!=null&&Se.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),P.useEffect(()=>{if(K.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,L.current=!1)}},[K.current]),P.createElement("section",{ref:t,"aria-label":`${_} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((z,le)=>{var ee;let[Se,Oe]=z.split("-");return E.length?P.createElement("ol",{key:z,dir:b==="auto"?Dp():b,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":Se,"data-lifted":O&&E.length>1&&!a,"data-x-position":Oe,style:{"--front-toast-height":`${((ee=k[0])==null?void 0:ee.height)||0}px`,"--width":`${rN}px`,"--gap":`${g}px`,...f,...lN(c,u)},onBlur:D=>{L.current&&!D.currentTarget.contains(D.relatedTarget)&&(L.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||L.current||(L.current=!0,T.current=D.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{G||I(!1)},onDragEnd:()=>I(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},E.filter(D=>!D.position&&le===0||D.position===z).map((D,ge)=>{var De,me;return P.createElement(iN,{key:D.id,icons:x,index:ge,toast:D,defaultRichColors:h,duration:(De=y==null?void 0:y.duration)!=null?De:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(me=y==null?void 0:y.closeButton)!=null?me:o,interacting:G,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:J,toasts:E.filter(he=>he.position==D.position),heights:k.filter(he=>he.position==D.position),setHeights:R,expandByDefault:a,gap:g,loadingIcon:m,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const uN=({...e})=>i.jsx(cN,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e});function Lp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function my(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Lp(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Lp(e[s],null)}}}}function Ie(...e){return v.useCallback(my(...e),e)}var es=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),a=s.find(hN);if(a){const o=a.props.children,l=s.map(c=>c===a?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(Lu,{...n,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(Lu,{...n,ref:t,children:r})});es.displayName="Slot";var Lu=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=pN(r);return v.cloneElement(r,{...fN(n,r.props),ref:t?my(t,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});Lu.displayName="SlotClone";var dN=({children:e})=>i.jsx(i.Fragment,{children:e});function hN(e){return v.isValidElement(e)&&e.type===dN}function fN(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function pN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gy(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vy(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gy(e))&&(n&&(n+=" "),n+=t);return n}const Mp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$p=vy,yy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $p(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=Mp(d)||Mp(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...u,h,p]:u},[]);return $p(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},sh="-",mN=e=>{const t=vN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sh);return l[0]===""&&l.length!==1&&l.shift(),xy(l,t)||gN(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},xy=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?xy(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(sh);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Bp=/^\[(.+)\]$/,gN=e=>{if(Bp.test(e)){const t=Bp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},vN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xN(Object.entries(e.classGroups),r).forEach(([a,o])=>{Mu(o,n,a,t)}),n},Mu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Up(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(yN(s)){Mu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Mu(o,Up(t,a),r,n)})})},Up=(e,t)=>{let r=e;return t.split(sh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},yN=e=>e.isThemeGetter,xN=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,wN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},wy="!",bN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let g=l[b];if(u===0){if(g===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(g==="/"){h=b;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(wy),w=f?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},_N=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},SN=e=>({cache:wN(e.cacheSize),parseClassName:bN(e),...mN(e)}),jN=/\s+/,EN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(jN);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let w=!!f,y=n(w?p.substring(0,f):p);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=_N(d).join(":"),g=h?b+wy:b,m=g+y;if(a.includes(m))continue;a.push(m);const x=s(y,w);for(let _=0;_<x.length;++_){const S=x[_];a.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function NN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=by(t))&&(n&&(n+=" "),n+=r);return n}const by=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=by(e[n]))&&(r&&(r+=" "),r+=t);return r};function kN(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=SN(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=EN(c,r);return s(c,d),d}return function(){return a(NN.apply(null,arguments))}}const je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_y=/^\[(?:([a-z-]+):)?(.+)\]$/i,CN=/^\d+\/\d+$/,TN=new Set(["px","full","screen"]),RN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ON=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yr=e=>Ws(e)||TN.has(e)||CN.test(e),Hr=e=>la(e,"length",zN),Ws=e=>!!e&&!Number.isNaN(Number(e)),gc=e=>la(e,"number",Ws),_a=e=>!!e&&Number.isInteger(Number(e)),DN=e=>e.endsWith("%")&&Ws(e.slice(0,-1)),Q=e=>_y.test(e),qr=e=>RN.test(e),LN=new Set(["length","size","percentage"]),MN=e=>la(e,LN,Sy),$N=e=>la(e,"position",Sy),BN=new Set(["image","url"]),UN=e=>la(e,BN,VN),FN=e=>la(e,"",WN),Sa=()=>!0,la=(e,t,r)=>{const n=_y.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},zN=e=>AN.test(e)&&!PN.test(e),Sy=()=>!1,WN=e=>IN.test(e),VN=e=>ON.test(e),HN=()=>{const e=je("colors"),t=je("spacing"),r=je("blur"),n=je("brightness"),s=je("borderColor"),a=je("borderRadius"),o=je("borderSpacing"),l=je("borderWidth"),c=je("contrast"),u=je("grayscale"),d=je("hueRotate"),h=je("invert"),p=je("gap"),f=je("gradientColorStops"),w=je("gradientColorStopPositions"),y=je("inset"),b=je("margin"),g=je("opacity"),m=je("padding"),x=je("saturate"),_=je("scale"),S=je("sepia"),E=je("skew"),j=je("space"),N=je("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Q,t],I=()=>[Q,t],G=()=>["",yr,Hr],q=()=>["auto",Ws,Q],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Q],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ws,Q];return{cacheSize:500,separator:":",theme:{colors:[Sa],spacing:[yr,Hr],blur:["none","",qr,Q],brightness:J(),borderColor:[e],borderRadius:["none","","full",qr,Q],borderSpacing:I(),borderWidth:G(),contrast:J(),grayscale:T(),hueRotate:J(),invert:T(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[DN,Hr],inset:O(),margin:O(),opacity:J(),padding:I(),saturate:J(),scale:J(),sepia:T(),skew:J(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),Q]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_a,Q]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",_a,Q]}],"grid-cols":[{"grid-cols":[Sa]}],"col-start-end":[{col:["auto",{span:["full",_a,Q]},Q]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Sa]}],"row-start-end":[{row:["auto",{span:[_a,Q]},Q]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,t]}],"min-w":[{"min-w":[Q,t,"min","max","fit"]}],"max-w":[{"max-w":[Q,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[Q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gc]}],"font-family":[{font:[Sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",Ws,gc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,Hr]}],"underline-offset":[{"underline-offset":["auto",yr,Q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),$N]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[yr,Q]}],"outline-w":[{outline:[yr,Hr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[yr,Hr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,FN]}],"shadow-color":[{shadow:[Sa]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qr,Q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[_a,Q]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,Hr,gc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qN=kN(HN);function W(...e){return qN(vy(e))}const GN=yy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?es:"button";return i.jsx(o,{className:W(GN({variant:t,size:r,className:e})),ref:a,...s})});U.displayName="Button";const be=v.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";var KN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=KN.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?es:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function JN(e,t){e&&sa.flushSync(()=>e.dispatchEvent(t))}var YN="Label",jy=v.forwardRef((e,t)=>i.jsx(ne.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jy.displayName=YN;var Ey=jy;const QN=yy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=v.forwardRef(({className:e,...t},r)=>i.jsx(Ey,{ref:r,className:W(QN(),e),...t}));ce.displayName=Ey.displayName;const F=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));F.displayName="Card";const te=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));te.displayName="CardHeader";const re=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));re.displayName="CardTitle";const ue=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));ue.displayName="CardDescription";const Z=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));Z.displayName="CardContent";const XN=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));XN.displayName="CardFooter";function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ZN(e,t){const r=v.createContext(t),n=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Br(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=h=>{var g;const{scope:p,children:f,...w}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,b=v.useMemo(()=>w,Object.values(w));return i.jsx(y.Provider,{value:b,children:f})};u.displayName=a+"Provider";function d(h,p){var y;const f=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,w=v.useContext(f);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ek(s,...t)]}function ek(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ny(e){const t=e+"CollectionProvider",[r,n]=Br(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:w,children:y}=f,b=P.useRef(null),g=P.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:g,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=P.forwardRef((f,w)=>{const{scope:y,children:b}=f,g=a(l,y),m=Ie(w,g.collectionRef);return i.jsx(es,{ref:m,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=P.forwardRef((f,w)=>{const{scope:y,children:b,...g}=f,m=P.useRef(null),x=Ie(w,m),_=a(u,y);return P.useEffect(()=>(_.itemMap.set(m,{ref:m,...g}),()=>void _.itemMap.delete(m))),i.jsx(es,{[d]:"",ref:x,children:b})});h.displayName=u;function p(f){const w=a(e+"CollectionConsumer",f);return P.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,S)=>g.indexOf(_.ref.current)-g.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,n]}var Xe=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},tk=$m.useId||(()=>{}),rk=0;function mn(e){const[t,r]=v.useState(tk());return Xe(()=>{r(n=>n??String(rk++))},[e]),t?`radix-${t}`:""}function rr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Zs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=nk({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=rr(r),c=v.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[o,c]}function nk({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),a=rr(t);return v.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var sk=v.createContext(void 0);function ah(e){const t=v.useContext(sk);return e||t||"ltr"}var vc="rovingFocusGroup.onEntryFocus",ak={bubbles:!1,cancelable:!0},bl="RovingFocusGroup",[$u,ky,ok]=Ny(bl),[ik,Cy]=Br(bl,[ok]),[lk,ck]=ik(bl),Ty=v.forwardRef((e,t)=>i.jsx($u.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx($u.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(uk,{...e,ref:t})})}));Ty.displayName=bl;var uk=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=v.useRef(null),f=Ie(t,p),w=ah(a),[y=null,b]=Zs({prop:o,defaultProp:l,onChange:c}),[g,m]=v.useState(!1),x=rr(u),_=ky(r),S=v.useRef(!1),[E,j]=v.useState(0);return v.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(vc,x),()=>N.removeEventListener(vc,x)},[x]),i.jsx(lk,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(N=>b(N),[b]),onItemShiftTab:v.useCallback(()=>m(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:i.jsx(ne.div,{tabIndex:g||E===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{S.current=!0}),onFocus:de(e.onFocus,N=>{const k=!S.current;if(N.target===N.currentTarget&&k&&!g){const R=new CustomEvent(vc,ak);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=_().filter($=>$.focusable),I=O.find($=>$.active),G=O.find($=>$.id===y),oe=[I,G,...O].filter(Boolean).map($=>$.ref.current);Py(oe,d)}}S.current=!1}),onBlur:de(e.onBlur,()=>m(!1))})})}),Ry="RovingFocusGroupItem",Ay=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=mn(),c=a||l,u=ck(Ry,r),d=u.currentTabStopId===c,h=ky(r),{onFocusableItemAdd:p,onFocusableItemRemove:f}=u;return v.useEffect(()=>{if(n)return p(),()=>f()},[n,p,f]),i.jsx($u.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:de(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:de(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:de(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=fk(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=h().filter(m=>m.focusable).map(m=>m.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const m=g.indexOf(w.currentTarget);g=u.loop?pk(g,m+1):g.slice(m+1)}setTimeout(()=>Py(g))}})})})});Ay.displayName=Ry;var dk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fk(e,t,r){const n=hk(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dk[n]}function Py(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function pk(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mk=Ty,gk=Ay;function vk(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var So=e=>{const{present:t,children:r}=e,n=yk(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=Ie(n.ref,xk(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:a}):null};So.displayName="Presence";function yk(e){const[t,r]=v.useState(),n=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=vk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Jo(n.current);a.current=l==="mounted"?u:"none"},[l]),Xe(()=>{const u=n.current,d=s.current;if(d!==e){const p=a.current,f=Jo(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xe(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const y=Jo(n.current).includes(f.animationName);if(f.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=f=>{f.target===t&&(a.current=Jo(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Jo(e){return(e==null?void 0:e.animationName)||"none"}function xk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oh="Tabs",[wk]=Br(oh,[Cy]),Iy=Cy(),[bk,ih]=wk(oh),Oy=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ah(l),[h,p]=Zs({prop:n,onChange:s,defaultProp:a});return i.jsx(bk,{scope:r,baseId:mn(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:i.jsx(ne.div,{dir:d,"data-orientation":o,...u,ref:t})})});Oy.displayName=oh;var Dy="TabsList",Ly=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=ih(Dy,r),o=Iy(r);return i.jsx(mk,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Ly.displayName=Dy;var My="TabsTrigger",$y=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=ih(My,r),l=Iy(r),c=Fy(o.baseId,n),u=zy(o.baseId,n),d=n===o.value;return i.jsx(gk,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:de(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:de(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});$y.displayName=My;var By="TabsContent",Uy=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=ih(By,r),c=Fy(l.baseId,n),u=zy(l.baseId,n),d=n===l.value,h=v.useRef(d);return v.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(So,{present:s||d,children:({present:p})=>i.jsx(ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});Uy.displayName=By;function Fy(e,t){return`${e}-trigger-${t}`}function zy(e,t){return`${e}-content-${t}`}var _k=Oy,Wy=Ly,Vy=$y,Hy=Uy;const lh=_k,_l=v.forwardRef(({className:e,...t},r)=>i.jsx(Wy,{ref:r,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_l.displayName=Wy.displayName;const ut=v.forwardRef(({className:e,...t},r)=>i.jsx(Vy,{ref:r,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ut.displayName=Vy.displayName;const dt=v.forwardRef(({className:e,...t},r)=>i.jsx(Hy,{ref:r,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dt.displayName=Hy.displayName;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qy=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...jk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qy("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement(Ek,{ref:a,iconNode:t,className:qy(`lucide-${Sk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=se("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zk(){const e=Nn(),{signIn:t,signUp:r}=$r(),[n,s]=v.useState(!1),[a,o]=v.useState({email:"",password:""}),[l,c]=v.useState({name:"",email:"",password:"",confirmPassword:""}),[u,d]=v.useState(!1),[h,p]=v.useState(!1),[f,w]=v.useState(!1),y=async g=>{g.preventDefault(),s(!0);const{error:m}=await t(a.email,a.password);m?X.error("Erro ao fazer login",{description:m.message}):(X.success("Login realizado com sucesso!"),e("/")),s(!1)},b=async g=>{if(g.preventDefault(),l.password!==l.confirmPassword){X.error("As senhas no coincidem");return}if(l.password.length<6){X.error("A senha deve ter no mnimo 6 caracteres");return}s(!0);const{error:m}=await r(l.email,l.password,l.name);m?X.error("Erro ao criar conta",{description:m.message}):X.success("Conta criada com sucesso!",{description:"Verifique seu email para confirmar sua conta."}),s(!1)};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("img",{src:"/logo-principal-whizpic.png",alt:"WhizPic Logo",className:"h-[175px] w-auto",onError:g=>{console.error("Erro ao carregar logo:",g)}})}),i.jsx("p",{className:"text-muted-foreground",children:"Crie livros incrveis com o poder da IA"})]}),i.jsxs(lh,{defaultValue:"login",className:"w-full",children:[i.jsxs(_l,{className:"grid w-full grid-cols-2",children:[i.jsx(ut,{value:"login",children:"Entrar"}),i.jsx(ut,{value:"signup",children:"Criar Conta"})]}),i.jsx(dt,{value:"login",children:i.jsxs(F,{children:[i.jsxs(te,{children:[i.jsx(re,{children:"Bem-vindo de volta"}),i.jsx(ue,{children:"Entre com suas credenciais para continuar"})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"login-email",children:"Email"}),i.jsx(be,{id:"login-email",type:"email",placeholder:"seu@email.com",value:a.email,onChange:g=>o({...a,email:g.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"login-password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"login-password",type:u?"text":"password",placeholder:"",value:a.password,onChange:g=>o({...a,password:g.target.value}),className:"pr-10",required:!0}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?i.jsx(za,{className:"h-4 w-4"}):i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsx(ur,{to:"/reset-password",className:"text-sm text-muted-foreground hover:text-primary underline",children:"Esqueceu a senha?"})}),i.jsx(U,{type:"submit",className:"w-full",disabled:n,children:n?"Entrando...":"Entrar"})]})})]})}),i.jsx(dt,{value:"signup",children:i.jsxs(F,{children:[i.jsxs(te,{children:[i.jsx(re,{children:"Criar nova conta"}),i.jsx(ue,{children:"Preencha os dados abaixo para comear"})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"signup-name",children:"Nome Completo"}),i.jsx(be,{id:"signup-name",type:"text",placeholder:"Joo Silva",value:l.name,onChange:g=>c({...l,name:g.target.value}),className:"!border-[#6D56AB]",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"signup-email",children:"Email"}),i.jsx(be,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:l.email,onChange:g=>c({...l,email:g.target.value}),className:"!border-[#6D56AB]",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"signup-password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"signup-password",type:h?"text":"password",placeholder:"",value:l.password,onChange:g=>c({...l,password:g.target.value}),className:"pr-10 !border-[#6D56AB]",required:!0}),i.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?i.jsx(za,{className:"h-4 w-4"}):i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"signup-confirm",children:"Confirmar Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"signup-confirm",type:f?"text":"password",placeholder:"",value:l.confirmPassword,onChange:g=>c({...l,confirmPassword:g.target.value}),className:"pr-10 !border-[#6D56AB]",required:!0}),i.jsx("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f?i.jsx(za,{className:"h-4 w-4"}):i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsx(U,{type:"submit",className:"w-full",disabled:n,children:n?"Criando conta...":"Criar Conta"})]})})]})})]})]})}),i.jsx("div",{className:"hidden flex-1 bg-gradient-to-br from-[#6D56AB] via-[#4a3b75] to-[#6D56AB] lg:flex lg:items-center lg:justify-center lg:p-12",children:i.jsxs("div",{className:"max-w-xl text-white",children:[i.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 backdrop-blur-sm",children:[i.jsx(Jy,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Potencializado por IA"})]}),i.jsx("h2",{className:"mb-4 text-5xl font-bold leading-tight",children:"Crie livros extraordinrios em minutos"}),i.jsx("p",{className:"mb-8 text-xl text-white/90",children:"Nossa IA transforma suas ideias em histrias completas com textos envolventes e imagens impressionantes."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 flex h-6 w-6 items-center justify-center rounded-full bg-white/20",children:i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Gerao Automtica de Contedo"}),i.jsx("p",{className:"text-white/80",children:"IA cria textos e imagens personalizadas para seu livro"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 flex h-6 w-6 items-center justify-center rounded-full bg-white/20",children:i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Edio Intuitiva"}),i.jsx("p",{className:"text-white/80",children:"Personalize cada pgina do seu jeito"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 flex h-6 w-6 items-center justify-center rounded-full bg-white/20",children:i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Publicao Simples"}),i.jsx("p",{className:"text-white/80",children:"Exporte e compartilhe seus livros facilmente"})]})]})]})]})})]})}function Wk(){const e=Nn(),[t]=eS(),{resetPassword:r}=$r(),[n,s]=v.useState(!1),[a,o]=v.useState("email"),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,p]=v.useState(""),[f,w]=v.useState(""),[y,b]=v.useState(!1),[g,m]=v.useState(!1);v.useEffect(()=>{const S=t.get("token"),E=t.get("type");S&&(E==="recovery"||E==="email")&&o("code")},[t]);const x=async S=>{S.preventDefault(),s(!0);const{error:E}=await r(l);E?X.error("Erro ao enviar cdigo",{description:E.message}):X.success("Email enviado!",{description:"Verifique seu email e clique no link recebido para redefinir sua senha."}),s(!1)},_=async S=>{if(S.preventDefault(),h!==f){X.error("As senhas no coincidem");return}if(h.length<6){X.error("A senha deve ter no mnimo 6 caracteres");return}s(!0);try{const E=t.get("token");if(E){const{error:k}=await xe.auth.verifyOtp({token_hash:E,type:"recovery"});if(k){X.error("Link invlido ou expirado",{description:k.message}),s(!1);return}const{error:R}=await xe.auth.updateUser({password:h});R?X.error("Erro ao redefinir senha",{description:R.message}):(X.success("Senha redefinida com sucesso!",{description:"Voc pode fazer login com sua nova senha."}),e("/login")),s(!1);return}if(!u){X.error("Por favor, insira o cdigo recebido por email"),s(!1);return}const{error:j}=await xe.auth.verifyOtp({email:l,token:u,type:"recovery"});if(j){X.error("Cdigo invlido ou expirado",{description:j.message}),s(!1);return}const{error:N}=await xe.auth.updateUser({password:h});N?X.error("Erro ao redefinir senha",{description:N.message}):(X.success("Senha redefinida com sucesso!",{description:"Voc pode fazer login com sua nova senha."}),e("/login"))}catch(E){X.error("Erro ao redefinir senha",{description:E.message||"Ocorreu um erro inesperado."})}s(!1)};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("img",{src:"/logo-principal-whizpic.png",alt:"WhizPic Logo",className:"h-16 w-auto",onError:S=>{console.error("Erro ao carregar logo:",S)}})}),i.jsx("p",{className:"text-muted-foreground",children:"Redefinir sua senha"})]}),a==="email"?i.jsxs(F,{children:[i.jsxs(te,{children:[i.jsx(re,{children:"Esqueceu sua senha?"}),i.jsx(ue,{children:"Digite seu email e enviaremos um cdigo para redefinir sua senha"})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"reset-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Dk,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{id:"reset-email",type:"email",placeholder:"seu@email.com",value:l,onChange:S=>c(S.target.value),className:"pl-10",required:!0})]})]}),i.jsx(U,{type:"submit",className:"w-full",disabled:n,children:n?"Enviando...":"Enviar Cdigo"}),i.jsxs(U,{type:"button",variant:"ghost",className:"w-full",onClick:()=>e("/login"),children:[i.jsx(Bu,{className:"mr-2 h-4 w-4"}),"Voltar para login"]})]})})]}):i.jsxs(F,{children:[i.jsxs(te,{children:[i.jsx(re,{children:"Redefinir senha"}),i.jsx(ue,{children:t.get("token")?"Crie uma nova senha para sua conta":"Insira o cdigo recebido por email e sua nova senha"})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[!t.get("token")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"reset-code",children:"Cdigo de verificao"}),i.jsx(be,{id:"reset-code",type:"text",placeholder:"Digite o cdigo recebido",value:u,onChange:S=>d(S.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"new-password",children:"Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"new-password",type:y?"text":"password",placeholder:"",value:h,onChange:S=>p(S.target.value),className:"pr-10",required:!0}),i.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:y?i.jsx(za,{className:"h-4 w-4"}):i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"confirm-password",type:g?"text":"password",placeholder:"",value:f,onChange:S=>w(S.target.value),className:"pr-10",required:!0}),i.jsx("button",{type:"button",onClick:()=>m(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:g?i.jsx(za,{className:"h-4 w-4"}):i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsx(U,{type:"submit",className:"w-full",disabled:n,children:n?"Redefinindo...":"Redefinir Senha"}),i.jsxs(U,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{o("email"),d(""),p(""),w("")},children:[i.jsx(Bu,{className:"mr-2 h-4 w-4"}),"Voltar"]})]})})]})]})}),i.jsx("div",{className:"hidden flex-1 bg-gradient-to-br from-[#6D56AB] via-[#4a3b75] to-[#6D56AB] lg:flex lg:items-center lg:justify-center lg:p-12",children:i.jsxs("div",{className:"max-w-xl text-white",children:[i.jsx("h2",{className:"mb-4 text-5xl font-bold leading-tight",children:"Redefina sua senha com segurana"}),i.jsx("p",{className:"mb-8 text-xl text-white/90",children:"Receba um cdigo de verificao por email e crie uma nova senha segura para sua conta."})]})})]})}function Sl({message:e="Carregando...",className:t=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center gap-4 ${t}`,children:[i.jsx("img",{src:"/loading-whizpic.gif",alt:"Carregando",className:"h-16 w-16"}),e&&i.jsx("p",{className:"text-muted-foreground",children:e})]})}async function Zy(e){const{data:t,error:r}=await xe.from("books").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Erro ao buscar livros:",r),r;return t||[]}async function e0(e,t){const{data:r,error:n}=await xe.from("books").select("*").eq("id",e).eq("user_id",t).single();if(n){if(n.code==="PGRST116")return null;throw console.error("Erro ao buscar livro:",n),n}return r}async function Ki(e){const{data:t,error:r}=await xe.from("pages_livro").select("*").eq("book_id",e).order("id",{ascending:!0});if(r)throw console.error("Erro ao buscar pginas do livro:",r),r;return t||[]}async function Vk(e,t){const r=await e0(e,t);if(!r)return null;const n=await Ki(e);return{...r,pages:n}}async function Hk(e,t){if(!await e0(e,t))throw new Error("Livro no encontrado ou voc no tem permisso para delet-lo");const{error:n}=await xe.from("pages_livro").delete().eq("book_id",e);if(n)throw console.error("Erro ao deletar pginas:",n),n;const{error:s}=await xe.from("books").delete().eq("id",e).eq("user_id",t);if(s)throw console.error("Erro ao deletar livro:",s),s}async function qk(e){const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1).toISOString(),{count:s,error:a}=await xe.from("books").select("*",{count:"exact",head:!0}).eq("user_id",e).gte("created_at",n);if(a)throw console.error("Erro ao buscar progresso mensal:",a),a;return{current:s||0,limit:50}}function Gk(){const{user:e}=$r(),[t,r]=v.useState(!0),[n,s]=v.useState(0),[a,o]=v.useState(0),[l,c]=v.useState(0),[u,d]=v.useState([]);v.useEffect(()=>{async function p(){if(!(e!=null&&e.id)){r(!1);return}try{const f=await Zy(e.id);s(f.length),c(f.filter(b=>b.status==="published"||b.status==="Publicado").length);let w=0;for(const b of f){const g=await Ki(b.id);w+=g.length}const y=await Promise.all(f.slice(0,3).map(async b=>{const g=await Ki(b.id),m=g.find(k=>k.cover_image_url),x=(m==null?void 0:m.cover_image_url)||"/placeholder.svg",_=new Date(b.created_at),E=Math.abs(new Date().getTime()-_.getTime()),j=Math.ceil(E/(1e3*60*60*24));let N="";if(j===0)N="Hoje";else if(j===1)N="1 dia atrs";else if(j<7)N=`${j} dias atrs`;else if(j<30){const k=Math.floor(j/7);N=`${k} ${k===1?"semana":"semanas"} atrs`}else{const k=Math.floor(j/30);N=`${k} ${k===1?"ms":"meses"} atrs`}return{id:b.id,title:b.titulo||"Sem ttulo",cover:x,status:b.status||"Rascunho",pages:g.length,createdAt:N}}));o(w),d(y)}catch(f){console.error("Erro ao carregar dados do dashboard:",f)}finally{r(!1)}}p()},[e==null?void 0:e.id]);const h=[{title:"Total de Livros",value:n.toString(),change:"",icon:qi,trend:"up"},{title:"Pginas Geradas",value:a.toString(),change:"",icon:zu,trend:"up"},{title:"Livros Publicados",value:l.toString(),change:"",icon:gn,trend:"up"},{title:"Total de Pginas",value:a.toString(),change:"",icon:Gy,trend:"up"}];return t?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsx(Sl,{message:"Carregando dashboard..."})}):i.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"mb-2 text-3xl font-bold",style:{color:"#262626"},children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo de volta! Aqui est um resumo dos seus livros."})]}),i.jsxs("div",{className:"mb-8 flex gap-4",children:[i.jsx(ur,{to:"/criar-livro",className:"flex-1",children:i.jsx(F,{className:"group cursor-pointer border-2 border-dashed border-[#6D56AB]/30 bg-gradient-to-br from-[#6D56AB]/10 to-white transition-all hover:border-[#6D56AB] hover:shadow-lg",children:i.jsxs(Z,{className:"flex items-center gap-4 p-6",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-[#6D56AB] to-[#4a3b75] text-white shadow-md transition-transform group-hover:scale-110",children:i.jsx(Ky,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-primary",children:"Criar Novo Livro"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Comece uma nova histria"})]})]})})}),i.jsx(ur,{to:"/meus-livros",className:"flex-1",children:i.jsx(F,{className:"group cursor-pointer border-2 transition-all hover:border-[#6D56AB]/30 hover:shadow-lg",children:i.jsxs(Z,{className:"flex items-center gap-4 p-6",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 transition-transform group-hover:scale-110",children:i.jsx(qi,{className:"h-6 w-6 text-gray-700"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-primary",children:"Meus Livros"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ver todos os livros"})]})]})})})]}),i.jsx("div",{className:"mb-8 grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:h.map(p=>i.jsxs(F,{className:"border-0 shadow-md transition-all hover:shadow-lg",children:[i.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:p.title}),i.jsx("div",{className:"rounded-lg bg-[#6D56AB]/10 p-2",children:i.jsx(p.icon,{className:"h-4 w-4 text-[#6D56AB]"})})]}),i.jsxs(Z,{children:[i.jsx("div",{className:"mb-1 text-2xl font-bold text-primary",children:p.value}),i.jsxs("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(zu,{className:"h-3 w-3 text-green-600"}),p.change]})]})]},p.title))}),i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Livros Recentes"}),i.jsx(ue,{children:"Seus ltimos livros criados"})]}),i.jsx(Z,{children:u.length===0?i.jsxs("div",{className:"py-12 text-center",children:[i.jsx("p",{className:"mb-4 text-muted-foreground",children:"Voc ainda no tem livros criados."}),i.jsx(ur,{to:"/criar-livro",children:i.jsx(U,{children:"Criar Primeiro Livro"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u.map(p=>i.jsx(ur,{to:`/livro/${p.id}`,children:i.jsxs(F,{className:"group overflow-hidden transition-all hover:shadow-lg",children:[i.jsx("div",{className:"aspect-[3/4] overflow-hidden",children:i.jsx("img",{src:p.cover||"/placeholder.svg",alt:p.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"})}),i.jsxs(Z,{className:"p-4",children:[i.jsx("h3",{className:"mb-1 line-clamp-1 font-semibold text-primary",children:p.title}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[p.pages," pginas"]}),i.jsx("span",{className:p.status==="Publicado"||p.status==="published"?"rounded-full bg-green-100 px-2 py-0.5 text-green-700":"rounded-full bg-yellow-100 px-2 py-0.5 text-yellow-700",children:p.status==="published"||p.status==="Publicado"?"Publicado":"Rascunho"})]}),i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:p.createdAt})]})]})},p.id))}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(ur,{to:"/meus-livros",children:i.jsx(U,{variant:"outline",children:"Ver Todos os Livros"})})})]})})]})]})})}function Gp(e,[t,r]){return Math.min(r,Math.max(t,e))}function Kk(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Jk="DismissableLayer",Wu="dismissableLayer.update",Yk="dismissableLayer.pointerDownOutside",Qk="dismissableLayer.focusOutside",Kp,t0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uh=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(t0),[d,h]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),w=Ie(t,j=>h(j)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),m=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=m>=g,S=eC(j=>{const N=j.target,k=[...u.branches].some(R=>R.contains(N));!_||k||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},p),E=tC(j=>{const N=j.target;[...u.branches].some(R=>R.contains(N))||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},p);return Kk(j=>{m===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},p),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kp=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Kp)}},[d,p,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jp())},[d,u]),v.useEffect(()=>{const j=()=>f({});return document.addEventListener(Wu,j),()=>document.removeEventListener(Wu,j)},[]),i.jsx(ne.div,{...c,ref:w,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,E.onFocusCapture),onBlurCapture:de(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,S.onPointerDownCapture)})});uh.displayName=Jk;var Xk="DismissableLayerBranch",Zk=v.forwardRef((e,t)=>{const r=v.useContext(t0),n=v.useRef(null),s=Ie(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ne.div,{...e,ref:s})});Zk.displayName=Xk;function eC(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){r0(Yk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tC(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!n.current&&r0(Qk,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jp(){const e=new CustomEvent(Wu);document.dispatchEvent(e)}function r0(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?JN(s,a):s.dispatchEvent(a)}var yc=0;function n0(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yp()),document.body.insertAdjacentElement("beforeend",e[1]??Yp()),yc++,()=>{yc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yc--}},[])}function Yp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xc="focusScope.autoFocusOnMount",wc="focusScope.autoFocusOnUnmount",Qp={bubbles:!1,cancelable:!0},rC="FocusScope",dh=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=rr(s),d=rr(a),h=v.useRef(null),p=Ie(t,y=>c(y)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(x){if(f.paused||!l)return;const _=x.target;l.contains(_)?h.current=_:Gr(h.current,{select:!0})},b=function(x){if(f.paused||!l)return;const _=x.relatedTarget;_!==null&&(l.contains(_)||Gr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Gr(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const m=new MutationObserver(g);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),m.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){Zp.add(f);const y=document.activeElement;if(!l.contains(y)){const g=new CustomEvent(xc,Qp);l.addEventListener(xc,u),l.dispatchEvent(g),g.defaultPrevented||(nC(lC(s0(l)),{select:!0}),document.activeElement===y&&Gr(l))}return()=>{l.removeEventListener(xc,u),setTimeout(()=>{const g=new CustomEvent(wc,Qp);l.addEventListener(wc,d),l.dispatchEvent(g),g.defaultPrevented||Gr(y??document.body,{select:!0}),l.removeEventListener(wc,d),Zp.remove(f)},0)}}},[l,u,d,f]);const w=v.useCallback(y=>{if(!r&&!n||f.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const m=y.currentTarget,[x,_]=sC(m);x&&_?!y.shiftKey&&g===_?(y.preventDefault(),r&&Gr(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),r&&Gr(_,{select:!0})):g===m&&y.preventDefault()}},[r,n,f.paused]);return i.jsx(ne.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});dh.displayName=rC;function nC(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gr(n,{select:t}),document.activeElement!==r)return}function sC(e){const t=s0(e),r=Xp(t,e),n=Xp(t.reverse(),e);return[r,n]}function s0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xp(e,t){for(const r of e)if(!aC(r,{upTo:t}))return r}function aC(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oC(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oC(e)&&t&&e.select()}}var Zp=iC();function iC(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=em(e,t),e.unshift(t)},remove(t){var r;e=em(e,t),(r=e[0])==null||r.resume()}}}function em(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lC(e){return e.filter(t=>t.tagName!=="A")}const cC=["top","right","bottom","left"],xn=Math.min,yt=Math.max,Ji=Math.round,Yo=Math.floor,mr=e=>({x:e,y:e}),uC={left:"right",right:"left",bottom:"top",top:"bottom"},dC={start:"end",end:"start"};function Vu(e,t,r){return yt(e,xn(t,r))}function Ir(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function ca(e){return e.split("-")[1]}function hh(e){return e==="x"?"y":"x"}function fh(e){return e==="y"?"height":"width"}const hC=new Set(["top","bottom"]);function hr(e){return hC.has(Or(e))?"y":"x"}function ph(e){return hh(hr(e))}function fC(e,t,r){r===void 0&&(r=!1);const n=ca(e),s=ph(e),a=fh(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Yi(o)),[o,Yi(o)]}function pC(e){const t=Yi(e);return[Hu(e),t,Hu(t)]}function Hu(e){return e.replace(/start|end/g,t=>dC[t])}const tm=["left","right"],rm=["right","left"],mC=["top","bottom"],gC=["bottom","top"];function vC(e,t,r){switch(e){case"top":case"bottom":return r?t?rm:tm:t?tm:rm;case"left":case"right":return t?mC:gC;default:return[]}}function yC(e,t,r,n){const s=ca(e);let a=vC(Or(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Hu)))),a}function Yi(e){return e.replace(/left|right|bottom|top/g,t=>uC[t])}function xC(e){return{top:0,right:0,bottom:0,left:0,...e}}function a0(e){return typeof e!="number"?xC(e):{top:e,right:e,bottom:e,left:e}}function Qi(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function nm(e,t,r){let{reference:n,floating:s}=e;const a=hr(t),o=ph(t),l=fh(o),c=Or(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(ca(t)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}const wC=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=nm(u,n,c),p=n,f={},w=0;for(let y=0;y<l.length;y++){const{name:b,fn:g}=l[y],{x:m,y:x,data:_,reset:S}=await g({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=m??d,h=x??h,f={...f,[b]:{...f[b],..._}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=nm(u,p,c)),y=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function mo(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Ir(t,e),w=a0(f),b=l[p?h==="floating"?"reference":"floating":h],g=Qi(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Qi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:x,strategy:c}):m);return{top:(g.top-S.top+w.top)/_.y,bottom:(S.bottom-g.bottom+w.bottom)/_.y,left:(g.left-S.left+w.left)/_.x,right:(S.right-g.right+w.right)/_.x}}const bC=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ir(e,t)||{};if(u==null)return{};const h=a0(d),p={x:r,y:n},f=ph(s),w=fh(f),y=await o.getDimensions(u),b=f==="y",g=b?"top":"left",m=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=a.reference[w]+a.reference[f]-p[f]-a.floating[w],S=p[f]-a.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=E?E[x]:0;(!j||!await(o.isElement==null?void 0:o.isElement(E)))&&(j=l.floating[x]||a.floating[w]);const N=_/2-S/2,k=j/2-y[w]/2-1,R=xn(h[g],k),O=xn(h[m],k),I=R,G=j-y[w]-O,q=j/2-y[w]/2+N,oe=Vu(I,q,G),$=!c.arrow&&ca(s)!=null&&q!==oe&&a.reference[w]/2-(q<I?R:O)-y[w]/2<0,K=$?q<I?q-I:q-G:0;return{[f]:p[f]+K,data:{[f]:oe,centerOffset:q-oe-K,...$&&{alignmentOffset:K}},reset:$}}}),_C=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Ir(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=Or(s),m=hr(l),x=Or(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(x||!y?[Yi(l)]:pC(l)),E=w!=="none";!p&&E&&S.push(...yC(l,y,w,_));const j=[l,...S],N=await mo(t,b),k=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(N[g]),h){const q=fC(s,o,_);k.push(N[q[0]],N[q[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(q=>q<=0)){var O,I;const q=(((O=a.flip)==null?void 0:O.index)||0)+1,oe=j[q];if(oe&&(!(h==="alignment"?m!==hr(oe):!1)||R.every(C=>hr(C.placement)===m?C.overflows[0]>0:!0)))return{data:{index:q,overflows:R},reset:{placement:oe}};let $=(I=R.filter(K=>K.overflows[0]<=0).sort((K,C)=>K.overflows[1]-C.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(f){case"bestFit":{var G;const K=(G=R.filter(C=>{if(E){const T=hr(C.placement);return T===m||T==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(T=>T>0).reduce((T,L)=>T+L,0)]).sort((C,T)=>C[1]-T[1])[0])==null?void 0:G[0];K&&($=K);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function sm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function am(e){return cC.some(t=>e[t]>=0)}const SC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ir(e,t);switch(n){case"referenceHidden":{const a=await mo(t,{...s,elementContext:"reference"}),o=sm(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:am(o)}}}case"escaped":{const a=await mo(t,{...s,altBoundary:!0}),o=sm(a,r.floating);return{data:{escapedOffsets:o,escaped:am(o)}}}default:return{}}}}},o0=new Set(["left","top"]);async function jC(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Or(r),l=ca(r),c=hr(r)==="y",u=o0.has(o)?-1:1,d=a&&c?-1:1,h=Ir(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(f=l==="end"?w*-1:w),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const EC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await jC(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},NC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:m}=b;return{x:g,y:m}}},...c}=Ir(e,t),u={x:r,y:n},d=await mo(t,c),h=hr(Or(s)),p=hh(h);let f=u[p],w=u[h];if(a){const b=p==="y"?"top":"left",g=p==="y"?"bottom":"right",m=f+d[b],x=f-d[g];f=Vu(m,f,x)}if(o){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",m=w+d[b],x=w-d[g];w=Vu(m,w,x)}const y=l.fn({...t,[p]:f,[h]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:a,[h]:o}}}}}},kC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ir(e,t),d={x:r,y:n},h=hr(s),p=hh(h);let f=d[p],w=d[h];const y=Ir(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=p==="y"?"height":"width",_=a.reference[p]-a.floating[x]+b.mainAxis,S=a.reference[p]+a.reference[x]-b.mainAxis;f<_?f=_:f>S&&(f=S)}if(u){var g,m;const x=p==="y"?"width":"height",_=o0.has(Or(s)),S=a.reference[h]-a.floating[x]+(_&&((g=o.offset)==null?void 0:g[h])||0)+(_?0:b.crossAxis),E=a.reference[h]+a.reference[x]+(_?0:((m=o.offset)==null?void 0:m[h])||0)-(_?b.crossAxis:0);w<S?w=S:w>E&&(w=E)}return{[p]:f,[h]:w}}}},CC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ir(e,t),d=await mo(t,u),h=Or(s),p=ca(s),f=hr(s)==="y",{width:w,height:y}=a.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const m=y-d.top-d.bottom,x=w-d.left-d.right,_=xn(y-d[b],m),S=xn(w-d[g],x),E=!t.middlewareData.shift;let j=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=m),E&&!p){const R=yt(d.left,0),O=yt(d.right,0),I=yt(d.top,0),G=yt(d.bottom,0);f?N=w-2*(R!==0||O!==0?R+O:yt(d.left,d.right)):j=y-2*(I!==0||G!==0?I+G:yt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:j});const k=await o.getDimensions(l.floating);return w!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function jl(){return typeof window<"u"}function ua(e){return i0(e)?(e.nodeName||"").toLowerCase():"#document"}function St(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(i0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i0(e){return jl()?e instanceof Node||e instanceof St(e).Node:!1}function nr(e){return jl()?e instanceof Element||e instanceof St(e).Element:!1}function gr(e){return jl()?e instanceof HTMLElement||e instanceof St(e).HTMLElement:!1}function om(e){return!jl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof St(e).ShadowRoot}const TC=new Set(["inline","contents"]);function jo(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!TC.has(s)}const RC=new Set(["table","td","th"]);function AC(e){return RC.has(ua(e))}const PC=[":popover-open",":modal"];function El(e){return PC.some(t=>{try{return e.matches(t)}catch{return!1}})}const IC=["transform","translate","scale","rotate","perspective"],OC=["transform","translate","scale","rotate","perspective","filter"],DC=["paint","layout","strict","content"];function mh(e){const t=gh(),r=nr(e)?sr(e):e;return IC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||OC.some(n=>(r.willChange||"").includes(n))||DC.some(n=>(r.contain||"").includes(n))}function LC(e){let t=wn(e);for(;gr(t)&&!ea(t);){if(mh(t))return t;if(El(t))return null;t=wn(t)}return null}function gh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MC=new Set(["html","body","#document"]);function ea(e){return MC.has(ua(e))}function sr(e){return St(e).getComputedStyle(e)}function Nl(e){return nr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wn(e){if(ua(e)==="html")return e;const t=e.assignedSlot||e.parentNode||om(e)&&e.host||vr(e);return om(t)?t.host:t}function l0(e){const t=wn(e);return ea(t)?e.ownerDocument?e.ownerDocument.body:e.body:gr(t)&&jo(t)?t:l0(t)}function go(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=l0(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=St(s);if(a){const l=qu(o);return t.concat(o,o.visualViewport||[],jo(s)?s:[],l&&r?go(l):[])}return t.concat(s,go(s,[],r))}function qu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c0(e){const t=sr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=gr(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Ji(r)!==a||Ji(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function vh(e){return nr(e)?e:e.contextElement}function Vs(e){const t=vh(e);if(!gr(t))return mr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=c0(t);let o=(a?Ji(r.width):r.width)/n,l=(a?Ji(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $C=mr(0);function u0(e){const t=St(e);return!gh()||!t.visualViewport?$C:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==St(e)?!1:t}function ts(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=vh(e);let o=mr(1);t&&(n?nr(n)&&(o=Vs(n)):o=Vs(e));const l=BC(a,r,n)?u0(a):mr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const p=St(a),f=n&&nr(n)?St(n):n;let w=p,y=qu(w);for(;y&&n&&f!==w;){const b=Vs(y),g=y.getBoundingClientRect(),m=sr(y),x=g.left+(y.clientLeft+parseFloat(m.paddingLeft))*b.x,_=g.top+(y.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=_,w=St(y),y=qu(w)}}return Qi({width:d,height:h,x:c,y:u})}function kl(e,t){const r=Nl(e).scrollLeft;return t?t.left+r:ts(vr(e)).left+r}function d0(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-kl(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function UC(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=vr(n),l=t?El(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=mr(1);const d=mr(0),h=gr(n);if((h||!h&&!a)&&((ua(n)!=="body"||jo(o))&&(c=Nl(n)),gr(n))){const f=ts(n);u=Vs(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!a?d0(o,c):mr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function FC(e){return Array.from(e.getClientRects())}function zC(e){const t=vr(e),r=Nl(e),n=e.ownerDocument.body,s=yt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=yt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+kl(e);const l=-r.scrollTop;return sr(n).direction==="rtl"&&(o+=yt(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const im=25;function WC(e,t){const r=St(e),n=vr(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=gh();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=kl(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-f);w<=im&&(a-=w)}else u<=im&&(a+=u);return{width:a,height:o,x:l,y:c}}const VC=new Set(["absolute","fixed"]);function HC(e,t){const r=ts(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=gr(e)?Vs(e):mr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function lm(e,t,r){let n;if(t==="viewport")n=WC(e,r);else if(t==="document")n=zC(vr(e));else if(nr(t))n=HC(t,r);else{const s=u0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Qi(n)}function h0(e,t){const r=wn(e);return r===t||!nr(r)||ea(r)?!1:sr(r).position==="fixed"||h0(r,t)}function qC(e,t){const r=t.get(e);if(r)return r;let n=go(e,[],!1).filter(l=>nr(l)&&ua(l)!=="body"),s=null;const a=sr(e).position==="fixed";let o=a?wn(e):e;for(;nr(o)&&!ea(o);){const l=sr(o),c=mh(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&VC.has(s.position)||jo(o)&&!c&&h0(e,o))?n=n.filter(d=>d!==o):s=l,o=wn(o)}return t.set(e,n),n}function GC(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?El(t)?[]:qC(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=lm(t,d,s);return u.top=yt(h.top,u.top),u.right=xn(h.right,u.right),u.bottom=xn(h.bottom,u.bottom),u.left=yt(h.left,u.left),u},lm(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KC(e){const{width:t,height:r}=c0(e);return{width:t,height:r}}function JC(e,t,r){const n=gr(t),s=vr(t),a=r==="fixed",o=ts(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=mr(0);function u(){c.x=kl(s)}if(n||!n&&!a)if((ua(t)!=="body"||jo(s))&&(l=Nl(t)),n){const f=ts(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?d0(s,l):mr(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function bc(e){return sr(e).position==="static"}function cm(e,t){if(!gr(e)||sr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vr(e)===r&&(r=r.ownerDocument.body),r}function f0(e,t){const r=St(e);if(El(e))return r;if(!gr(e)){let s=wn(e);for(;s&&!ea(s);){if(nr(s)&&!bc(s))return s;s=wn(s)}return r}let n=cm(e,t);for(;n&&AC(n)&&bc(n);)n=cm(n,t);return n&&ea(n)&&bc(n)&&!mh(n)?r:n||LC(e)||r}const YC=async function(e){const t=this.getOffsetParent||f0,r=this.getDimensions,n=await r(e.floating);return{reference:JC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QC(e){return sr(e).direction==="rtl"}const XC={convertOffsetParentRelativeRectToViewportRelativeRect:UC,getDocumentElement:vr,getClippingRect:GC,getOffsetParent:f0,getElementRects:YC,getClientRects:FC,getDimensions:KC,getScale:Vs,isElement:nr,isRTL:QC};function p0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZC(e,t){let r=null,n;const s=vr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const w=Yo(h),y=Yo(s.clientWidth-(d+p)),b=Yo(s.clientHeight-(h+f)),g=Yo(d),x={rootMargin:-w+"px "+-y+"px "+-b+"px "+-g+"px",threshold:yt(0,xn(1,c))||1};let _=!0;function S(E){const j=E[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!p0(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return o(!0),a}function eT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vh(e),d=s||a?[...u?go(u):[],...go(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const h=u&&l?ZC(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(g=>{let[m]=g;m&&m.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let w,y=c?ts(e):null;c&&b();function b(){const g=ts(e);y&&!p0(y,g)&&r(),y=g,w=requestAnimationFrame(b)}return r(),()=>{var g;d.forEach(m=>{s&&m.removeEventListener("scroll",r),a&&m.removeEventListener("resize",r)}),h==null||h(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(w)}}const tT=EC,rT=NC,nT=_C,sT=CC,aT=SC,um=bC,oT=kC,iT=(e,t,r)=>{const n=new Map,s={platform:XC,...r},a={...s.platform,_c:n};return wC(e,t,{...s,platform:a})};var lT=typeof document<"u",cT=function(){},mi=lT?v.useLayoutEffect:cT;function Xi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Xi(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Xi(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function m0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dm(e,t){const r=m0(e);return Math.round(t*r)/r}function _c(e){const t=v.useRef(e);return mi(()=>{t.current=e}),t}function uT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=v.useState(n);Xi(p,n)||f(n);const[w,y]=v.useState(null),[b,g]=v.useState(null),m=v.useCallback(C=>{C!==E.current&&(E.current=C,y(C))},[]),x=v.useCallback(C=>{C!==j.current&&(j.current=C,g(C))},[]),_=a||w,S=o||b,E=v.useRef(null),j=v.useRef(null),N=v.useRef(d),k=c!=null,R=_c(c),O=_c(s),I=_c(u),G=v.useCallback(()=>{if(!E.current||!j.current)return;const C={placement:t,strategy:r,middleware:p};O.current&&(C.platform=O.current),iT(E.current,j.current,C).then(T=>{const L={...T,isPositioned:I.current!==!1};q.current&&!Xi(N.current,L)&&(N.current=L,sa.flushSync(()=>{h(L)}))})},[p,t,r,O,I]);mi(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const q=v.useRef(!1);mi(()=>(q.current=!0,()=>{q.current=!1}),[]),mi(()=>{if(_&&(E.current=_),S&&(j.current=S),_&&S){if(R.current)return R.current(_,S,G);G()}},[_,S,G,R,k]);const oe=v.useMemo(()=>({reference:E,floating:j,setReference:m,setFloating:x}),[m,x]),$=v.useMemo(()=>({reference:_,floating:S}),[_,S]),K=v.useMemo(()=>{const C={position:r,left:0,top:0};if(!$.floating)return C;const T=dm($.floating,d.x),L=dm($.floating,d.y);return l?{...C,transform:"translate("+T+"px, "+L+"px)",...m0($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:L}},[r,l,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:G,refs:oe,elements:$,floatingStyles:K}),[d,G,oe,$,K])}const dT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?um({element:n.current,padding:s}).fn(r):{}:n?um({element:n,padding:s}).fn(r):{}}}},hT=(e,t)=>({...tT(e),options:[e,t]}),fT=(e,t)=>({...rT(e),options:[e,t]}),pT=(e,t)=>({...oT(e),options:[e,t]}),mT=(e,t)=>({...nT(e),options:[e,t]}),gT=(e,t)=>({...sT(e),options:[e,t]}),vT=(e,t)=>({...aT(e),options:[e,t]}),yT=(e,t)=>({...dT(e),options:[e,t]});var xT="Arrow",g0=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(ne.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});g0.displayName=xT;var wT=g0;function v0(e){const[t,r]=v.useState(void 0);return Xe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var yh="Popper",[y0,x0]=Br(yh),[bT,w0]=y0(yh),b0=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return i.jsx(bT,{scope:t,anchor:n,onAnchorChange:s,children:r})};b0.displayName=yh;var _0="PopperAnchor",S0=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=w0(_0,r),o=v.useRef(null),l=Ie(t,o);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ne.div,{...s,ref:l})});S0.displayName=_0;var xh="PopperContent",[_T,ST]=y0(xh),j0=v.forwardRef((e,t)=>{var D,ge,De,me,he,pe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:w,...y}=e,b=w0(xh,r),[g,m]=v.useState(null),x=Ie(t,Ze=>m(Ze)),[_,S]=v.useState(null),E=v0(_),j=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,k=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,G={padding:R,boundary:O.filter(ET),altBoundary:I},{refs:q,floatingStyles:oe,placement:$,isPositioned:K,middlewareData:C}=uT({strategy:"fixed",placement:k,whileElementsMounted:(...Ze)=>eT(...Ze,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[hT({mainAxis:s+N,alignmentAxis:o}),c&&fT({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pT():void 0,...G}),c&&mT({...G}),gT({...G,apply:({elements:Ze,rects:kt,availableWidth:Tn,availableHeight:Ur})=>{const{width:Rn,height:ha}=kt.reference,os=Ze.floating.style;os.setProperty("--radix-popper-available-width",`${Tn}px`),os.setProperty("--radix-popper-available-height",`${Ur}px`),os.setProperty("--radix-popper-anchor-width",`${Rn}px`),os.setProperty("--radix-popper-anchor-height",`${ha}px`)}}),_&&yT({element:_,padding:l}),NT({arrowWidth:j,arrowHeight:N}),p&&vT({strategy:"referenceHidden",...G})]}),[T,L]=k0($),J=rr(w);Xe(()=>{K&&(J==null||J())},[K,J]);const z=(D=C.arrow)==null?void 0:D.x,le=(ge=C.arrow)==null?void 0:ge.y,ee=((De=C.arrow)==null?void 0:De.centerOffset)!==0,[Se,Oe]=v.useState();return Xe(()=>{g&&Oe(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:K?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(me=C.transformOrigin)==null?void 0:me.x,(he=C.transformOrigin)==null?void 0:he.y].join(" "),...((pe=C.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(_T,{scope:r,placedSide:T,onArrowChange:S,arrowX:z,arrowY:le,shouldHideArrow:ee,children:i.jsx(ne.div,{"data-side":T,"data-align":L,...y,ref:x,style:{...y.style,animation:K?void 0:"none"}})})})});j0.displayName=xh;var E0="PopperArrow",jT={top:"bottom",right:"left",bottom:"top",left:"right"},N0=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=ST(E0,n),o=jT[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(wT,{...s,ref:r,style:{...s.style,display:"block"}})})});N0.displayName=E0;function ET(e){return e!==null}var NT=e=>({name:"transformOrigin",options:e,fn(t){var b,g,m;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=k0(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=o?h:`${p}px`,y=`${-c}px`):u==="top"?(w=o?h:`${p}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?h:`${f}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?h:`${f}px`),{data:{x:w,y}}}});function k0(e){const[t,r="center"]=e.split("-");return[t,r]}var kT=b0,CT=S0,TT=j0,RT=N0,AT="Portal",wh=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=v.useState(!1);Xe(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Fv.createPortal(i.jsx(ne.div,{...n,ref:t}),o):null});wh.displayName=AT;function C0(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var PT="VisuallyHidden",T0=v.forwardRef((e,t)=>i.jsx(ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));T0.displayName=PT;var IT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vs=new WeakMap,Qo=new WeakMap,Xo={},Sc=0,R0=function(e){return e&&(e.host||R0(e.parentNode))},OT=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=R0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},DT=function(e,t,r,n){var s=OT(t,Array.isArray(e)?e:[e]);Xo[r]||(Xo[r]=new WeakMap);var a=Xo[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),w=f!==null&&f!=="false",y=(vs.get(p)||0)+1,b=(a.get(p)||0)+1;vs.set(p,y),a.set(p,b),o.push(p),y===1&&w&&Qo.set(p,!0),b===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),l.clear(),Sc++,function(){o.forEach(function(h){var p=vs.get(h)-1,f=a.get(h)-1;vs.set(h,p),a.set(h,f),p||(Qo.has(h)||h.removeAttribute(n),Qo.delete(h)),f||h.removeAttribute(r)}),Sc--,Sc||(vs=new WeakMap,vs=new WeakMap,Qo=new WeakMap,Xo={})}},A0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=IT(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),DT(n,s,r,"aria-hidden")):function(){return null}},gi="right-scroll-bar-position",vi="width-before-scroll-bar",LT="with-scroll-bars-hidden",MT="--removed-body-scroll-bar-size";function jc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $T(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var BT=typeof window<"u"?v.useLayoutEffect:v.useEffect,hm=new WeakMap;function UT(e,t){var r=$T(null,function(n){return e.forEach(function(s){return jc(s,n)})});return BT(function(){var n=hm.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||jc(l,null)}),a.forEach(function(l){s.has(l)||jc(l,o)})}hm.set(r,e)},[e]),r}function FT(e){return e}function zT(e,t){t===void 0&&(t=FT);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function WT(e){e===void 0&&(e={});var t=zT(null);return t.options=dr({async:!0,ssr:!1},e),t}var P0=function(e){var t=e.sideCar,r=ia(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,dr({},r))};P0.isSideCarExport=!0;function VT(e,t){return e.useMedium(t),P0}var I0=WT(),Ec=function(){},Cl=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Ec,onWheelCapture:Ec,onTouchMoveCapture:Ec}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,m=g===void 0?"div":g,x=e.gapMode,_=ia(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,E=UT([r,t]),j=dr(dr({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:I0,removeScrollBar:u,shards:h,noRelative:f,noIsolation:w,inert:y,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?v.cloneElement(v.Children.only(l),dr(dr({},j),{ref:E})):v.createElement(m,dr({},j,{className:c,ref:E}),l))});Cl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cl.classNames={fullWidth:vi,zeroRight:gi};var HT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HT();return t&&e.setAttribute("nonce",t),e}function GT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qT())&&(GT(t,r),KT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YT=function(){var e=JT();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},O0=function(){var e=YT(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},QT={left:0,top:0,right:0,gap:0},Nc=function(e){return parseInt(e||"",10)||0},XT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Nc(r),Nc(n),Nc(s)]},ZT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QT;var t=XT(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eR=O0(),Hs="data-scroll-locked",tR=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(LT,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Hs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gi,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vi,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gi," .").concat(gi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vi," .").concat(vi,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hs,`] {
    `).concat(MT,": ").concat(l,`px;
  }
`)},fm=function(){var e=parseInt(document.body.getAttribute(Hs)||"0",10);return isFinite(e)?e:0},rR=function(){v.useEffect(function(){return document.body.setAttribute(Hs,(fm()+1).toString()),function(){var e=fm()-1;e<=0?document.body.removeAttribute(Hs):document.body.setAttribute(Hs,e.toString())}},[])},nR=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;rR();var a=v.useMemo(function(){return ZT(s)},[s]);return v.createElement(eR,{styles:tR(a,!t,s,r?"":"!important")})},Gu=!1;if(typeof window<"u")try{var Zo=Object.defineProperty({},"passive",{get:function(){return Gu=!0,!0}});window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Gu=!1}var ys=Gu?{passive:!1}:!1,sR=function(e){return e.tagName==="TEXTAREA"},D0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!sR(e)&&r[t]==="visible")},aR=function(e){return D0(e,"overflowY")},oR=function(e){return D0(e,"overflowX")},pm=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=L0(e,n);if(s){var a=M0(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},iR=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lR=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},L0=function(e,t){return e==="v"?aR(t):oR(t)},M0=function(e,t){return e==="v"?iR(t):lR(t)},cR=function(e,t){return e==="h"&&t==="rtl"?-1:1},uR=function(e,t,r,n,s){var a=cR(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=M0(e,l),w=f[0],y=f[1],b=f[2],g=y-b-a*w;(w||g)&&L0(e,l)&&(h+=g,p+=w);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},ei=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mm=function(e){return[e.deltaX,e.deltaY]},gm=function(e){return e&&"current"in e?e.current:e},dR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fR=0,xs=[];function pR(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(fR++)[0],a=v.useState(O0)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=rS([e.lockRef.current],(e.shards||[]).map(gm),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var g=ei(y),m=r.current,x="deltaX"in y?y.deltaX:m[0]-g[0],_="deltaY"in y?y.deltaY:m[1]-g[1],S,E=y.target,j=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in y&&j==="h"&&E.type==="range")return!1;var N=window.getSelection(),k=N&&N.anchorNode,R=k?k===E||k.contains(E):!1;if(R)return!1;var O=pm(j,E);if(!O)return!0;if(O?S=j:(S=j==="v"?"h":"v",O=pm(j,E)),!O)return!1;if(!n.current&&"changedTouches"in y&&(x||_)&&(n.current=S),!S)return!0;var I=n.current||S;return uR(I,b,y,I==="h"?x:_)},[]),c=v.useCallback(function(y){var b=y;if(!(!xs.length||xs[xs.length-1]!==a)){var g="deltaY"in b?mm(b):ei(b),m=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&dR(S.delta,g)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var x=(o.current.shards||[]).map(gm).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=x.length>0?l(b,x[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=v.useCallback(function(y,b,g,m){var x={name:y,delta:b,target:g,should:m,shadowParent:mR(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=v.useCallback(function(y){r.current=ei(y),n.current=void 0},[]),h=v.useCallback(function(y){u(y.type,mm(y),y.target,l(y,e.lockRef.current))},[]),p=v.useCallback(function(y){u(y.type,ei(y),y.target,l(y,e.lockRef.current))},[]);v.useEffect(function(){return xs.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ys),document.addEventListener("touchmove",c,ys),document.addEventListener("touchstart",d,ys),function(){xs=xs.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,ys),document.removeEventListener("touchmove",c,ys),document.removeEventListener("touchstart",d,ys)}},[]);var f=e.removeScrollBar,w=e.inert;return v.createElement(v.Fragment,null,w?v.createElement(a,{styles:hR(s)}):null,f?v.createElement(nR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function mR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gR=VT(I0,pR);var bh=v.forwardRef(function(e,t){return v.createElement(Cl,dr({},e,{ref:t,sideCar:gR}))});bh.classNames=Cl.classNames;var vR=[" ","Enter","ArrowUp","ArrowDown"],yR=[" ","Enter"],Eo="Select",[Tl,Rl,xR]=Ny(Eo),[da]=Br(Eo,[xR,x0]),Al=x0(),[wR,kn]=da(Eo),[bR,_R]=da(Eo),$0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:w}=e,y=Al(t),[b,g]=v.useState(null),[m,x]=v.useState(null),[_,S]=v.useState(!1),E=ah(u),[j=!1,N]=Zs({prop:n,defaultProp:s,onChange:a}),[k,R]=Zs({prop:o,defaultProp:l,onChange:c}),O=v.useRef(null),I=b?w||!!b.closest("form"):!0,[G,q]=v.useState(new Set),oe=Array.from(G).map($=>$.props.value).join(";");return i.jsx(kT,{...y,children:i.jsxs(wR,{required:f,scope:t,trigger:b,onTriggerChange:g,valueNode:m,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:mn(),value:k,onValueChange:R,open:j,onOpenChange:N,dir:E,triggerPointerDownPosRef:O,disabled:p,children:[i.jsx(Tl.Provider,{scope:t,children:i.jsx(bR,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback($=>{q(K=>new Set(K).add($))},[]),onNativeOptionRemove:v.useCallback($=>{q(K=>{const C=new Set(K);return C.delete($),C})},[]),children:r})}),I?i.jsxs(cx,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:$=>R($.target.value),disabled:p,form:w,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(G)]},oe):null]})})};$0.displayName=Eo;var B0="SelectTrigger",U0=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Al(r),o=kn(B0,r),l=o.disabled||n,c=Ie(t,o.onTriggerChange),u=Rl(r),d=v.useRef("touch"),[h,p,f]=ux(y=>{const b=u().filter(x=>!x.disabled),g=b.find(x=>x.value===o.value),m=dx(b,y,g);m!==void 0&&o.onValueChange(m.value)}),w=y=>{l||(o.onOpenChange(!0),f()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return i.jsx(CT,{asChild:!0,...a,children:i.jsx(ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lx(o.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:de(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:de(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&vR.includes(y.key)&&(w(),y.preventDefault())})})})});U0.displayName=B0;var F0="SelectValue",z0=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=kn(F0,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Ie(t,c.onValueNodeChange);return Xe(()=>{u(d)},[u,d]),i.jsx(ne.span,{...l,ref:h,style:{pointerEvents:"none"},children:lx(c.value)?i.jsx(i.Fragment,{children:o}):a})});z0.displayName=F0;var SR="SelectIcon",W0=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});W0.displayName=SR;var jR="SelectPortal",V0=e=>i.jsx(wh,{asChild:!0,...e});V0.displayName=jR;var rs="SelectContent",H0=v.forwardRef((e,t)=>{const r=kn(rs,e.__scopeSelect),[n,s]=v.useState();if(Xe(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?sa.createPortal(i.jsx(q0,{scope:e.__scopeSelect,children:i.jsx(Tl.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(G0,{...e,ref:t})});H0.displayName=rs;var Ht=10,[q0,Cn]=da(rs),ER="SelectContentImpl",G0=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:w,hideWhenDetached:y,avoidCollisions:b,...g}=e,m=kn(rs,r),[x,_]=v.useState(null),[S,E]=v.useState(null),j=Ie(t,D=>_(D)),[N,k]=v.useState(null),[R,O]=v.useState(null),I=Rl(r),[G,q]=v.useState(!1),oe=v.useRef(!1);v.useEffect(()=>{if(x)return A0(x)},[x]),n0();const $=v.useCallback(D=>{const[ge,...De]=I().map(pe=>pe.ref.current),[me]=De.slice(-1),he=document.activeElement;for(const pe of D)if(pe===he||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ge&&S&&(S.scrollTop=0),pe===me&&S&&(S.scrollTop=S.scrollHeight),pe==null||pe.focus(),document.activeElement!==he))return},[I,S]),K=v.useCallback(()=>$([N,x]),[$,N,x]);v.useEffect(()=>{G&&K()},[G,K]);const{onOpenChange:C,triggerPointerDownPosRef:T}=m;v.useEffect(()=>{if(x){let D={x:0,y:0};const ge=me=>{var he,pe;D={x:Math.abs(Math.round(me.pageX)-(((he=T.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(me.pageY)-(((pe=T.current)==null?void 0:pe.y)??0))}},De=me=>{D.x<=10&&D.y<=10?me.preventDefault():x.contains(me.target)||C(!1),document.removeEventListener("pointermove",ge),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",De,{capture:!0})}}},[x,C,T]),v.useEffect(()=>{const D=()=>C(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[C]);const[L,J]=ux(D=>{const ge=I().filter(he=>!he.disabled),De=ge.find(he=>he.ref.current===document.activeElement),me=dx(ge,D,De);me&&setTimeout(()=>me.ref.current.focus())}),z=v.useCallback((D,ge,De)=>{const me=!oe.current&&!De;(m.value!==void 0&&m.value===ge||me)&&(k(D),me&&(oe.current=!0))},[m.value]),le=v.useCallback(()=>x==null?void 0:x.focus(),[x]),ee=v.useCallback((D,ge,De)=>{const me=!oe.current&&!De;(m.value!==void 0&&m.value===ge||me)&&O(D)},[m.value]),Se=n==="popper"?Ku:K0,Oe=Se===Ku?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return i.jsx(q0,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:z,selectedItem:N,onItemLeave:le,itemTextRefCallback:ee,focusSelectedItem:K,selectedItemText:R,position:n,isPositioned:G,searchRef:L,children:i.jsx(bh,{as:es,allowPinchZoom:!0,children:i.jsx(dh,{asChild:!0,trapped:m.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:de(s,D=>{var ge;(ge=m.trigger)==null||ge.focus({preventScroll:!0}),D.preventDefault()}),children:i.jsx(uh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:i.jsx(Se,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:D=>D.preventDefault(),...g,...Oe,onPlaced:()=>q(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:de(g.onKeyDown,D=>{const ge=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!ge&&D.key.length===1&&J(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let me=I().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(D.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const he=D.target,pe=me.indexOf(he);me=me.slice(pe+1)}setTimeout(()=>$(me)),D.preventDefault()}})})})})})})});G0.displayName=ER;var NR="SelectItemAlignedPosition",K0=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=kn(rs,r),o=Cn(rs,r),[l,c]=v.useState(null),[u,d]=v.useState(null),h=Ie(t,j=>d(j)),p=Rl(r),f=v.useRef(!1),w=v.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:m}=o,x=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&b&&g){const j=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(a.dir!=="rtl"){const he=R.left-N.left,pe=k.left-he,Ze=j.left-pe,kt=j.width+Ze,Tn=Math.max(kt,N.width),Ur=window.innerWidth-Ht,Rn=Gp(pe,[Ht,Math.max(Ht,Ur-Tn)]);l.style.minWidth=kt+"px",l.style.left=Rn+"px"}else{const he=N.right-R.right,pe=window.innerWidth-k.right-he,Ze=window.innerWidth-j.right-pe,kt=j.width+Ze,Tn=Math.max(kt,N.width),Ur=window.innerWidth-Ht,Rn=Gp(pe,[Ht,Math.max(Ht,Ur-Tn)]);l.style.minWidth=kt+"px",l.style.right=Rn+"px"}const O=p(),I=window.innerHeight-Ht*2,G=y.scrollHeight,q=window.getComputedStyle(u),oe=parseInt(q.borderTopWidth,10),$=parseInt(q.paddingTop,10),K=parseInt(q.borderBottomWidth,10),C=parseInt(q.paddingBottom,10),T=oe+$+G+C+K,L=Math.min(b.offsetHeight*5,T),J=window.getComputedStyle(y),z=parseInt(J.paddingTop,10),le=parseInt(J.paddingBottom,10),ee=j.top+j.height/2-Ht,Se=I-ee,Oe=b.offsetHeight/2,D=b.offsetTop+Oe,ge=oe+$+D,De=T-ge;if(ge<=ee){const he=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-y.offsetTop-y.offsetHeight,Ze=Math.max(Se,Oe+(he?le:0)+pe+K),kt=ge+Ze;l.style.height=kt+"px"}else{const he=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Ze=Math.max(ee,oe+y.offsetTop+(he?z:0)+Oe)+De;l.style.height=Ze+"px",y.scrollTop=ge-ee+y.offsetTop}l.style.margin=`${Ht}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,l,u,y,b,g,a.dir,n]);Xe(()=>x(),[x]);const[_,S]=v.useState();Xe(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=v.useCallback(j=>{j&&w.current===!0&&(x(),m==null||m(),w.current=!1)},[x,m]);return i.jsx(CR,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ne.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});K0.displayName=NR;var kR="SelectPopperPosition",Ku=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ht,...a}=e,o=Al(r);return i.jsx(TT,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ku.displayName=kR;var[CR,_h]=da(rs,{}),Ju="SelectViewport",J0=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Cn(Ju,r),o=_h(Ju,r),l=Ie(t,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Tl.Slot,{scope:r,children:i.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const w=window.innerHeight-Ht*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<w){const m=g+f,x=Math.min(w,m),_=m-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});J0.displayName=Ju;var Y0="SelectGroup",[TR,RR]=da(Y0),AR=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mn();return i.jsx(TR,{scope:r,id:s,children:i.jsx(ne.div,{role:"group","aria-labelledby":s,...n,ref:t})})});AR.displayName=Y0;var Q0="SelectLabel",X0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=RR(Q0,r);return i.jsx(ne.div,{id:s.id,...n,ref:t})});X0.displayName=Q0;var Zi="SelectItem",[PR,Z0]=da(Zi),ex=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=kn(Zi,r),c=Cn(Zi,r),u=l.value===n,[d,h]=v.useState(a??""),[p,f]=v.useState(!1),w=Ie(t,m=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,m,n,s)}),y=mn(),b=v.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(PR,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(m=>{h(x=>x||((m==null?void 0:m.textContent)??"").trim())},[]),children:i.jsx(Tl.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(ne.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:de(o.onFocus,()=>f(!0)),onBlur:de(o.onBlur,()=>f(!1)),onClick:de(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:de(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:de(o.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:de(o.onPointerMove,m=>{var x;b.current=m.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,m=>{var x;m.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:de(o.onKeyDown,m=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&m.key===" "||(yR.includes(m.key)&&g(),m.key===" "&&m.preventDefault())})})})})});ex.displayName=Zi;var Ra="SelectItemText",tx=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=kn(Ra,r),l=Cn(Ra,r),c=Z0(Ra,r),u=_R(Ra,r),[d,h]=v.useState(null),p=Ie(t,g=>h(g),c.onItemTextChange,g=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,w=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Xe(()=>(y(w),()=>b(w)),[y,b,w]),i.jsxs(i.Fragment,{children:[i.jsx(ne.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(a.children,o.valueNode):null]})});tx.displayName=Ra;var rx="SelectItemIndicator",nx=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Z0(rx,r).isSelected?i.jsx(ne.span,{"aria-hidden":!0,...n,ref:t}):null});nx.displayName=rx;var Yu="SelectScrollUpButton",sx=v.forwardRef((e,t)=>{const r=Cn(Yu,e.__scopeSelect),n=_h(Yu,e.__scopeSelect),[s,a]=v.useState(!1),o=Ie(t,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(ox,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});sx.displayName=Yu;var Qu="SelectScrollDownButton",ax=v.forwardRef((e,t)=>{const r=Cn(Qu,e.__scopeSelect),n=_h(Qu,e.__scopeSelect),[s,a]=v.useState(!1),o=Ie(t,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(ox,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ax.displayName=Qu;var ox=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Cn("SelectScrollButton",r),o=v.useRef(null),l=Rl(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Xe(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),IR="SelectSeparator",ix=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ne.div,{"aria-hidden":!0,...n,ref:t})});ix.displayName=IR;var Xu="SelectArrow",OR=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Al(r),a=kn(Xu,r),o=Cn(Xu,r);return a.open&&o.position==="popper"?i.jsx(RT,{...s,...n,ref:t}):null});OR.displayName=Xu;function lx(e){return e===""||e===void 0}var cx=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=v.useRef(null),a=Ie(t,s),o=C0(r);return v.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(T0,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});cx.displayName="BubbleSelect";function ux(e){const t=rr(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function dx(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=DR(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DR(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var LR=$0,hx=U0,MR=z0,$R=W0,BR=V0,fx=H0,UR=J0,px=X0,mx=ex,FR=tx,zR=nx,gx=sx,vx=ax,yx=ix;const Qt=LR,Xt=MR,Pt=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(hx,{ref:n,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx($R,{asChild:!0,children:i.jsx(sn,{className:"h-4 w-4 opacity-50"})})]}));Pt.displayName=hx.displayName;const xx=v.forwardRef(({className:e,...t},r)=>i.jsx(gx,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Nk,{className:"h-4 w-4"})}));xx.displayName=gx.displayName;const wx=v.forwardRef(({className:e,...t},r)=>i.jsx(vx,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(sn,{className:"h-4 w-4"})}));wx.displayName=vx.displayName;const It=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(BR,{children:i.jsxs(fx,{ref:s,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(xx,{}),i.jsx(UR,{className:W("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(wx,{})]})}));It.displayName=fx.displayName;const WR=v.forwardRef(({className:e,...t},r)=>i.jsx(px,{ref:r,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));WR.displayName=px.displayName;const ae=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(mx,{ref:n,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(zR,{children:i.jsx(pi,{className:"h-4 w-4"})})}),i.jsx(FR,{children:t})]}));ae.displayName=mx.displayName;const VR=v.forwardRef(({className:e,...t},r)=>i.jsx(yx,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));VR.displayName=yx.displayName;var Sh="Dialog",[bx]=Br(Sh),[HR,ar]=bx(Sh),_x=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=Zs({prop:n,defaultProp:s,onChange:a});return i.jsx(HR,{scope:t,triggerRef:l,contentRef:c,contentId:mn(),titleId:mn(),descriptionId:mn(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};_x.displayName=Sh;var Sx="DialogTrigger",qR=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ar(Sx,r),a=Ie(t,s.triggerRef);return i.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nh(s.open),...n,ref:a,onClick:de(e.onClick,s.onOpenToggle)})});qR.displayName=Sx;var jh="DialogPortal",[GR,jx]=bx(jh,{forceMount:void 0}),Ex=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=ar(jh,t);return i.jsx(GR,{scope:t,forceMount:r,children:v.Children.map(n,o=>i.jsx(So,{present:r||a.open,children:i.jsx(wh,{asChild:!0,container:s,children:o})}))})};Ex.displayName=jh;var el="DialogOverlay",Nx=v.forwardRef((e,t)=>{const r=jx(el,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ar(el,e.__scopeDialog);return a.modal?i.jsx(So,{present:n||a.open,children:i.jsx(KR,{...s,ref:t})}):null});Nx.displayName=el;var KR=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ar(el,r);return i.jsx(bh,{as:es,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ne.div,{"data-state":Nh(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ns="DialogContent",kx=v.forwardRef((e,t)=>{const r=jx(ns,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ar(ns,e.__scopeDialog);return i.jsx(So,{present:n||a.open,children:a.modal?i.jsx(JR,{...s,ref:t}):i.jsx(YR,{...s,ref:t})})});kx.displayName=ns;var JR=v.forwardRef((e,t)=>{const r=ar(ns,e.__scopeDialog),n=v.useRef(null),s=Ie(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return A0(a)},[]),i.jsx(Cx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault())})}),YR=v.forwardRef((e,t)=>{const r=ar(ns,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return i.jsx(Cx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Cx=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=ar(ns,r),c=v.useRef(null),u=Ie(t,c);return n0(),i.jsxs(i.Fragment,{children:[i.jsx(dh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(uh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Nh(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(QR,{titleId:l.titleId}),i.jsx(ZR,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Eh="DialogTitle",Tx=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ar(Eh,r);return i.jsx(ne.h2,{id:s.titleId,...n,ref:t})});Tx.displayName=Eh;var Rx="DialogDescription",Ax=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ar(Rx,r);return i.jsx(ne.p,{id:s.descriptionId,...n,ref:t})});Ax.displayName=Rx;var Px="DialogClose",Ix=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ar(Px,r);return i.jsx(ne.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});Ix.displayName=Px;function Nh(e){return e?"open":"closed"}var Ox="DialogTitleWarning",[Y2,Dx]=ZN(Ox,{contentName:ns,titleName:Eh,docsSlug:"dialog"}),QR=({titleId:e})=>{const t=Dx(Ox),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},XR="DialogDescriptionWarning",ZR=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dx(XR).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},e2=_x,t2=Ex,Lx=Nx,Mx=kx,$x=Tx,Bx=Ax,r2=Ix;const Ux=e2,n2=t2,Fx=v.forwardRef(({className:e,...t},r)=>i.jsx(Lx,{ref:r,className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fx.displayName=Lx.displayName;const kh=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(n2,{children:[i.jsx(Fx,{}),i.jsxs(Mx,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(r2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Xy,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kh.displayName=Mx.displayName;const zx=({className:e,...t})=>i.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zx.displayName="DialogHeader";const Wx=({className:e,...t})=>i.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wx.displayName="DialogFooter";const Vx=v.forwardRef(({className:e,...t},r)=>i.jsx($x,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));Vx.displayName=$x.displayName;const Hx=v.forwardRef(({className:e,...t},r)=>i.jsx(Bx,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Hx.displayName=Bx.displayName;function s2(){const{user:e}=$r(),t=Nn(),[r,n]=v.useState(""),[s,a]=v.useState("all"),[o,l]=v.useState("all"),[c,u]=v.useState([]),[d,h]=v.useState(!0),[p,f]=v.useState("card"),[w,y]=v.useState(!1),[b,g]=v.useState(null),m=N=>{const k=(N||"").toLowerCase();return k.includes("crian")||k.includes("child")?"children":k.includes("adolesc")||k.includes("teen")?"teens":k.includes("adult")?"adults":"all"},x=N=>{const k=(N||"").toLowerCase();return k.includes("final")||k.includes("public")||k.includes("publish")?"published":"draft"};v.useEffect(()=>{async function N(){if(!(e!=null&&e.id)){u([]),h(!1);return}try{const k=await Zy(e.id),R=await Promise.all(k.map(async O=>{const I=await Ki(O.id),G=I.find($=>$.cover_image_url),q=(G==null?void 0:G.cover_image_url)||"/placeholder.svg",oe=m(O.publico_alvo);return{id:O.id,title:O.titulo||"Sem ttulo",cover:q,status:x(O.status),audience:O.publico_alvo||"No especificado",audienceKey:oe,theme:O.categoria_livro||void 0,pages:I.length||0,views:0,likes:0,createdAt:O.created_at}}));u(R)}catch(k){console.error("Erro ao carregar livros:",k),X.error("Erro ao carregar seus livros. Tente novamente."),u([])}finally{h(!1)}}N()},[e==null?void 0:e.id]);const _=c.filter(N=>{const k=N.title.toLowerCase().includes(r.toLowerCase()),R=s==="all"||N.status===s,O=o==="all"||N.audienceKey===o;return k&&R&&O}),S=(N,k)=>{g({id:N,title:k}),y(!0)},E=async()=>{if(!b||!(e!=null&&e.id)){X.error("Usurio no autenticado"),y(!1),g(null);return}try{await Hk(b.id,e.id),X.success(`"${b.title}" foi excludo com sucesso`),u(c.filter(N=>N.id!==b.id))}catch(N){console.error("Erro ao excluir livro:",N),X.error("Erro ao excluir o livro. Tente novamente.")}finally{y(!1),g(null)}},j=N=>{var R;const k=`${window.location.origin}/livro/${(R=c.find(O=>O.title===N))==null?void 0:R.id}`;navigator.clipboard.writeText(k),X.success(`Link de compartilhamento copiado para "${N}"`)};return d?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsx(Sl,{message:"Carregando seus livros..."})}):i.jsxs("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:[i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"mb-2 text-3xl font-bold",style:{color:"#262626"},children:"Meus Livros"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os seus livros criados"})]}),i.jsx(F,{className:"mb-6 border-0 shadow-md",children:i.jsx(Z,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Hp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar livros...",className:"pl-10",value:r,onChange:N=>n(N.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Qt,{value:s,onValueChange:a,children:[i.jsxs(Pt,{className:"w-40",children:[i.jsx(Wp,{className:"mr-2 h-4 w-4"}),i.jsx(Xt,{placeholder:"Status"})]}),i.jsxs(It,{children:[i.jsx(ae,{value:"all",children:"Todos"}),i.jsx(ae,{value:"published",children:"Publicado"}),i.jsx(ae,{value:"draft",children:"Rascunho"})]})]}),i.jsxs(Qt,{value:o,onValueChange:l,children:[i.jsxs(Pt,{className:"w-40",children:[i.jsx(Wp,{className:"mr-2 h-4 w-4"}),i.jsx(Xt,{placeholder:"Pblico"})]}),i.jsxs(It,{children:[i.jsx(ae,{value:"all",children:"Todos"}),i.jsx(ae,{value:"children",children:"Crianas"}),i.jsx(ae,{value:"teens",children:"Adolescentes"}),i.jsx(ae,{value:"adults",children:"Adultos"})]})]}),i.jsxs("div",{className:"flex gap-1 border rounded-md p-1",children:[i.jsx(U,{variant:p==="card"?"default":"ghost",size:"sm",className:"h-9 w-9 p-0",onClick:()=>f("card"),children:i.jsx(Rk,{className:"h-4 w-4"})}),i.jsx(U,{variant:p==="list"?"default":"ghost",size:"sm",className:"h-9 w-9 p-0",onClick:()=>f("list"),children:i.jsx(Ok,{className:"h-4 w-4"})})]})]})]})})}),i.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[i.jsx(F,{className:"border-0 shadow-md",children:i.jsxs(Z,{className:"p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:c.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Livros"})]})}),i.jsx(F,{className:"border-0 shadow-md",children:i.jsxs(Z,{className:"p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:c.filter(N=>N.status==="published"||N.status==="Publicado").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Publicados"})]})}),i.jsx(F,{className:"border-0 shadow-md",children:i.jsxs(Z,{className:"p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:c.reduce((N,k)=>N+k.pages,0).toLocaleString()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Pginas"})]})})]}),_.length===0?i.jsx(F,{className:"border-0 shadow-md",children:i.jsxs(Z,{className:"flex min-h-[400px] flex-col items-center justify-center p-12 text-center",children:[i.jsx("div",{className:"mb-4 rounded-full bg-gray-100 p-6",children:i.jsx(Hp,{className:"h-12 w-12 text-gray-400"})}),i.jsx("h3",{className:"mb-2 text-xl font-semibold text-primary",children:"Nenhum livro encontrado"}),i.jsx("p",{className:"mb-6 text-muted-foreground",children:"Tente ajustar os filtros ou criar um novo livro"}),i.jsx(ur,{to:"/criar-livro",children:i.jsx(U,{children:"Criar Novo Livro"})})]})}):p==="card"?i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:_.map(N=>i.jsxs(F,{className:"group overflow-hidden border-0 shadow-md transition-all hover:shadow-xl",children:[i.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-gray-100",children:i.jsx("img",{src:N.cover||"/placeholder.svg",alt:N.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"})}),i.jsxs(Z,{className:"p-4",children:[i.jsx("h3",{className:"mb-3 line-clamp-2 font-semibold text-primary transition-colors hover:text-[#6D56AB] cursor-pointer",onClick:()=>t(`/livro/${N.id}`),children:N.title}),i.jsxs("div",{className:"mb-4 space-y-2",children:[i.jsx("div",{children:i.jsx("span",{className:"inline-block rounded-full border border-gray-300 bg-white px-3 py-1 text-xs font-medium",children:N.audience==="children"||N.audience==="Crianas"?"Crianas 0 a 12 anos":N.audience==="teens"||N.audience==="Adolescentes"?"Adolescentes 13 a 17 anos":"Adultos 18+ anos"})}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("p",{children:[N.pages," pginas"]}),i.jsx("p",{className:"capitalize",children:N.theme||"Aventura"}),i.jsxs("p",{children:["Criado em ",new Date(N.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(U,{size:"sm",className:"flex-1 text-white hover:opacity-90",style:{backgroundColor:"#6D56AB"},onClick:()=>t(`/livro/${N.id}`),children:[i.jsx(gn,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:k=>{k.stopPropagation(),alert("Editar em desenvolvimento")},children:i.jsx(Fu,{className:"h-4 w-4"})}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:k=>{k.stopPropagation(),j(N.title)},children:i.jsx(Uu,{className:"h-4 w-4"})}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:k=>{k.stopPropagation(),S(N.id,N.title)},children:i.jsx(qp,{className:"h-4 w-4"})})]})]})]},N.id))}):i.jsx("div",{className:"space-y-4",children:_.map(N=>i.jsx(F,{className:"group overflow-hidden border-0 shadow-md transition-all hover:shadow-xl",children:i.jsxs("div",{className:"flex items-center gap-4 p-4",children:[i.jsx("div",{className:"w-20 h-20 flex-shrink-0 overflow-hidden rounded-md bg-gray-100",children:i.jsx("img",{src:N.cover||"/placeholder.svg",alt:N.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"mb-2 text-base font-semibold text-primary transition-colors hover:text-[#6D56AB] cursor-pointer",onClick:()=>t(`/livro/${N.id}`),children:N.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("span",{className:"inline-block rounded-full border border-gray-300 bg-white px-3 py-1 text-xs font-medium",children:N.audience==="children"||N.audience==="Crianas"?"Crianas 0 a 12 anos":N.audience==="teens"||N.audience==="Adolescentes"?"Adolescentes 13 a 17 anos":"Adultos 18+ anos"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[N.pages," pginas"]}),i.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:N.theme||"Aventura"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Criado em ",new Date(N.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsxs(U,{size:"sm",className:"text-white hover:opacity-90",style:{backgroundColor:"#6D56AB"},onClick:()=>t(`/livro/${N.id}`),children:[i.jsx(gn,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:k=>{k.stopPropagation(),alert("Editar em desenvolvimento")},children:i.jsx(Fu,{className:"h-4 w-4"})}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:k=>{k.stopPropagation(),j(N.title)},children:i.jsx(Uu,{className:"h-4 w-4"})}),i.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:k=>{k.stopPropagation(),S(N.id,N.title)},children:i.jsx(qp,{className:"h-4 w-4"})})]})]})},N.id))})]}),i.jsx(Ux,{open:w,onOpenChange:y,children:i.jsxs(kh,{className:"sm:max-w-[425px]",children:[i.jsxs(zx,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:i.jsx(Yy,{className:"h-5 w-5 text-red-600"})}),i.jsx(Vx,{className:"text-xl",children:"Confirmar Excluso"})]}),i.jsxs(Hx,{className:"pt-2 text-base",children:["Tem certeza que deseja excluir o livro ",i.jsxs("strong",{children:['"',b==null?void 0:b.title,'"']}),"?",i.jsx("br",{}),i.jsx("span",{className:"text-red-600 font-medium",children:"Esta ao no pode ser desfeita."})]})]}),i.jsxs(Wx,{className:"gap-2 sm:gap-0",children:[i.jsx(U,{variant:"outline",onClick:()=>{y(!1),g(null)},children:"Cancelar"}),i.jsx(U,{variant:"destructive",onClick:E,className:"bg-red-600 hover:bg-red-700",children:"Excluir Livro"})]})]})})]})}const Ch=v.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Ch.displayName="Textarea";var Th="Progress",Rh=100,[a2]=Br(Th),[o2,i2]=a2(Th),qx=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=l2,...o}=e;(s||s===0)&&!vm(s)&&console.error(c2(`${s}`,"Progress"));const l=vm(s)?s:Rh;n!==null&&!ym(n,l)&&console.error(u2(`${n}`,"Progress"));const c=ym(n,l)?n:null,u=tl(c)?a(c,l):void 0;return i.jsx(o2,{scope:r,value:c,max:l,children:i.jsx(ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tl(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Jx(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qx.displayName=Th;var Gx="ProgressIndicator",Kx=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=i2(Gx,r);return i.jsx(ne.div,{"data-state":Jx(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Kx.displayName=Gx;function l2(e,t){return`${Math.round(e/t*100)}%`}function Jx(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tl(e){return typeof e=="number"}function vm(e){return tl(e)&&!isNaN(e)&&e>0}function ym(e,t){return tl(e)&&!isNaN(e)&&e<=t&&e>=0}function c2(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Rh}\`.`}function u2(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Rh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Yx=qx,d2=Kx;const Kn=v.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Yx,{ref:n,className:W("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:i.jsx(d2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Kn.displayName=Yx.displayName;const h2="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",xm="1ad41cb5-965f-4121-bfa0-d62330db3920:3ad994e56b29d7c2bc46715046a7651b",f2="af92e7bab20fa5b4b04c0394a2710720",Qx="gpt-4.1-mini",p2=e=>new Promise(t=>setTimeout(t,e));function Ah(e,t){let r=e;for(const[n,s]of Object.entries(t))r=r.replace(new RegExp(`\\{\\{${n}\\}\\}`,"g"),s??"");return r}async function m2(e){const{data:t,error:r}=await xe.from("profiles").select("ai_model, ai_temperature_default, ai_temperature_image_prompts, ai_temperature_story, ai_prompts").eq("id",e).single();if(r||!t)return null;const n=t;return{model:n.ai_model??Qx,temperatureDefault:Number(n.ai_temperature_default)??.4,temperatureImagePrompts:Number(n.ai_temperature_image_prompts)??.5,temperatureStory:Number(n.ai_temperature_story)??.6,prompts:n.ai_prompts??null}}function g2(){return[]}function Ph(e){const t=e.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);return t!=null&&t[1]?t[1].trim():e.trim()}function Ih(e){return e.map((t,r)=>{var a,o;const n=((a=t.descricao)==null?void 0:a.trim())||`Pessoa ${r+1}`,s=(o=t.papel)!=null&&o.trim()?` (${t.papel.trim()})`:"";return`- ${n}${s}`}).join(`
`)}function Oh(){return["Preserve the exact facial identity from the reference image (face shape, eyes, nose, mouth, eyebrows, hair, skin tone).","Keep the same apparent age and proportions.","Keep hairstyle, eye color, skin tone, and facial features consistent across all pages.","Maintain the same outfit, color palette, and signature accessories in every scene unless the story explicitly says the character changed clothes or context.","Full body visible in frame, no cropping.","No text, watermark, logo, or borders.","Illustration only, not photo or hyper-realism."].join(" ")}function v2(e,t){const r=`${e}
${t}`.toLowerCase();return["troca de roupa","mudou de roupa","trocou de roupa","roupa de dormir","pijama","fantasia","fantasiado","uniforme","traje","roupa especial","armadura","capacete","roupa de inverno","casaco","jaqueta","agasalho","roupa de verao","roupa de vero","praia","nadar","roupa esportiva","roupa de banho","swimsuit","uniform","pajamas","costume","disguise","armor","helmet","winter coat","jacket","sports outfit","change clothes","changed clothes","outfit change"].some(s=>r.includes(s))}async function y2(e){var a;const t=new FormData;t.append("image",e),t.append("key",f2);const r=await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:t});if(!r.ok)throw new Error("Falha ao enviar imagem para o ImgBB.");const n=await r.json(),s=(a=n==null?void 0:n.data)==null?void 0:a.url;if(!s)throw new Error("Resposta invlida do ImgBB.");return s}async function Dh(e,t,r=.4,n){var c,u,d;const s=n??Qx,a=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${h2}`,"Content-Type":"application/json"},body:JSON.stringify({model:s,temperature:r,messages:[{role:"system",content:e},{role:"user",content:t}]})});if(!a.ok){const h=await a.text();throw new Error(`Erro ao chamar OpenAI: ${h}`)}const o=await a.json(),l=(d=(u=(c=o==null?void 0:o.choices)==null?void 0:c[0])==null?void 0:u.message)==null?void 0:d.content;if(!l)throw new Error("Resposta vazia da OpenAI.");return l}async function x2(e,t,r,n){var p,f;const s=Ih(r),a=n==null?void 0:n.prompts,o=((p=a==null?void 0:a.imagePromptsSystem)==null?void 0:p.trim())??["Voce e um especialista em prompts para ilustracoes digitais modernas.","Retorne APENAS JSON valido, sem markdown e sem explicacoes.","Os prompts devem estar em ingles.","Gere tres chaves: prompt_personagem, prompt_estilo_imagem e ficha_personagem.","prompt_personagem: apenas o personagem principal, identidade visual e traos fisicos, sem cenario.","prompt_estilo_imagem: apenas o estilo visual (tecnica, paleta, luz, atmosfera), sem personagem.","ficha_personagem: um character bible detalhado com TODOS os personagens principais da historia, incluindo identidade visual, roupas iniciais, cores, acessorios e detalhes fisicos consistentes para cada um.","Sempre preserve a identidade do rosto com base na imagem de referencia.","Evite estilo infantil, chibi ou proporcoes de bebe.","Busque um visual animado, estilizado e com toque futurista discreto quando fizer sentido.","Inclua diretrizes de consistencia visual (paleta, textura e iluminacao)."].join(" "),l=["Historia base:",e,"","Personagens e papeis:",s,"",`Estilo desejado: ${t}`,"","IMPORTANTE: Se o estilo for 'Ilustrao Digital' ou 'Ilustracao Digital', o prompt_estilo_imagem deve especificar um estilo mais realista e fotogrfico, similar a uma foto profissional, no um desenho animado ou ilustrao estilizada.","","Formato de resposta obrigatorio:","{",'  "prompt_personagem": "..."','  "prompt_estilo_imagem": "..."','  "ficha_personagem": "..."',"}"].join(`
`),c=(f=a==null?void 0:a.imagePromptsUser)!=null&&f.trim()?Ah(a.imagePromptsUser,{HISTORIA:e,REFERENCIAS_SUMMARY:s,ESTILO_IMAGEM:t}):l,u=(n==null?void 0:n.temperatureImagePrompts)??.5,d=await Dh(o,c,u,n==null?void 0:n.model),h=Ph(d);return JSON.parse(h)}async function w2(e,t,r,n,s){var w,y,b,g;const a=Ih(r),o=((y=(w=s==null?void 0:s.prompts)==null?void 0:w.characterIdentityRule)==null?void 0:y.trim())||Oh(),l=s==null?void 0:s.prompts,c=((b=l==null?void 0:l.storyCartoonSystem)==null?void 0:b.trim())??["Crie uma historia infantil curta seguindo as regras abaixo.","Nao inclua titulo.","A historia deve ter 3 paginas, maximo 400 caracteres por pagina.","Linguagem simples, acolhedora e educativa em PT-BR.","Use os personagens fornecidos e seus papeis.","A descricao da imagem deve estar em ingles.","Retorne APENAS JSON valido."].join(" "),u=["Personagens e papeis:",a,"",`Estilo da historia: ${n}. Texto final obrigatoriamente em PT-BR.`,`Estilo da imagem: ${t}`,"","Se houver troca de roupa, isso deve estar EXPLICITO no texto e na descricao da imagem.","Regras para o campo imagem:","- Cartoon-style illustration with clean lines, balanced lighting.",`- ${o}`,"- No animals or extra characters unless in story.","","Formato de saida OBRIGATORIO:","{",'  "pagina1": { "texto": "...", "imagem": "..." },','  "pagina2": { "texto": "...", "imagem": "..." },','  "pagina3": { "texto": "...", "imagem": "..." }',"}","","Historia base:",e].join(`
`),d=(g=l==null?void 0:l.storyCartoonUser)!=null&&g.trim()?Ah(l.storyCartoonUser,{REFERENCIAS_SUMMARY:a,LINGUAGEM:n,ESTILO_IMAGEM:t,CHARACTER_IDENTITY_RULE:o,HISTORIA:e}):u,h=(s==null?void 0:s.temperatureStory)??.6,p=await Dh(c,d,h,s==null?void 0:s.model),f=Ph(p);return JSON.parse(f)}async function b2(e,t,r,n,s,a=null,o){var m,x,_,S;const l=Ih(r),c=((x=(m=o==null?void 0:o.prompts)==null?void 0:m.characterIdentityRule)==null?void 0:x.trim())||Oh(),u=o==null?void 0:o.prompts,d=((_=u==null?void 0:u.storyWithImageBaseSystem)==null?void 0:_.trim())??["Crie uma historia infantil curta seguindo as regras abaixo.","Nao inclua titulo.","A historia deve ter 3 paginas, maximo 400 caracteres por pagina.","Linguagem simples, acolhedora e educativa em PT-BR.","Use os personagens fornecidos e seus papeis.","A descricao da imagem deve estar em ingles.","IMPORTANTE: Cada pagina deve ter uma acao ou situacao diferente, com poses e movimentos variados dos personagens conectados a narrativa. Evite poses repetitivas ou genericas como 'caminhando de maos dadas' em todas as paginas.","Retorne APENAS JSON valido."].join(" "),h=s?`Ficha do personagem (seguir fielmente):
`+s:"",p=a&&(a.toLowerCase().includes("ilustracao")||a.toLowerCase().includes("ilustrao"))?"- Realistic digital illustration, photorealistic style, natural lighting, detailed textures, life-like appearance, not cartoon or stylized.":"- Stylized digital illustration, animated cinematic look, dynamic lighting.",f=["Personagens e papeis:",l,"",`Estilo da historia: ${n}. Texto final obrigatoriamente em PT-BR.`,"Estilo da imagem (use como guia):",t,h,"","Se houver troca de roupa, isso deve estar EXPLICITO no texto e na descricao da imagem.","Regras para o campo imagem:",p,`- ${c}`,"- No animals or extra characters unless in story.","- CRITICAL: Each page must show characters in DIFFERENT, DYNAMIC poses connected to the story action. Avoid static or repetitive poses like 'walking hand-in-hand' across multiple pages. Describe specific actions, movements, gestures, and body positions that match the narrative of each page.","","Formato de saida OBRIGATORIO:","{",'  "pagina1": { "texto": "...", "imagem(em ingles)": "..." },','  "pagina2": { "texto": "...", "imagem(em ingles)": "..." },','  "pagina3": { "texto": "...", "imagem(em ingles)": "..." }',"}","","Historia base:",e].join(`
`),w=(S=u==null?void 0:u.storyWithImageBaseUser)!=null&&S.trim()?Ah(u.storyWithImageBaseUser,{REFERENCIAS_SUMMARY:l,LINGUAGEM:n,PROMPT_ESTILO_IMAGEM:t,FICHA_PERSONAGEM:h,CHARACTER_IDENTITY_RULE:c,HISTORIA:e}):f,y=(o==null?void 0:o.temperatureStory)??.6,b=await Dh(d,w,y,o==null?void 0:o.model),g=Ph(b);return JSON.parse(g)}async function _2(e,t){var a,o,l;const r=await fetch("https://queue.fal.run/fal-ai/nano-banana/edit",{method:"POST",headers:{Authorization:`Key ${xm}`,"Content-Type":"application/json"},body:JSON.stringify({prompt:e,image_urls:[t],num_images:1,output_format:"png"})});if(!r.ok){const c=await r.text();throw new Error(`Erro ao criar imagem (Fal.ai): ${c}`)}const n=await r.json(),s=(n==null?void 0:n.request_id)||((a=n==null?void 0:n.data)==null?void 0:a.request_id);if(!s)throw new Error("Fal.ai nao retornou request_id.");for(let c=0;c<60;c+=1){await p2(5e3);const u=await fetch(`https://queue.fal.run/fal-ai/nano-banana/requests/${s}`,{headers:{Authorization:`Key ${xm}`,"Content-Type":"application/json"}});if(!u.ok)continue;const d=await u.json(),h=(d==null?void 0:d.status)||((o=d==null?void 0:d.data)==null?void 0:o.status),p=(d==null?void 0:d.images)||((l=d==null?void 0:d.data)==null?void 0:l.images);if(h==="FAILED")throw new Error("Fal.ai falhou ao gerar a imagem.");if((p==null?void 0:p.length)>0)return p[0].url}throw new Error("Timeout ao gerar imagem no Fal.ai.")}function S2(e,t,r,n,s,a){const o=(a==null?void 0:a.trim())||Oh();return[e,"",t?`Character details: ${t}`:"",r?`Visual style: ${r}`:"",n?`Character bible (follow exactly): ${n}`:"",o,s?"Allow outfit change only as explicitly described; keep identity and key accessories consistent.":"Do not change clothing across pages unless the page text explicitly states an outfit change.","Maintain IDENTICAL art style, rendering technique, color palette, lighting style, and visual aesthetic across ALL pages. Do not change from digital illustration to cartoon or vice versa.","IMPORTANT: Create dynamic, varied poses for characters that match the specific action and narrative of this page. Avoid static or repetitive poses. Show characters engaged in the specific action described, with expressive body language, gestures, and movements that tell the story."].filter(Boolean).join(`
`)}async function j2(e,t){const{data:r,error:n}=await xe.from("books").insert({titulo:e.titulo,categoria_livro:e.categoria,estilo_das_imagens:e.estiloImagem,lingaguem_livro:e.linguagem,status:"Em Criao",publico_alvo:e.publicoAlvo,historia_livro:e.historia,is_public:!0,user_id:e.userId||null,imagens_referencia:t}).select("id").single();if(n)throw n;return r.id}async function E2(e,t,r){const{error:n}=await xe.from("pages_livro").insert({book_id:e,story_description:t,cover_image_url:r});if(n)throw n}async function N2(e,t){const{error:r}=await xe.from("books").update({status:t}).eq("id",e);r&&console.warn("Erro ao atualizar status do livro:",r)}async function k2(e,t){var m,x,_,S;const r=g2();if(r.length>0)throw new Error(`Configure as variaveis: ${r.join(", ")}`);t==null||t(5);let n=e.userId;if(!n){const{data:{session:E}}=await xe.auth.getSession();n=((m=E==null?void 0:E.user)==null?void 0:m.id)??void 0,n&&(e.userId=n)}const s=n?await m2(n):null,a=(x=e.referencias[e.baseImageIndex])==null?void 0:x.file;if(!a)throw new Error("Imagem base nao encontrada.");const o=await y2(a);t==null||t(15);const l=await j2(e,o);t==null||t(20);const c=e.estiloImagem.toLowerCase(),u=c.includes("ilustracao")||c.includes("ilustrao"),d=c.includes("cartoon");let h=null,p=null,f=null;if(u){const E=await x2(e.historia,e.estiloImagem,e.referencias,s);h=E.prompt_personagem,p=E.prompt_estilo_imagem,f=E.ficha_personagem}t==null||t(35);const w=d?await w2(e.historia,e.estiloImagem,e.referencias,e.linguagem,s):await b2(e.historia,p||e.estiloImagem,e.referencias,e.linguagem,f,e.estiloImagem,s);t==null||t(50);const y=((S=(_=s==null?void 0:s.prompts)==null?void 0:_.characterIdentityRule)==null?void 0:S.trim())||null,b=[w.pagina1,w.pagina2,w.pagina3];let g=o;for(let E=0;E<b.length;E+=1){const j=b[E],k=(j["imagem(em ingles)"]||j.imagem||"").trim()||"Children's storybook illustration that matches the page text.",R=v2(j.texto,k),O=S2(k,h,p,f,R,y),I=await _2(O,g);await E2(l,j.texto,I),g=I,t==null||t(60+Math.round((E+1)/b.length*35))}return await N2(l,"Finalizado"),t==null||t(100),{bookId:l}}const ti=[{id:1,name:"Informaes Bsicas",description:"Ttulo, tema e pblico"},{id:2,name:"Imagens de Referncia",description:""},{id:3,name:"Histria",description:"Conte sua histria"},{id:4,name:"Gerao IA",description:"Aguarde a mgica"},{id:5,name:"Criao",description:"Visualize e publique"}];function C2(){const e=Nn(),{user:t}=$r(),[r,n]=v.useState(1),[s,a]=v.useState(!1),[o,l]=v.useState(0),[c,u]=v.useState(null),[d,h]=v.useState({title:"",theme:"",audience:"",language:"",imageStyle:"Ilustrao digital",storyDetails:"",images:[],baseImageIndex:null}),p=_=>{const S=Array.from(_.target.files||[]),E=5,j=E-d.images.length,N=S.slice(0,j);if(d.images.length+N.length>E){X.error("Voc pode adicionar no mximo 5 imagens");return}const k=N.map(R=>({file:R,descricao:"",papel:""}));h(R=>{const O=[...R.images,...k],I=R.baseImageIndex??(O.length>0?0:null);return{...R,images:O,baseImageIndex:I}}),_.target.value=""},f=_=>{h(S=>{const E=S.images.filter((N,k)=>k!==_);let j=S.baseImageIndex;return j===_?j=E.length>0?0:null:j!==null&&_<j&&(j-=1),{...S,images:E,baseImageIndex:j}})},w=(_,S,E)=>{h({...d,images:d.images.map((j,N)=>N===_?{...j,[S]:E}:j)})},y=_=>{switch(_){case 1:return!d.title||!d.theme||!d.audience||!d.language||!d.imageStyle?(X.error("Por favor, preencha todos os campos obrigatrios"),!1):!0;case 2:return d.images.length===0?(X.error("Por favor, adicione pelo menos uma imagem de referncia"),!1):d.baseImageIndex===null?(X.error("Selecione a imagem base para a criao das ilustraes"),!1):d.images.find(E=>!E.descricao.trim()||!E.papel.trim())?(X.error("Preencha quem  na imagem e o papel na histria"),!1):!0;case 3:return!d.storyDetails||d.storyDetails.length<50?(X.error("Por favor, escreva uma descrio mais detalhada da histria (mnimo 50 caracteres)"),!1):!0;default:return!0}},b=()=>{y(r)&&(r===3?m():n(r+1))},g=()=>{n(r-1)},m=async()=>{n(4),a(!0),l(0),u(null);try{const _=await k2({titulo:d.title,categoria:d.theme,publicoAlvo:d.audience,linguagem:d.language,historia:d.storyDetails,estiloImagem:d.imageStyle,referencias:d.images,baseImageIndex:d.baseImageIndex??0,userId:t==null?void 0:t.id},S=>l(S));u(_.bookId),a(!1),setTimeout(()=>n(5),500)}catch(_){console.error("Erro ao gerar livro:",_),X.error((_==null?void 0:_.message)||"Erro ao gerar o livro. Tente novamente."),a(!1),n(3)}};v.useEffect(()=>{if(r===5){const _=setTimeout(()=>{e(c?`/livro/${c}`:"/livro/preview")},3e3);return()=>clearTimeout(_)}},[r,c,e]);const x=()=>{switch(r){case 1:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"title",children:"Ttulo do Livro *"}),i.jsx(be,{id:"title",placeholder:"Ex: A Grande Aventura do Pequeno Explorador",value:d.title,onChange:_=>h({...d,title:_.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"theme",children:"Tema do Livro *"}),i.jsx(be,{id:"theme",placeholder:"Ex: Aventura, Fantasia, Educao...",value:d.theme,onChange:_=>h({...d,theme:_.target.value})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"audience",children:"Pblico-Alvo *"}),i.jsxs(Qt,{value:d.audience,onValueChange:_=>h({...d,audience:_}),children:[i.jsx(Pt,{children:i.jsx(Xt,{placeholder:"Selecione o pblico"})}),i.jsxs(It,{children:[i.jsx(ae,{value:"children",children:"Crianas (3-12 anos)"}),i.jsx(ae,{value:"teens",children:"Adolescentes (13-17 anos)"}),i.jsx(ae,{value:"adults",children:"Adultos (18+ anos)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"language",children:"Linguagem *"}),i.jsxs(Qt,{value:d.language,onValueChange:_=>h({...d,language:_}),children:[i.jsx(Pt,{children:i.jsx(Xt,{placeholder:"Selecione a linguagem"})}),i.jsxs(It,{children:[i.jsx(ae,{value:"infantil",children:"Infantil"}),i.jsx(ae,{value:"direto",children:"Direto"}),i.jsx(ae,{value:"educativo",children:"Educativo"}),i.jsx(ae,{value:"poetico",children:"Potico"}),i.jsx(ae,{value:"formal",children:"Formal"}),i.jsx(ae,{value:"casual",children:"Casual"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"imageStyle",children:"Estilo das Imagens *"}),i.jsxs(Qt,{value:d.imageStyle,onValueChange:_=>h({...d,imageStyle:_}),children:[i.jsx(Pt,{children:i.jsx(Xt,{placeholder:"Selecione o estilo"})}),i.jsxs(It,{children:[i.jsx(ae,{value:"Ilustrao digital",children:"Ilustrao digital"}),i.jsx(ae,{value:"Cartoon",children:"Cartoon"})]})]})]})]});case 2:return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione at 5 imagens, escolha a base e descreva quem aparece em cada uma"})}),d.images.length<5&&i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center bg-gray-50",children:[i.jsx(ch,{className:"mx-auto h-10 w-10 text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Clique para adicionar imagens"}),i.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"PNG, JPG at 10MB cada"}),i.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer inline-block",children:i.jsx(U,{variant:"outline",asChild:!0,children:i.jsx("span",{children:"Selecionar Imagens"})})}),i.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:d.images.length>=5}),i.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:[d.images.length,"/5 imagens adicionadas"]})]}),d.images.length>0&&i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.images.map((_,S)=>i.jsxs(F,{className:"overflow-hidden",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:URL.createObjectURL(_.file)||"/placeholder.svg",alt:`Referncia ${S+1}`,className:"w-full h-48 object-cover"}),i.jsx(U,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>f(S),children:i.jsx(Xy,{className:"h-4 w-4"})})]}),i.jsxs(Z,{className:"p-4 space-y-4",children:[i.jsx(U,{type:"button",variant:d.baseImageIndex===S?"default":"outline",size:"sm",className:"w-full",onClick:()=>h(E=>({...E,baseImageIndex:S})),children:d.baseImageIndex===S?"Imagem base selecionada":"Usar como base"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:`descricao-${S}`,className:"text-sm font-medium",children:"Quem  na imagem?"}),i.jsx(be,{id:`descricao-${S}`,placeholder:"Ex: Joo, Maria, um garoto de 8 anos...",value:_.descricao,onChange:E=>w(S,"descricao",E.target.value),className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:`papel-${S}`,className:"text-sm font-medium",children:"Papel na histria"}),i.jsx(be,{id:`papel-${S}`,placeholder:"Ex: Personagem principal, Tio, Pai, Av...",value:_.papel,onChange:E=>w(S,"papel",E.target.value),className:"w-full"})]})]})]},S))}),d.images.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Adicione imagens para comear"})}),d.images.length>0&&i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2",children:[i.jsxs("span",{children:[d.images.length,"/5 imagens adicionadas"]}),d.images.length===5&&i.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Limite atingido"})]})]});case 3:return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"story",children:"Conte sua Histria *"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Descreva detalhadamente a histria que voc deseja contar. Quanto mais detalhes, melhor ser o resultado!"}),i.jsx(Ch,{id:"story",placeholder:`Era uma vez um pequeno explorador que vivia em uma pequena vila...

Descreva:
 Os personagens principais e suas caractersticas
 O cenrio e ambiente da histria
 A trama principal e conflitos
 A mensagem ou lio que deseja transmitir
 Qualquer detalhe especfico que voc gostaria de incluir`,className:"min-h-[300px] resize-none",value:d.storyDetails,onChange:_=>h({...d,storyDetails:_.target.value})}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.storyDetails.length," caracteres (mnimo 50)"]})]})});case 4:return null;case 5:return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"rounded-lg p-12 text-center max-w-md",children:[i.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100",children:i.jsx(pi,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"mb-4 text-3xl font-bold whitespace-nowrap",style:{color:"#151515"},children:"Livro Criado com Sucesso!"}),i.jsxs("p",{className:"mb-4 text-lg whitespace-nowrap",style:{color:"#151515"},children:['Seu livro "',d.title,'" foi gerado com sucesso.']}),i.jsx("p",{className:"text-sm whitespace-nowrap",style:{color:"#151515"},children:"Redirecionando para visualizao..."})]})});default:return null}};return i.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"mb-2 text-3xl font-bold",style:{color:"#262626"},children:"Criar Novo Livro"}),i.jsx("p",{className:"text-muted-foreground",children:"Siga os passos para criar seu livro com IA"})]}),i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"flex items-center justify-between",children:ti.map((_,S)=>i.jsxs("div",{className:"flex flex-1 items-center",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border-2 font-semibold transition-colors ${r>_.id?"border-green-500 bg-green-500 text-white":r===_.id?"border-[#6D56AB] bg-[#6D56AB] text-white":"border-gray-300 bg-white text-gray-400"}`,children:r>_.id?i.jsx(pi,{className:"h-5 w-5"}):_.id}),i.jsx("div",{className:"mt-2 hidden text-center md:block",children:i.jsx("p",{className:`text-xs font-medium ${r>_.id?"text-green-500":r===_.id?"text-black":"text-muted-foreground"}`,children:_.name})})]}),S<ti.length-1&&i.jsx("div",{className:`mx-2 h-0.5 flex-1 ${r>_.id?"bg-green-500":"bg-gray-300"}`})]},_.id))})}),i.jsxs(F,{className:"border-0 shadow-lg",children:[r!==5&&i.jsxs(te,{children:[i.jsx(re,{children:ti[r-1].name}),i.jsx(ue,{children:ti[r-1].description})]}),i.jsx(Z,{children:x()})]}),r!==4&&i.jsxs("div",{className:"mt-6 flex justify-between",children:[i.jsxs(U,{variant:"outline",onClick:g,disabled:r===1,children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Voltar"]}),i.jsx(U,{onClick:b,disabled:r===5,children:r===3?i.jsxs(i.Fragment,{children:[i.jsx(Jy,{className:"mr-2 h-4 w-4"}),"Gerar Livro"]}):r===5?"Concludo":i.jsxs(i.Fragment,{children:["Prximo",i.jsx(kr,{className:"ml-2 h-4 w-4"})]})})]}),i.jsx(Ux,{open:r===4,modal:!0,onOpenChange:_=>{!_&&s||!_&&!s&&o>=100&&n(5)},children:i.jsx(kh,{className:`sm:max-w-md ${s?"[&>button]:hidden":""}`,onPointerDownOutside:_=>{s&&_.preventDefault()},onEscapeKeyDown:_=>{s&&_.preventDefault()},onInteractOutside:_=>{s&&_.preventDefault()},children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx("div",{className:"mb-8 flex h-24 w-24 items-center justify-center",children:s?i.jsx("img",{src:"/loading-whizpic.gif",alt:"Gerando",className:"h-24 w-24"}):i.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-[#6D56AB] to-[#4a3b75]",children:i.jsx(pi,{className:"h-12 w-12 text-white"})})}),i.jsx("h2",{className:"mb-4 text-2xl font-bold text-primary text-center",children:s?"Gerando seu livro...":"Livro gerado com sucesso!"}),i.jsx("p",{className:"mb-8 text-center text-muted-foreground",children:s?"Nossa IA est criando textos e imagens incrveis para seu livro. Isso pode levar alguns segundos.":"Seu livro est pronto! Revise e publique quando estiver satisfeito."}),i.jsxs("div",{className:"w-full max-w-md space-y-2",children:[i.jsx(Kn,{value:o,className:"h-2"}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[o,"% concludo"]})]}),o>0&&o<100&&i.jsxs("div",{className:"mt-8 space-y-2 text-center text-sm text-muted-foreground",children:[o<30&&i.jsx("p",{children:"Analisando suas referncias..."}),o>=30&&o<60&&i.jsx("p",{children:"Gerando textos com IA..."}),o>=60&&o<90&&i.jsx("p",{children:"Criando ilustraes personalizadas..."}),o>=90&&i.jsx("p",{children:"Finalizando seu livro..."})]}),!s&&o>=100&&i.jsxs(U,{className:"mt-6",onClick:()=>{n(5)},children:["Continuar",i.jsx(kr,{className:"ml-2 h-4 w-4"})]})]})})})]})})}function wm(){var x,_,S;const{id:e}=E_(),t=Nn(),n=En().pathname==="/livro/preview",{user:s}=$r(),[a,o]=v.useState(0),[l,c]=v.useState(null),[u,d]=v.useState(!0),[h,p]=v.useState(null);if(v.useEffect(()=>{async function E(){if(n){c({id:0,title:"Meu Livro Criado",theme:"Aventura",audience:"Crianas",language:"Infantil",pages:[{number:0,type:"cover",image:"/placeholder.svg",text:""},{number:1,type:"content",image:"/placeholder.svg",text:"Era uma vez um pequeno explorador que vivia em uma pequena vila. Ele sempre sonhava em descobrir o mundo alm das montanhas que cercavam seu lar."},{number:2,type:"content",image:"/placeholder.svg",text:"Um dia, o explorador decidiu embarcar em uma grande aventura. Ele pegou sua mochila, seu mapa antigo e partiu em busca de tesouros escondidos."},{number:3,type:"content",image:"/placeholder.svg",text:"Pelo caminho, encontrou criaturas mgicas e fez novos amigos. Cada passo era uma nova descoberta, cada encontro uma nova amizade."},{number:4,type:"content",image:"/placeholder.svg",text:"No final de sua jornada, o explorador percebeu que o verdadeiro tesouro no estava escondido em um ba, mas sim nas memrias e amizades que construiu pelo caminho."}]}),d(!1);return}if(!e||!(s!=null&&s.id)){p("Usurio no autenticado"),d(!1);return}try{const j=parseInt(e,10);if(isNaN(j)){p("ID do livro invlido"),d(!1);return}const N=await Vk(j,s.id);if(!N){p("Livro no encontrado"),d(!1);return}const k=[];N.pages.length>0&&N.pages[0].cover_image_url&&k.push({number:0,type:"cover",image:N.pages[0].cover_image_url||"/placeholder.svg",text:""}),N.pages.forEach(O=>{O.story_description&&k.push({number:k.length,type:"content",image:O.cover_image_url||"/placeholder.svg",text:O.story_description})}),k.length===0&&k.push({number:0,type:"content",image:"/placeholder.svg",text:"Este livro ainda no tem pginas."});const R={id:N.id,title:N.titulo||"Sem ttulo",theme:N.categoria_livro||"No especificado",audience:N.publico_alvo||"No especificado",language:N.lingaguem_livro||"No especificado",pages:k};c(R)}catch(j){console.error("Erro ao carregar livro:",j),p("Erro ao carregar o livro. Tente novamente.")}finally{d(!1)}}E()},[e,s==null?void 0:s.id,n]),u)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsx(Sl,{message:"Carregando livro..."})});if(h||!l)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsx(F,{className:"border-0 shadow-md",children:i.jsxs(Z,{className:"p-8 text-center",children:[i.jsx("h2",{className:"mb-4 text-xl font-semibold text-primary",children:"Erro ao carregar livro"}),i.jsx("p",{className:"mb-6 text-muted-foreground",children:h||"Livro no encontrado"}),i.jsx(U,{onClick:()=>t("/meus-livros"),children:"Voltar para Meus Livros"})]})})});const f=l.pages.length,w=f>0?(a+1)/f*100:0,y=E=>{o(E)},b=()=>{a<f-1&&o(a+1)},g=()=>{a>0&&o(a-1)},m=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copiado para a rea de transferncia!")};return i.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:[i.jsxs("div",{className:"border-b bg-white/80 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>t(-1),children:[i.jsx(Bu,{className:"mr-2 h-4 w-4"}),"Voltar"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-semibold",style:{color:"#262626"},children:l.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f>0?`Pgina ${a+1} de ${f}`:"Sem pginas"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(U,{variant:"outline",size:"sm",onClick:()=>alert("Funcionalidade de edio em desenvolvimento"),children:[i.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Editar"]}),i.jsxs(U,{variant:"outline",size:"sm",onClick:m,children:[i.jsx(Uu,{className:"mr-2 h-4 w-4"}),"Compartilhar"]}),i.jsxs(U,{variant:"outline",size:"sm",onClick:()=>alert("Download em desenvolvimento"),children:[i.jsx(Gy,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]}),i.jsx(Kn,{value:w,className:"h-1 rounded-none"})]}),i.jsxs("div",{className:"flex flex-1 gap-6 p-6",children:[i.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:l.pages.length>0?i.jsxs("div",{className:"w-full max-w-4xl",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(F,{className:"overflow-hidden border shadow-lg",children:((x=l.pages[a])==null?void 0:x.type)==="cover"?i.jsxs("div",{className:"grid md:grid-cols-2",children:[i.jsx("div",{className:"aspect-square bg-gray-50 md:aspect-auto md:h-[500px]",children:i.jsx("img",{src:l.pages[a].image||"/placeholder.svg",alt:"Capa do livro",className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex flex-col justify-center bg-white p-6 md:p-8",children:[i.jsx("div",{className:"mb-4 text-sm font-medium text-[#6D56AB]",children:"Capa"}),i.jsx("h2",{className:"text-2xl md:text-3xl font-bold leading-tight text-gray-900",children:l.title})]})]}):i.jsxs("div",{className:"grid md:grid-cols-2",children:[i.jsx("div",{className:"aspect-square bg-gray-50 md:aspect-auto md:h-[500px]",children:i.jsx("img",{src:((_=l.pages[a])==null?void 0:_.image)||"/placeholder.svg",alt:`Pgina ${a+1}`,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex flex-col justify-center bg-white p-6 md:p-8",children:[i.jsxs("div",{className:"mb-4 text-sm font-medium text-[#6D56AB]",children:["Pgina ",a+1]}),i.jsx("p",{className:"text-balance text-base leading-relaxed text-gray-800",children:((S=l.pages[a])==null?void 0:S.text)||"Sem contedo"})]})]})}),i.jsxs("div",{className:"absolute left-4 right-4 top-1/2 flex -translate-y-1/2 items-center justify-between pointer-events-none",children:[i.jsx(U,{variant:"outline",size:"icon",onClick:g,disabled:a===0,className:"pointer-events-auto h-10 w-10 rounded-full bg-white/90 shadow-md hover:bg-white",children:i.jsx(Gi,{className:"h-5 w-5"})}),i.jsx(U,{variant:"outline",size:"icon",onClick:b,disabled:a===f-1,className:"pointer-events-auto h-10 w-10 rounded-full bg-white/90 shadow-md hover:bg-white",children:i.jsx(kr,{className:"h-5 w-5"})})]})]}),i.jsxs("div",{className:"border-t bg-white pt-4 pb-4",children:[i.jsx("div",{className:"overflow-x-auto px-2",children:i.jsx("div",{className:"flex gap-3 justify-center pb-2",children:l.pages.map((E,j)=>i.jsxs("button",{onClick:()=>y(j),className:`flex-shrink-0 transition-all transform hover:scale-105 focus:outline-none ${a===j?"opacity-100":"opacity-60 hover:opacity-100"}`,children:[i.jsx("div",{className:`w-20 h-28 md:w-24 md:h-32 overflow-hidden rounded-md bg-gray-100 border-2 transition-colors ${a===j?"border-[#6D56AB]":"border-gray-200"}`,children:i.jsx("img",{src:E.image||"/placeholder.svg",alt:`Pgina ${j+1}`,className:"h-full w-full object-cover"})}),i.jsx("p",{className:`mt-1 text-center text-xs font-medium ${a===j?"text-[#6D56AB]":"text-muted-foreground"}`,children:E.type==="cover"?"Capa":`${j+1}`})]},j))})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between px-4 pb-4",children:[i.jsxs(U,{variant:"outline",size:"sm",onClick:g,disabled:a===0,className:"bg-transparent",children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Pgina Anterior"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[a+1,"/",f]}),i.jsxs(U,{variant:"outline",size:"sm",onClick:b,disabled:a===f-1,className:"bg-transparent",children:["Prxima Pgina",i.jsx(kr,{className:"ml-2 h-4 w-4"})]})]})]})]}):i.jsx(F,{className:"border shadow-lg",children:i.jsx(Z,{className:"flex min-h-[400px] flex-col items-center justify-center p-12 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Este livro ainda no tem pginas."})})})}),i.jsx("div",{className:"hidden w-80 lg:block",children:i.jsx(F,{className:"sticky top-6 border shadow-lg",children:i.jsxs(Z,{className:"p-4",children:[i.jsx("h3",{className:"mb-6 text-lg font-semibold",style:{color:"#262626"},children:"Informaes do Livro"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Ttulo"}),i.jsx("p",{className:"text-base font-semibold",children:l.title})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Tema"}),i.jsx("p",{className:"text-base",children:l.theme})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Pblico-Alvo"}),i.jsx("p",{className:"text-base",children:l.audience})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Linguagem"}),i.jsx("p",{className:"text-base capitalize",children:l.language})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Total de Pginas"}),i.jsxs("p",{className:"text-base",children:[f," pginas"]})]})]}),i.jsxs("div",{className:"mt-6 space-y-2 border-t pt-4",children:[i.jsx(U,{variant:"outline",className:"w-full bg-transparent",onClick:()=>t("/criar-livro"),children:"Criar Outro Livro"}),i.jsx(U,{variant:"outline",className:"w-full bg-transparent",onClick:()=>t("/meus-livros"),children:"Ver Meus Livros"})]})]})})})]})]})}var Lh="Switch",[T2]=Br(Lh),[R2,A2]=T2(Lh),Xx=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=v.useState(null),w=Ie(t,x=>f(x)),y=v.useRef(!1),b=p?d||!!p.closest("form"):!0,[g=!1,m]=Zs({prop:s,defaultProp:a,onChange:u});return i.jsxs(R2,{scope:r,checked:g,disabled:l,children:[i.jsx(ne.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":tw(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:de(e.onClick,x=>{m(_=>!_),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&i.jsx(P2,{control:p,bubbles:!y.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Xx.displayName=Lh;var Zx="SwitchThumb",ew=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=A2(Zx,r);return i.jsx(ne.span,{"data-state":tw(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});ew.displayName=Zx;var P2=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),o=C0(r),l=v0(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&h){const p=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(p)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tw(e){return e?"checked":"unchecked"}var rw=Xx,I2=ew;const br=v.forwardRef(({className:e,...t},r)=>i.jsx(rw,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(I2,{className:"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})}));br.displayName=rw.displayName;var O2="Separator",bm="horizontal",D2=["horizontal","vertical"],nw=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=bm,...s}=e,a=L2(n)?n:bm,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(ne.div,{"data-orientation":a,...l,...s,ref:t})});nw.displayName=O2;function L2(e){return D2.includes(e)}var sw=nw;const Kr=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(sw,{ref:s,decorative:r,orientation:t,className:W("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Kr.displayName=sw.displayName;var Mh="Avatar",[M2]=Br(Mh),[$2,aw]=M2(Mh),ow=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=v.useState("idle");return i.jsx($2,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(ne.span,{...n,ref:t})})});ow.displayName=Mh;var iw="AvatarImage",lw=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=aw(iw,r),l=B2(n,a.referrerPolicy),c=rr(u=>{s(u),o.onImageLoadingStatusChange(u)});return Xe(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ne.img,{...a,ref:t,src:n}):null});lw.displayName=iw;var cw="AvatarFallback",uw=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=aw(cw,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(ne.span,{...s,ref:t}):null});uw.displayName=cw;function B2(e,t){const[r,n]=v.useState("idle");return Xe(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var dw=ow,hw=lw,fw=uw;const $h=v.forwardRef(({className:e,...t},r)=>i.jsx(dw,{ref:r,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$h.displayName=dw.displayName;const U2=v.forwardRef(({className:e,...t},r)=>i.jsx(hw,{ref:r,className:W("aspect-square h-full w-full",e),...t}));U2.displayName=hw.displayName;const Bh=v.forwardRef(({className:e,...t},r)=>i.jsx(fw,{ref:r,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Bh.displayName=fw.displayName;function F2(){var x,_,S,E;const{user:e,signOut:t}=$r(),[r,n]=v.useState({fullName:((x=e==null?void 0:e.user_metadata)==null?void 0:x.full_name)||"",email:(e==null?void 0:e.email)||"",bio:"",location:"",website:""}),[s,a]=v.useState({theme:"light",language:"pt-BR",aiModel:"gpt-4",defaultAudience:"children",defaultLanguageStyle:"infantil"}),[o,l]=v.useState({emailNewFeatures:!0,emailBookComplete:!0,emailWeeklyReport:!1,pushBookComplete:!0,pushComments:!1}),[c,u]=v.useState({publicProfile:!0,showEmail:!1,allowSearchEngines:!0}),[d,h]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),p=()=>{X.success("Perfil atualizado com sucesso!")},f=()=>{X.success("Preferncias salvas com sucesso!")},w=()=>{X.success("Configuraes de notificaes atualizadas!")},y=()=>{X.success("Configuraes de privacidade atualizadas!")},b=()=>{if(d.newPassword!==d.confirmPassword){X.error("As senhas no coincidem");return}if(d.newPassword.length<6){X.error("A senha deve ter no mnimo 6 caracteres");return}X.success("Senha alterada com sucesso!"),h({currentPassword:"",newPassword:"",confirmPassword:""})},g=()=>{window.confirm("Tem certeza que deseja excluir sua conta? Esta ao no pode ser desfeita.")&&(X.error("Conta excluda com sucesso"),t())},m=((_=r.fullName)==null?void 0:_[0])||((E=(S=e==null?void 0:e.email)==null?void 0:S[0])==null?void 0:E.toUpperCase())||"U";return i.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"mb-2 text-3xl font-bold",style:{color:"#262626"},children:"Configuraes"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas preferncias e informaes da conta"})]}),i.jsxs(lh,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(_l,{className:"grid w-full grid-cols-6",children:[i.jsx(ut,{value:"profile",children:"Perfil"}),i.jsx(ut,{value:"preferences",children:"Preferncias"}),i.jsx(ut,{value:"notifications",children:"Notificaes"}),i.jsx(ut,{value:"privacy",children:"Privacidade"}),i.jsx(ut,{value:"subscription",children:"Assinatura"}),i.jsx(ut,{value:"security",children:"Segurana"})]}),i.jsx(dt,{value:"profile",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Informaes do Perfil"}),i.jsx(ue,{children:"Atualize suas informaes pessoais e foto de perfil"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx($h,{className:"h-24 w-24 border-4 border-blue-100",children:i.jsx(Bh,{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-2xl text-white",children:m})}),i.jsxs("div",{children:[i.jsxs(U,{variant:"outline",size:"sm",className:"bg-transparent",children:[i.jsx(ch,{className:"mr-2 h-4 w-4"}),"Alterar Foto"]}),i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"PNG, JPG ou GIF at 5MB"})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"fullName",children:"Nome Completo"}),i.jsx(be,{id:"fullName",value:r.fullName,onChange:j=>n({...r,fullName:j.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"email",children:"Email"}),i.jsx(be,{id:"email",type:"email",value:r.email,disabled:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"bio",children:"Biografia"}),i.jsx(Ch,{id:"bio",placeholder:"Conte um pouco sobre voc...",value:r.bio,onChange:j=>n({...r,bio:j.target.value}),className:"resize-none",rows:4})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ce,{htmlFor:"location",children:[i.jsx(Lk,{className:"mr-2 inline h-4 w-4"}),"Localizao"]}),i.jsx(be,{id:"location",placeholder:"So Paulo, Brasil",value:r.location,onChange:j=>n({...r,location:j.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ce,{htmlFor:"website",children:[i.jsx(Tk,{className:"mr-2 inline h-4 w-4"}),"Website"]}),i.jsx(be,{id:"website",placeholder:"https://seusite.com",value:r.website,onChange:j=>n({...r,website:j.target.value})})]})]}),i.jsx(U,{onClick:p,children:"Salvar Alteraes"})]})]})}),i.jsx(dt,{value:"preferences",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Preferncias"}),i.jsx(ue,{children:"Configure suas preferncias de interface e IA"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Aparncia"}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Tema"}),i.jsxs(Qt,{value:s.theme,onValueChange:j=>a({...s,theme:j}),children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsxs(It,{children:[i.jsx(ae,{value:"light",children:"Claro"}),i.jsx(ae,{value:"dark",children:"Escuro"}),i.jsx(ae,{value:"system",children:"Sistema"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Idioma"}),i.jsxs(Qt,{value:s.language,onValueChange:j=>a({...s,language:j}),children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsxs(It,{children:[i.jsx(ae,{value:"pt-BR",children:"Portugus (BR)"}),i.jsx(ae,{value:"en",children:"English"}),i.jsx(ae,{value:"es",children:"Espaol"})]})]})]})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Configuraes de IA"}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Modelo de IA Preferido"}),i.jsxs(Qt,{value:s.aiModel,onValueChange:j=>a({...s,aiModel:j}),children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsxs(It,{children:[i.jsx(ae,{value:"gpt-4",children:"GPT-4 (Mais criativo)"}),i.jsx(ae,{value:"gpt-3.5",children:"GPT-3.5 (Mais rpido)"}),i.jsx(ae,{value:"claude",children:"Claude (Balanceado)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Pblico-Alvo Padro"}),i.jsxs(Qt,{value:s.defaultAudience,onValueChange:j=>a({...s,defaultAudience:j}),children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsxs(It,{children:[i.jsx(ae,{value:"children",children:"Crianas"}),i.jsx(ae,{value:"teens",children:"Adolescentes"}),i.jsx(ae,{value:"adults",children:"Adultos"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Linguagem Padro"}),i.jsxs(Qt,{value:s.defaultLanguageStyle,onValueChange:j=>a({...s,defaultLanguageStyle:j}),children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsxs(It,{children:[i.jsx(ae,{value:"infantil",children:"Infantil"}),i.jsx(ae,{value:"direto",children:"Direto"}),i.jsx(ae,{value:"educativo",children:"Educativo"}),i.jsx(ae,{value:"poetico",children:"Potico"}),i.jsx(ae,{value:"formal",children:"Formal"}),i.jsx(ae,{value:"casual",children:"Casual"})]})]})]})]}),i.jsx(U,{onClick:f,children:"Salvar Preferncias"})]})]})}),i.jsx(dt,{value:"notifications",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Notificaes"}),i.jsx(ue,{children:"Gerencie como voc recebe atualizaes"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Notificaes por Email"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Novos Recursos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba emails sobre novos recursos e atualizaes"})]}),i.jsx(br,{checked:o.emailNewFeatures,onCheckedChange:j=>l({...o,emailNewFeatures:j})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Livro Concludo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificao quando seu livro for gerado"})]}),i.jsx(br,{checked:o.emailBookComplete,onCheckedChange:j=>l({...o,emailBookComplete:j})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Relatrio Semanal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo semanal de suas atividades"})]}),i.jsx(br,{checked:o.emailWeeklyReport,onCheckedChange:j=>l({...o,emailWeeklyReport:j})})]})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Notificaes Push"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Livro Concludo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificao push quando seu livro estiver pronto"})]}),i.jsx(br,{checked:o.pushBookComplete,onCheckedChange:j=>l({...o,pushBookComplete:j})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Comentrios"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando algum comentar em seus livros"})]}),i.jsx(br,{checked:o.pushComments,onCheckedChange:j=>l({...o,pushComments:j})})]})]})]}),i.jsx(U,{onClick:w,children:"Salvar Configuraes"})]})]})}),i.jsx(dt,{value:"privacy",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Privacidade"}),i.jsx(ue,{children:"Controle quem pode ver suas informaes"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Perfil Pblico"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que outros usurios vejam seu perfil"})]}),i.jsx(br,{checked:c.publicProfile,onCheckedChange:j=>u({...c,publicProfile:j})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Mostrar Email"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Exibir seu email no perfil pblico"})]}),i.jsx(br,{checked:c.showEmail,onCheckedChange:j=>u({...c,showEmail:j})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Indexao em Motores de Busca"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que motores de busca indexem seu perfil"})]}),i.jsx(br,{checked:c.allowSearchEngines,onCheckedChange:j=>u({...c,allowSearchEngines:j})})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[i.jsx("p",{className:"mb-2 font-medium text-blue-900",children:"Gerenciar Dados Pessoais (LGPD)"}),i.jsx("p",{className:"mb-4 text-sm text-blue-700",children:"Voc tem o direito de acessar, corrigir ou excluir seus dados pessoais a qualquer momento."}),i.jsx(U,{variant:"outline",size:"sm",className:"bg-transparent",children:"Baixar Meus Dados"})]}),i.jsx(U,{onClick:y,children:"Salvar Configuraes"})]})]})}),i.jsx(dt,{value:"subscription",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Assinatura e Uso"}),i.jsx(ue,{children:"Gerencie seu plano e veja seu uso"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsx("div",{className:"rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 p-6",children:i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-blue-900",children:"Plano Gratuito"}),i.jsx("p",{className:"text-blue-700",children:"Recursos bsicos includos"})]}),i.jsx(U,{children:"Fazer Upgrade"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Uso do Ms Atual"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2 flex justify-between text-sm",children:[i.jsx("span",{children:"Livros Criados"}),i.jsx("span",{className:"font-medium",children:"12 / 50"})]}),i.jsx(Kn,{value:24})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2 flex justify-between text-sm",children:[i.jsx("span",{children:"Geraes de IA"}),i.jsx("span",{className:"font-medium",children:"89 / 200"})]}),i.jsx(Kn,{value:44.5})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2 flex justify-between text-sm",children:[i.jsx("span",{children:"Pginas Geradas"}),i.jsx("span",{className:"font-medium",children:"324 / 1000"})]}),i.jsx(Kn,{value:32.4})]})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Planos Disponveis"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(F,{className:"border-2",children:[i.jsxs(te,{children:[i.jsx(re,{className:"text-lg",children:"Gratuito"}),i.jsxs(ue,{children:[i.jsx("span",{className:"text-2xl font-bold text-primary",children:"R$ 0"}),i.jsx("span",{className:"text-muted-foreground",children:"/ms"})]})]}),i.jsxs(Z,{className:"space-y-2 text-sm",children:[i.jsx("p",{children:" 50 livros/ms"}),i.jsx("p",{children:" 200 geraes IA/ms"}),i.jsx("p",{children:" Suporte por email"})]})]}),i.jsxs(F,{className:"border-2 border-blue-600",children:[i.jsxs(te,{children:[i.jsx("div",{className:"mb-2 inline-block rounded-full bg-blue-600 px-2 py-1 text-xs text-white",children:"Popular"}),i.jsx(re,{className:"text-lg",children:"Criador"}),i.jsxs(ue,{children:[i.jsx("span",{className:"text-2xl font-bold text-primary",children:"R$ 19,90"}),i.jsx("span",{className:"text-muted-foreground",children:"/ms"})]})]}),i.jsxs(Z,{className:"space-y-2 text-sm",children:[i.jsx("p",{children:" 200 livros/ms"}),i.jsx("p",{children:" 1000 geraes IA/ms"}),i.jsx("p",{children:" Suporte prioritrio"}),i.jsx("p",{children:" Sem marca d'gua"})]})]}),i.jsxs(F,{className:"border-2",children:[i.jsxs(te,{children:[i.jsx(re,{className:"text-lg",children:"Profissional"}),i.jsxs(ue,{children:[i.jsx("span",{className:"text-2xl font-bold text-primary",children:"R$ 49,90"}),i.jsx("span",{className:"text-muted-foreground",children:"/ms"})]})]}),i.jsxs(Z,{className:"space-y-2 text-sm",children:[i.jsx("p",{children:" Livros ilimitados"}),i.jsx("p",{children:" IA ilimitada"}),i.jsx("p",{children:" Suporte 24/7"}),i.jsx("p",{children:" API access"})]})]})]})]})]})]})}),i.jsx(dt,{value:"security",children:i.jsxs(F,{className:"border-0 shadow-md",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Segurana"}),i.jsx(ue,{children:"Gerencie sua senha e sesses ativas"})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Alterar Senha"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"current-password",children:"Senha Atual"}),i.jsx(be,{id:"current-password",type:"password",value:d.currentPassword,onChange:j=>h({...d,currentPassword:j.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"new-password",children:"Nova Senha"}),i.jsx(be,{id:"new-password",type:"password",value:d.newPassword,onChange:j=>h({...d,newPassword:j.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),i.jsx(be,{id:"confirm-password",type:"password",value:d.confirmPassword,onChange:j=>h({...d,confirmPassword:j.target.value})})]}),i.jsx(U,{onClick:b,children:"Alterar Senha"})]})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Sesses Ativas"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Mk,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Chrome - Windows"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"So Paulo, Brasil  Ativo agora"})]})]}),i.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Atual"})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fk,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Safari - iPhone"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"So Paulo, Brasil  H 2 horas"})]})]}),i.jsx(U,{variant:"ghost",size:"sm",children:"Revogar"})]})]}),i.jsx(U,{variant:"outline",className:"bg-transparent",children:"Encerrar Todas as Outras Sesses"})]}),i.jsx(Kr,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-red-600",children:"Zona de Perigo"}),i.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[i.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[i.jsx(Yy,{className:"h-5 w-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-900",children:"Excluir Conta"}),i.jsx("p",{className:"text-sm text-red-700",children:"Esta ao  permanente e no pode ser desfeita. Todos os seus livros e dados sero perdidos."})]})]}),i.jsx(U,{variant:"destructive",onClick:g,children:"Excluir Minha Conta"})]})]})]})]})})]})]})})}const _m="gpt-4.1-mini",Sm=.4,jm=.5,Em=.6,Tt={imagePromptsSystem:["Voce e um especialista em prompts para ilustracoes digitais modernas.","Retorne APENAS JSON valido, sem markdown e sem explicacoes.","Os prompts devem estar em ingles.","Gere tres chaves: prompt_personagem, prompt_estilo_imagem e ficha_personagem.","prompt_personagem: apenas o personagem principal, identidade visual e traos fisicos, sem cenario.","prompt_estilo_imagem: apenas o estilo visual (tecnica, paleta, luz, atmosfera), sem personagem.","ficha_personagem: um character bible detalhado com TODOS os personagens principais da historia, incluindo identidade visual, roupas iniciais, cores, acessorios e detalhes fisicos consistentes para cada um.","Sempre preserve a identidade do rosto com base na imagem de referencia.","Evite estilo infantil, chibi ou proporcoes de bebe.","Busque um visual animado, estilizado e com toque futurista discreto quando fizer sentido.","Inclua diretrizes de consistencia visual (paleta, textura e iluminacao)."].join(" "),imagePromptsUser:["Historia base:","{{HISTORIA}}","","Personagens e papeis:","{{REFERENCIAS_SUMMARY}}","","Estilo desejado: {{ESTILO_IMAGEM}}","","IMPORTANTE: Se o estilo for 'Ilustrao Digital' ou 'Ilustracao Digital', o prompt_estilo_imagem deve especificar um estilo mais realista e fotogrfico, similar a uma foto profissional, no um desenho animado ou ilustrao estilizada.","","Formato de resposta obrigatorio:","{",'  "prompt_personagem": "..."','  "prompt_estilo_imagem": "..."','  "ficha_personagem": "..."',"}"].join(`
`),storyCartoonSystem:["Crie uma historia infantil curta seguindo as regras abaixo.","Nao inclua titulo.","A historia deve ter 3 paginas, maximo 400 caracteres por pagina.","Linguagem simples, acolhedora e educativa em PT-BR.","Use os personagens fornecidos e seus papeis.","A descricao da imagem deve estar em ingles.","Retorne APENAS JSON valido."].join(" "),storyCartoonUser:["Personagens e papeis:","{{REFERENCIAS_SUMMARY}}","","Estilo da historia: {{LINGUAGEM}}. Texto final obrigatoriamente em PT-BR.","Estilo da imagem: {{ESTILO_IMAGEM}}","","Se houver troca de roupa, isso deve estar EXPLICITO no texto e na descricao da imagem.","Regras para o campo imagem:","- Cartoon-style illustration with clean lines, balanced lighting.","- {{CHARACTER_IDENTITY_RULE}}","- No animals or extra characters unless in story.","","Formato de saida OBRIGATORIO:","{",'  "pagina1": { "texto": "...", "imagem": "..." },','  "pagina2": { "texto": "...", "imagem": "..." },','  "pagina3": { "texto": "...", "imagem": "..." }',"}","","Historia base:","{{HISTORIA}}"].join(`
`),storyWithImageBaseSystem:["Crie uma historia infantil curta seguindo as regras abaixo.","Nao inclua titulo.","A historia deve ter 3 paginas, maximo 400 caracteres por pagina.","Linguagem simples, acolhedora e educativa em PT-BR.","Use os personagens fornecidos e seus papeis.","A descricao da imagem deve estar em ingles.","IMPORTANTE: Cada pagina deve ter uma acao ou situacao diferente, com poses e movimentos variados dos personagens conectados a narrativa. Evite poses repetitivas ou genericas como 'caminhando de maos dadas' em todas as paginas.","Retorne APENAS JSON valido."].join(" "),storyWithImageBaseUser:["Personagens e papeis:","{{REFERENCIAS_SUMMARY}}","","Estilo da historia: {{LINGUAGEM}}. Texto final obrigatoriamente em PT-BR.","Estilo da imagem (use como guia):","{{PROMPT_ESTILO_IMAGEM}}","{{FICHA_PERSONAGEM}}","","Se houver troca de roupa, isso deve estar EXPLICITO no texto e na descricao da imagem.","Regras para o campo imagem:","- Stylized digital illustration, animated cinematic look, dynamic lighting. (Para estilo realista use: Realistic digital illustration, photorealistic style, natural lighting.)","- {{CHARACTER_IDENTITY_RULE}}","- No animals or extra characters unless in story.","- CRITICAL: Each page must show characters in DIFFERENT, DYNAMIC poses connected to the story action. Avoid static or repetitive poses like 'walking hand-in-hand' across multiple pages. Describe specific actions, movements, gestures, and body positions that match the narrative of each page.","","Formato de saida OBRIGATORIO:","{",'  "pagina1": { "texto": "...", "imagem(em ingles)": "..." },','  "pagina2": { "texto": "...", "imagem(em ingles)": "..." },','  "pagina3": { "texto": "...", "imagem(em ingles)": "..." }',"}","","Historia base:","{{HISTORIA}}"].join(`
`),characterIdentityRule:["Preserve the exact facial identity from the reference image (face shape, eyes, nose, mouth, eyebrows, hair, skin tone).","Keep the same apparent age and proportions.","Keep hairstyle, eye color, skin tone, and facial features consistent across all pages.","Maintain the same outfit, color palette, and signature accessories in every scene unless the story explicitly says the character changed clothes or context.","Full body visible in frame, no cropping.","No text, watermark, logo, or borders.","Illustration only, not photo or hyper-realism."].join(" ")},z2=[{value:"gpt-4.1-mini",label:"GPT-4.1 Mini (padro)"},{value:"gpt-4o-mini",label:"GPT-4o Mini"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"}];function W2(e){return{...Tt,...e&&typeof e=="object"?e:{}}}const Zu={HISTORIA:"Substitudo pela histria base escrita pelo usurio.",REFERENCIAS_SUMMARY:"Resumo dos personagens e papis (nome e papel de cada imagem de referncia).",ESTILO_IMAGEM:"Estilo de imagem escolhido (ex: Ilustrao Digital, Cartoon).",LINGUAGEM:"Linguagem/estilo do texto (ex: infantil, direto).",CHARACTER_IDENTITY_RULE:"Texto da regra de identidade do personagem, definido na aba Regras de Personagem.",PROMPT_ESTILO_IMAGEM:"Prompt de estilo visual gerado pelo GPT na etapa de Prompts de Imagem.",FICHA_PERSONAGEM:"Ficha de personagem (character bible) gerada pelo GPT na etapa de Prompts de Imagem."},V2="inline-flex items-center rounded bg-[#6D56AB]/20 px-1 py-0.5 font-mono text-xs font-medium text-[#4a3b75] dark:bg-[#6D56AB]/30 dark:text-[#9982fc] transition-colors hover:bg-[#6D56AB]/35 hover:text-[#3d2d6b] dark:hover:bg-[#6D56AB]/40 dark:hover:text-[#b8a8f0] cursor-help";function ja({text:e,tagClassName:t}){const r=e.split(/(\{\{[^}]+\}\})/g),n=t??V2;return i.jsx(i.Fragment,{children:r.map((s,a)=>{const o=s.match(/^\{\{([^}]+)\}\}$/);if(o){const l=o[1],c=Zu[l]??"Substitudo pelo sistema ao gerar o contedo.";return i.jsx("span",{className:n,title:c,children:s},a)}return i.jsx("span",{children:s},a)})})}const Nm="inline-flex items-center rounded bg-[#6D56AB]/20 px-1 py-0.5 font-mono text-sm font-medium text-[#4a3b75] dark:bg-[#6D56AB]/30 dark:text-[#9982fc] pointer-events-auto cursor-text transition-colors hover:bg-[#6D56AB]/35 hover:text-[#3d2d6b] dark:hover:bg-[#6D56AB]/40 dark:hover:text-[#b8a8f0]";function xr(e){const{value:t,onChange:r,className:n="",...s}=e,a=v.useRef(null),o=v.useRef(null),l=v.useRef(null),c=()=>{a.current&&(o.current&&(o.current.scrollTop=a.current.scrollTop,o.current.scrollLeft=a.current.scrollLeft),l.current&&(l.current.scrollTop=a.current.scrollTop,l.current.scrollLeft=a.current.scrollLeft))},u=g=>{const m=a.current;m&&(m.focus(),m.setSelectionRange(g,g))},d=(()=>{if(!t)return i.jsx("span",{className:"text-muted-foreground",children:" "});const g=t.split(/(\{\{[^}]+\}\})/g);let m=0;return i.jsx(i.Fragment,{children:g.map((x,_)=>{const S=x.match(/^\{\{([^}]+)\}\}$/);if(S){const E=S[1],j=Zu[E]??"Substitudo pelo sistema ao gerar o contedo.",N=m;return m+=x.length,i.jsx("span",{className:Nm,title:j,onMouseDown:k=>{k.preventDefault(),u(N)},children:x},_)}return m+=x.length,i.jsx("span",{className:"pointer-events-none",children:x},_)})})})(),h=(()=>{if(!t)return i.jsx("span",{className:"invisible",children:" "});const g=t.split(/(\{\{[^}]+\}\})/g);let m=0;return i.jsx(i.Fragment,{children:g.map((x,_)=>{const S=x.match(/^\{\{([^}]+)\}\}$/);if(S){const E=S[1],j=Zu[E]??"Substitudo pelo sistema ao gerar o contedo.",N=m;return m+=x.length,i.jsx("span",{className:`${Nm} cursor-help`,title:j,onMouseDown:k=>{k.preventDefault(),u(N)},children:x},_)}return m+=x.length,i.jsx("span",{className:"pointer-events-none text-transparent select-none",children:x},_)})})})(),p="rounded-md px-3 py-2 text-sm font-mono overflow-auto w-full",f=`${p} bg-background text-foreground whitespace-pre-wrap border-transparent absolute inset-0 [&>*]:pointer-events-none`,w=`${p} whitespace-pre-wrap border-transparent absolute inset-0 cursor-text [&>*]:pointer-events-none [&_span[title]]:pointer-events-auto`,y=`${p} bg-transparent absolute inset-0 text-transparent caret-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 placeholder:!text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 resize-none border-0 [&::placeholder]:opacity-100`,b=g=>{var x;g.target.hasAttribute("title")||(x=a.current)==null||x.focus()};return i.jsxs("div",{className:`relative w-full border border-input rounded-md overflow-hidden ${n}`.trim(),children:[i.jsx("div",{ref:o,className:f,"aria-hidden":!0,children:i.jsx("span",{className:"inline-block min-h-full w-full align-top",children:d})}),i.jsx("textarea",{ref:a,className:y,value:t,onChange:r,onScroll:c,spellCheck:!1,...s}),i.jsx("div",{ref:l,className:w,"aria-hidden":!0,onMouseDown:b,children:i.jsx("span",{className:"inline-block min-h-full w-full align-top",children:h})})]})}const H2={user:"border-blue-300 bg-blue-50 dark:bg-blue-950/30",gpt:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/30",fal:"border-amber-400 bg-amber-50 dark:bg-amber-950/30",database:"border-violet-300 bg-violet-50 dark:bg-violet-950/30",external:"border-slate-300 bg-slate-100 dark:bg-slate-800/50",code:"border-cyan-300 bg-cyan-50 dark:bg-cyan-950/30",success:"border-green-400 bg-green-50 dark:bg-green-950/30"};function wr({icon:e,title:t,subtitle:r,variant:n}){return i.jsxs("div",{className:`flex items-start gap-3 rounded-xl border-2 px-4 py-3 shadow-sm min-w-[280px] max-w-md ${H2[n]}`,children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-white/80 dark:bg-black/20",children:i.jsx(e,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"min-w-0 pt-0.5",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r})]})]})}function Wt(){return i.jsxs("div",{className:"flex flex-col items-center py-1",children:[i.jsx("div",{className:"h-4 w-px bg-[#6D56AB]/50"}),i.jsx(sn,{className:"h-4 w-4 text-[#6D56AB]/60"})]})}function q2(){const[e,t]=v.useState(!0),[r,n]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState(_m),[c,u]=v.useState(Sm),[d,h]=v.useState(jm),[p,f]=v.useState(Em),[w,y]=v.useState(Tt),[b,g]=v.useState({}),m=S=>{g(E=>({...E,[S]:!E[S]}))};v.useEffect(()=>{(async()=>{const{data:{session:E}}=await xe.auth.getSession();if(!(E!=null&&E.user)){a("Faa login para carregar suas configuraes."),t(!1);return}const{data:j,error:N}=await xe.from("profiles").select("ai_model, ai_temperature_default, ai_temperature_image_prompts, ai_temperature_story, ai_prompts").eq("id",E.user.id).single();if(N){a("Perfil no encontrado ou colunas de IA ainda no existem. Execute a migrao SQL."),t(!1);return}const k=j;k&&(l(k.ai_model??_m),u(Number(k.ai_temperature_default)??Sm),h(Number(k.ai_temperature_image_prompts)??jm),f(Number(k.ai_temperature_story)??Em),y(W2(k.ai_prompts))),a(null),t(!1)})()},[]);const x=async()=>{const{data:{session:S}}=await xe.auth.getSession();if(!(S!=null&&S.user)){X.error("Faa login para salvar.");return}n(!0);const E={...Tt,...w},{error:j}=await xe.from("profiles").update({ai_model:o,ai_temperature_default:c,ai_temperature_image_prompts:d,ai_temperature_story:p,ai_prompts:E,updated_at:new Date().toISOString()}).eq("id",S.user.id);if(n(!1),j){X.error(j.message||"Erro ao salvar.");return}X.success("Configuraes de Gerao IA salvas!")},_=(S,E)=>{y(j=>({...j,[S]:E}))};return e?i.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:i.jsx(Vp,{className:"h-8 w-8 animate-spin text-[#6D56AB]"})}):i.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-[#6D56AB]/5",children:i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-[#6D56AB] to-[#4a3b75] text-white shadow-sm",children:i.jsx(Qy,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"mb-2 text-3xl font-bold",style:{color:"#262626"},children:"Gerao IA"}),i.jsx("p",{className:"text-muted-foreground",children:"Modelo, temperatura e prompts usados na criao dos livros"})]})]}),s&&i.jsxs("div",{className:"mb-6 flex items-center gap-2 rounded-lg border border-amber-200 bg-amber-50 p-4 text-amber-800",children:[i.jsx(kk,{className:"h-5 w-5 shrink-0"}),i.jsx("p",{children:s})]}),i.jsxs(lh,{defaultValue:"geral",className:"space-y-6",children:[i.jsxs(_l,{className:"grid w-full grid-cols-2 lg:grid-cols-5 h-auto p-1 bg-white border rounded-lg",children:[i.jsx(ut,{value:"geral",children:"Modelo e Temperatura"}),i.jsx(ut,{value:"prompts-imagem",children:"Prompts de Imagem"}),i.jsx(ut,{value:"prompts-historia",children:"Prompts de Histria"}),i.jsx(ut,{value:"regras",children:"Regras de Personagem"}),i.jsx(ut,{value:"fluxo",children:"Fluxo de Gerao"})]}),i.jsxs(dt,{value:"geral",className:"space-y-6",children:[i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Modelo OpenAI"}),i.jsx(ue,{children:"Modelo usado para gerao de texto (histrias e prompts de imagem)."})]}),i.jsx(Z,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Modelo"}),i.jsxs(Qt,{value:o,onValueChange:l,children:[i.jsx(Pt,{children:i.jsx(Xt,{})}),i.jsx(It,{children:z2.map(S=>i.jsx(ae,{value:S.value,children:S.label},S.value))})]})]})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Temperatura"}),i.jsx(ue,{children:"Valores mais altos deixam a IA mais criativa; mais baixos deixam mais previsvel. Recomendado: 0,40,6."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Temperatura padro"}),i.jsx(be,{type:"number",min:0,max:2,step:.1,value:c,onChange:S=>u(Number(S.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Prompts de imagem"}),i.jsx(be,{type:"number",min:0,max:2,step:.1,value:d,onChange:S=>h(Number(S.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ce,{children:"Histria (cartoon / com base)"}),i.jsx(be,{type:"number",min:0,max:2,step:.1,value:p,onChange:S=>f(Number(S.target.value)||0)})]})]})]})]}),i.jsxs(dt,{value:"prompts-imagem",className:"space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-[#6D56AB]/30 pb-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-[#6D56AB]/20 to-[#4a3b75]/20 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-semibold text-[#4a3b75]",children:"1"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ilustrao Digital"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Usado quando o estilo da imagem  "Ilustrao Digital". Gera prompt_personagem, prompt_estilo_imagem e ficha_personagem que depois so usados na gerao de cada cena.'}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(re,{className:"text-base",children:"System (Ilustrao Digital)"}),i.jsxs(U,{type:"button",variant:"ghost",size:"sm",className:"text-[#6D56AB] hover:text-[#4a3b75] hover:bg-[#6D56AB]/10",onClick:()=>m("imageSystem"),children:[b.imageSystem?"Menos detalhes":"Mais detalhes",b.imageSystem?i.jsx(sn,{className:"ml-1 h-4 w-4"}):i.jsx(kr,{className:"ml-1 h-4 w-4"})]})]}),b.imageSystem&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Qual IA usa esse prompt"}),i.jsx(ue,{className:"text-xs mt-1",children:"GPT (OpenAI). Este prompt  enviado na chamada que gera prompt_personagem, prompt_estilo_imagem e ficha_personagem."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Etapa"}),i.jsx(ue,{className:"text-xs mt-1",children:'Chamada nica  IA antes de gerar a histria  s prepara os "ingredientes" visuais.'})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Para que serve"}),i.jsx(ue,{className:"text-xs mt-1",children:"Define o papel da IA (especialista em prompts) e exige que a resposta seja um JSON com trs chaves: prompt_personagem, prompt_estilo_imagem e ficha_personagem. No contm a histria nem as referncias; isso vai na mensagem do usurio."})]})})]})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[160px] font-mono text-sm",value:w.imagePromptsSystem??"",onChange:S=>_("imagePromptsSystem",S.target.value),placeholder:Tt.imagePromptsSystem})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(re,{className:"text-base",children:"Mensagem do usurio (Ilustrao Digital)"}),i.jsxs(U,{type:"button",variant:"ghost",size:"sm",className:"text-[#6D56AB] hover:text-[#4a3b75] hover:bg-[#6D56AB]/10",onClick:()=>m("imageUser"),children:[b.imageUser?"Menos detalhes":"Mais detalhes",b.imageUser?i.jsx(sn,{className:"ml-1 h-4 w-4"}):i.jsx(kr,{className:"ml-1 h-4 w-4"})]})]}),b.imageUser&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Qual IA usa esse prompt"}),i.jsx(ue,{className:"text-xs mt-1",children:"GPT (OpenAI). Enviado junto com o System na mesma chamada para gerar os prompts e a ficha de personagem."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Etapa"}),i.jsx(ue,{className:"text-xs mt-1",children:"Entrada de contexto daquela criao (histria, personagens, estilo) para a IA preencher o JSON."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Para que serve"}),i.jsx(ue,{className:"text-xs mt-1",children:i.jsx(ja,{text:"Envia  IA a histria base, o resumo dos personagens e papis e o estilo desejado, para ela gerar o prompt do personagem, o prompt de estilo e a ficha de personagem usados depois em cada cena. Placeholders: {{HISTORIA}}, {{REFERENCIAS_SUMMARY}}, {{ESTILO_IMAGEM}}."})})]})})]})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[200px] font-mono text-sm",value:w.imagePromptsUser??"",onChange:S=>_("imagePromptsUser",S.target.value),placeholder:Tt.imagePromptsUser})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-[#6D56AB]/30 pb-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-[#6D56AB]/20 to-[#4a3b75]/20 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-semibold text-[#4a3b75]",children:"2"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cartoon"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Usado quando o estilo da imagem  "Cartoon". Esses prompts geram a histria e as descries de cada cena j no estilo cartoon (linhas limpas, iluminao equilibrada).'}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(re,{className:"text-base",children:"System (Cartoon)"}),i.jsxs(U,{type:"button",variant:"ghost",size:"sm",className:"text-[#6D56AB] hover:text-[#4a3b75] hover:bg-[#6D56AB]/10",onClick:()=>m("cartoonSystem"),children:[b.cartoonSystem?"Menos detalhes":"Mais detalhes",b.cartoonSystem?i.jsx(sn,{className:"ml-1 h-4 w-4"}):i.jsx(kr,{className:"ml-1 h-4 w-4"})]})]}),b.cartoonSystem&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Qual IA usa esse prompt"}),i.jsx(ue,{className:"text-xs mt-1",children:"GPT (OpenAI). Usado na gerao da histria e das descries de imagem quando o estilo  Cartoon."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Etapa"}),i.jsx(ue,{className:"text-xs mt-1",children:"Primeira chamada  IA neste fluxo  define as regras da histria e do estilo visual antes de receber o contexto."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Para que serve"}),i.jsx(ue,{className:"text-xs mt-1",children:'Define que a IA deve criar uma histria infantil em 3 pginas, em PT-BR, com descrio da imagem em ingls e sada em JSON. Estabelece o "persona" e o formato, sem ainda incluir personagens nem histria; isso vai na mensagem do usurio.'})]})})]})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[140px] font-mono text-sm",value:w.storyCartoonSystem??"",onChange:S=>_("storyCartoonSystem",S.target.value),placeholder:Tt.storyCartoonSystem})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(re,{className:"text-base",children:"Mensagem do usurio (Cartoon)"}),i.jsxs(U,{type:"button",variant:"ghost",size:"sm",className:"text-[#6D56AB] hover:text-[#4a3b75] hover:bg-[#6D56AB]/10",onClick:()=>m("cartoonUser"),children:[b.cartoonUser?"Menos detalhes":"Mais detalhes",b.cartoonUser?i.jsx(sn,{className:"ml-1 h-4 w-4"}):i.jsx(kr,{className:"ml-1 h-4 w-4"})]})]}),b.cartoonUser&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Qual IA usa esse prompt"}),i.jsx(ue,{className:"text-xs mt-1",children:"GPT (OpenAI). Enviado junto com o System (Cartoon) na mesma chamada para gerar histria e descries de cena."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Etapa"}),i.jsx(ue,{className:"text-xs mt-1",children:"Entrada de contexto para a IA gerar a histria e as descries de cada cena no estilo cartoon."})]})}),i.jsx(F,{className:"border border-[#6D56AB]/20 bg-[#6D56AB]/5",children:i.jsxs(te,{className:"py-3 px-4",children:[i.jsx(re,{className:"text-sm font-semibold text-[#4a3b75]",children:"Para que serve"}),i.jsx(ue,{className:"text-xs mt-1",children:i.jsx(ja,{text:"Envia personagens e papis, linguagem, estilo da imagem (cartoon), regras de identidade do personagem e a histria base, para a IA devolver o JSON com o texto de cada pgina e a descrio da ilustrao (em ingls, estilo cartoon). Placeholders: {{REFERENCIAS_SUMMARY}}, {{LINGUAGEM}}, {{ESTILO_IMAGEM}}, {{CHARACTER_IDENTITY_RULE}}, {{HISTORIA}}."})})]})})]})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[220px] font-mono text-sm",value:w.storyCartoonUser??"",onChange:S=>_("storyCartoonUser",S.target.value),placeholder:Tt.storyCartoonUser})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-[#6D56AB]/30 pb-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-[#6D56AB]/20 to-[#4a3b75]/20 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-semibold text-[#4a3b75]",children:"3"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fal.ai (Nano Banana)"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["O Fal.ai gera cada ilustrao (uma por cena). O prompt  montado pelo sistema; a nica parte que voc edita  a ",i.jsx("strong",{children:"Regra de identidade do personagem"}),", na aba ",i.jsx("strong",{children:"Regras de Personagem"}),"."]})]})]}),i.jsxs(dt,{value:"prompts-historia",className:"space-y-6",children:[i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Histria estilo cartoon (system)"}),i.jsx(ue,{children:"Usado quando o estilo da imagem  cartoon."})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[140px] font-mono text-sm",value:w.storyCartoonSystem??"",onChange:S=>_("storyCartoonSystem",S.target.value),placeholder:Tt.storyCartoonSystem})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Histria estilo cartoon (mensagem do usurio)"}),i.jsx(ue,{children:i.jsx(ja,{text:"Placeholders: {{REFERENCIAS_SUMMARY}}, {{LINGUAGEM}}, {{ESTILO_IMAGEM}}, {{CHARACTER_IDENTITY_RULE}}, {{HISTORIA}}."})})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[220px] font-mono text-sm",value:w.storyCartoonUser??"",onChange:S=>_("storyCartoonUser",S.target.value),placeholder:Tt.storyCartoonUser})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Histria com base de imagem (system)"}),i.jsx(ue,{children:"Usado para estilos como Ilustrao digital."})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[160px] font-mono text-sm",value:w.storyWithImageBaseSystem??"",onChange:S=>_("storyWithImageBaseSystem",S.target.value),placeholder:Tt.storyWithImageBaseSystem})})]}),i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Histria com base de imagem (mensagem do usurio)"}),i.jsx(ue,{children:i.jsx(ja,{text:"Placeholders: {{REFERENCIAS_SUMMARY}}, {{LINGUAGEM}}, {{PROMPT_ESTILO_IMAGEM}}, {{FICHA_PERSONAGEM}}, {{CHARACTER_IDENTITY_RULE}}, {{HISTORIA}}."})})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[280px] font-mono text-sm",value:w.storyWithImageBaseUser??"",onChange:S=>_("storyWithImageBaseUser",S.target.value),placeholder:Tt.storyWithImageBaseUser})})]})]}),i.jsx(dt,{value:"regras",className:"space-y-6",children:i.jsxs(F,{className:"border-0 shadow-sm",children:[i.jsxs(te,{children:[i.jsx(re,{children:"Regra de identidade do personagem"}),i.jsxs(ue,{children:["Texto injetado nos prompts de imagem para manter consistncia facial e visual.",i.jsx(ja,{text:"Usado como placeholder {{CHARACTER_IDENTITY_RULE}} nos prompts de histria."})]})]}),i.jsx(Z,{children:i.jsx(xr,{className:"min-h-[160px] font-mono text-sm",value:w.characterIdentityRule??"",onChange:S=>_("characterIdentityRule",S.target.value),placeholder:Tt.characterIdentityRule})})]})}),i.jsxs(dt,{value:"fluxo",className:"space-y-0",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:'Fluxo atual de gerao de livro, do clique em "Criar Livro" at o livro finalizado. Cada n representa uma etapa; as conexes mostram a ordem de execuo.'}),i.jsx("div",{className:"relative rounded-xl border-2 border-[#6D56AB]/20 bg-[#fafafa] dark:bg-gray-900/50 p-8 min-h-[600px]",style:{backgroundImage:"radial-gradient(circle, #6D56AB 1px, transparent 1px)",backgroundSize:"20px 20px"},children:i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-0",children:[i.jsx(wr,{icon:$k,title:"Usurio clica em Criar Livro",subtitle:"Preenche ttulo, histria, referncias, estilo (Ilustrao Digital ou Cartoon)",variant:"user"}),i.jsx(Wt,{}),i.jsx(wr,{icon:ch,title:"Upload da imagem base",subtitle:"ImgBB  imagem de referncia principal",variant:"external"}),i.jsx(Wt,{}),i.jsx(wr,{icon:zp,title:"Criar registro do livro",subtitle:"Supabase  tabela books (status: Em Criao)",variant:"database"}),i.jsx(Wt,{}),i.jsxs("div",{className:"flex flex-col items-center w-full max-w-md",children:[i.jsxs("div",{className:"rounded-lg border-2 border-amber-500/60 bg-amber-50 dark:bg-amber-950/30 px-4 py-3 text-center shadow-sm",children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-amber-800 dark:text-amber-200",children:"Deciso"}),i.jsx("p",{className:"text-sm font-medium",children:"Estilo = Ilustrao Digital?"})]}),i.jsxs("div",{className:"flex gap-8 mt-4 w-full justify-center flex-wrap",children:[i.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-[200px]",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Sim"}),i.jsx(Wt,{}),i.jsx(wr,{icon:Fp,title:"GPT: Prompts de Imagem",subtitle:"System + User  prompt_personagem, prompt_estilo_imagem, ficha_personagem",variant:"gpt"})]}),i.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-[200px]",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"No (Cartoon)"}),i.jsx(Wt,{}),i.jsx("div",{className:"rounded-lg border-2 border-gray-200 bg-gray-50 dark:bg-gray-800/50 px-4 py-3 text-center min-h-[72px] flex items-center justify-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Segue direto para Histria"})})]})]})]}),i.jsx(Wt,{}),i.jsx(wr,{icon:qi,title:"GPT: Histria (3 pginas)",subtitle:"Cartoon: system+user. Ilustrao: system+user com base.  JSON texto + descrio imagem por pgina",variant:"gpt"}),i.jsx(Wt,{}),i.jsx("div",{className:"rounded-lg border-2 border-[#6D56AB]/40 bg-[#6D56AB]/10 px-4 py-3 text-center",children:i.jsx("p",{className:"text-xs font-semibold uppercase text-[#4a3b75]",children:"Para cada pgina (1, 2, 3)"})}),i.jsx(Wt,{}),i.jsxs("div",{className:"flex flex-col items-center gap-0 max-w-md",children:[i.jsx(wr,{icon:Pk,title:"Montar prompt da cena",subtitle:"buildPagePrompt: descrio + personagem + estilo + ficha + regra identidade",variant:"code"}),i.jsx(Wt,{}),i.jsx(wr,{icon:Fp,title:"Fal.ai Nano Banana",subtitle:"Edit: gera a ilustrao a partir do prompt + imagem anterior",variant:"fal"}),i.jsx(Wt,{}),i.jsx(wr,{icon:zp,title:"Salvar pgina",subtitle:"Supabase  tabela pages_livro (texto + URL da imagem)",variant:"database"})]}),i.jsx(Wt,{}),i.jsx(wr,{icon:Ck,title:"Livro finalizado",subtitle:"Atualiza status do livro para Finalizado",variant:"success"})]})})]})]}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsxs(U,{onClick:x,disabled:r,className:"bg-[#6D56AB] hover:bg-[#5a4789]",children:[r?i.jsx(Vp,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Bk,{className:"h-4 w-4 mr-2"}),"Salvar configuraes"]})})]})})}const G2=[{name:"Dashboard",href:"/",icon:Ak},{name:"Livros",icon:qi,subItems:[{name:"Novo Livro",href:"/criar-livro",icon:Ky},{name:"Meus Livros",href:"/meus-livros",icon:Ik}]},{name:"Configuraes",href:"/configuracoes",icon:Uk},{name:"Gerao IA",href:"/geracao-ia",icon:Qy}];function K2(){var w,y;const[e,t]=v.useState(!1),[r,n]=v.useState(new Set(["Livros"])),[s,a]=v.useState({current:0,limit:50}),[o,l]=v.useState(!0),c=En(),{user:u,signOut:d}=$r(),h=((y=(w=u==null?void 0:u.email)==null?void 0:w[0])==null?void 0:y.toUpperCase())||"U",p=b=>{n(g=>{const m=new Set(g);return m.has(b)?m.delete(b):m.add(b),m})},f=b=>b.href?c.pathname===b.href:b.subItems?b.subItems.some(g=>c.pathname===g.href)||b.name==="Livros"&&c.pathname.startsWith("/livro"):!1;return v.useEffect(()=>{async function b(){if(!(u!=null&&u.id)){l(!1);return}try{const g=await qk(u.id);a(g)}catch(g){console.error("Erro ao carregar progresso:",g)}finally{l(!1)}}b()},[u==null?void 0:u.id]),i.jsxs("div",{className:W("relative flex h-full flex-col border-r bg-white transition-all duration-300",e?"w-16":"w-72"),children:[i.jsx("button",{onClick:()=>t(!e),className:W("absolute z-10 flex items-center justify-center rounded-full border border-gray-200 bg-white shadow-sm transition-all hover:bg-gray-50","-right-3 top-4 h-6 w-6"),children:e?i.jsx(kr,{className:"h-4 w-4 text-gray-600"}):i.jsx(Gi,{className:"h-4 w-4 text-gray-600"})}),i.jsx("div",{className:W("flex items-center justify-center transition-all",e?"p-3":"p-2"),children:e?i.jsx("img",{src:"/logo-sidebar-reduzido.png",alt:"WhizPic",className:"h-auto w-full max-w-[40px]"}):i.jsx("img",{src:"/logo-principal-whizpic.png",alt:"WhizPic",className:"h-auto w-full max-w-[160px]"})}),i.jsx("nav",{className:W("flex-1 space-y-1 transition-all",e?"px-2":"px-3"),children:G2.map(b=>{var _;const g=b.subItems&&b.subItems.length>0,m=f(b),x=r.has(b.name);return e?g?i.jsx("button",{onClick:()=>p(b.name),className:W("flex w-full items-center justify-center rounded-lg py-2.5 text-sm font-medium transition-colors","px-2",m?"bg-[#6D56AB]/10 text-[#4a3b75]":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),title:b.name,children:i.jsx(b.icon,{className:W("h-5 w-5 flex-shrink-0",m?"text-[#6D56AB]":"text-gray-500")})},b.name):i.jsx(ur,{to:b.href||"#",className:W("flex items-center justify-center rounded-lg py-2.5 text-sm font-medium transition-colors","px-2",m?"bg-[#6D56AB]/10 text-[#4a3b75]":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),title:b.name,children:i.jsx(b.icon,{className:W("h-5 w-5 flex-shrink-0",m?"text-[#6D56AB]":"text-gray-500")})},b.name):g?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("button",{onClick:()=>p(b.name),className:W("flex w-full items-center gap-3 rounded-lg py-2.5 px-3 text-sm font-medium transition-colors",m?"bg-[#6D56AB]/10 text-[#4a3b75]":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[i.jsx(b.icon,{className:W("h-5 w-5 flex-shrink-0",m?"text-[#6D56AB]":"text-gray-500")}),i.jsx("span",{className:"flex-1 text-left",children:b.name}),i.jsx(sn,{className:W("h-4 w-4 transition-transform",x?"rotate-180":"",m?"text-[#6D56AB]":"text-gray-400")})]}),x&&i.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-[#6D56AB]/20 pl-3",children:(_=b.subItems)==null?void 0:_.map(S=>{const E=c.pathname===S.href,j=S.icon||b.icon;return i.jsx(ur,{to:S.href,children:i.jsxs("div",{className:W("flex w-full items-center gap-2 rounded-lg py-2 px-3 text-sm font-medium transition-colors",E?"bg-[#6D56AB] text-white hover:bg-[#5a4789]":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[i.jsx("div",{className:W("flex h-5 w-5 items-center justify-center rounded-full",E?"bg-white":"bg-gray-100"),children:i.jsx(j,{className:W("h-3 w-3",E?"text-[#6D56AB]":"text-gray-600")})}),i.jsx("span",{children:S.name})]})},S.name)})})]},b.name):i.jsxs(ur,{to:b.href||"#",className:W("flex items-center gap-3 rounded-lg py-2.5 px-3 text-sm font-medium transition-colors",m?"bg-[#6D56AB]/10 text-[#4a3b75]":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[i.jsx(b.icon,{className:W("h-5 w-5 flex-shrink-0",m?"text-[#6D56AB]":"text-gray-500")}),i.jsx("span",{children:b.name})]},b.name)})}),!e&&i.jsxs("div",{className:"mx-3 mb-4 rounded-xl bg-gradient-to-br from-[#6D56AB]/10 to-[#9982fc]/20 p-4",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsx(zu,{className:"h-4 w-4 text-[#6D56AB]"}),i.jsx("h3",{className:"text-sm font-semibold text-[#4a3b75]",children:"Seu Progresso"})]}),i.jsx("p",{className:"mb-3 text-xs text-[#4a3b75]",children:"Este ms"}),i.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-[#4a3b75]",children:"Livros criados"}),i.jsx("span",{className:"font-bold text-[#4a3b75]",children:o?"...":`${s.current} / ${s.limit}`})]}),i.jsx(Kn,{value:o?0:s.current/s.limit*100,className:"h-2"})]}),i.jsx("div",{className:W("border-t transition-all",e?"p-2":"p-4"),children:i.jsxs("div",{className:W("flex items-center",e?"justify-center":"gap-3"),children:[i.jsx($h,{className:W("border-2 border-[#6D56AB]/20 flex-shrink-0",e?"h-8 w-8":"h-10 w-10"),children:i.jsx(Bh,{className:"bg-gradient-to-br from-[#6D56AB] to-[#4a3b75] text-white",children:h})}),!e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:u==null?void 0:u.email}),i.jsx("p",{className:"text-xs text-gray-500",children:"Plano Gratuito"})]}),i.jsx(U,{variant:"ghost",size:"sm",onClick:()=>d(),className:"text-gray-500 hover:text-gray-900",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})]})}function Dn({children:e}){return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[i.jsx(K2,{}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})}function Ln({children:e}){const{user:t,loading:r}=$r();return r?i.jsx("div",{className:"flex h-screen items-center justify-center",children:i.jsx(Sl,{})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(U_,{to:"/login",replace:!0})}function J2(){return i.jsxs(i.Fragment,{children:[i.jsxs(z_,{children:[i.jsx(ir,{path:"/login",element:i.jsx(zk,{})}),i.jsx(ir,{path:"/reset-password",element:i.jsx(Wk,{})}),i.jsx(ir,{path:"/",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(Gk,{})})})}),i.jsx(ir,{path:"/meus-livros",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(s2,{})})})}),i.jsx(ir,{path:"/criar-livro",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(C2,{})})})}),i.jsx(ir,{path:"/livro/preview",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(wm,{})})})}),i.jsx(ir,{path:"/livro/:id",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(wm,{})})})}),i.jsx(ir,{path:"/configuracoes",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(F2,{})})})}),i.jsx(ir,{path:"/geracao-ia",element:i.jsx(Ln,{children:i.jsx(Dn,{children:i.jsx(q2,{})})})})]}),i.jsx(uN,{})]})}kc.createRoot(document.getElementById("root")).render(i.jsx(P.StrictMode,{children:i.jsx(Y_,{children:i.jsx(LE,{children:i.jsx(J2,{})})})}));
